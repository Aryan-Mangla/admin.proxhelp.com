(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Rh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mm={exports:{}},Ri={},fm={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn=Symbol.for("react.element"),Lh=Symbol.for("react.portal"),$h=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),Dh=Symbol.for("react.profiler"),Mh=Symbol.for("react.provider"),Oh=Symbol.for("react.context"),Fh=Symbol.for("react.forward_ref"),Uh=Symbol.for("react.suspense"),Bh=Symbol.for("react.memo"),Hh=Symbol.for("react.lazy"),pd=Symbol.iterator;function Vh(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var pm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hm=Object.assign,gm={};function Ks(e,t,r){this.props=e,this.context=t,this.refs=gm,this.updater=r||pm}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xm(){}xm.prototype=Ks.prototype;function nc(e,t,r){this.props=e,this.context=t,this.refs=gm,this.updater=r||pm}var ac=nc.prototype=new xm;ac.constructor=nc;hm(ac,Ks.prototype);ac.isPureReactComponent=!0;var hd=Array.isArray,ym=Object.prototype.hasOwnProperty,ic={current:null},vm={key:!0,ref:!0,__self:!0,__source:!0};function jm(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ym.call(t,n)&&!vm.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Xn,type:e,key:i,ref:o,props:a,_owner:ic.current}}function Wh(e,t){return{$$typeof:Xn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xn}function qh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var gd=/\/+/g;function io(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qh(""+e.key):t.toString(36)}function Ma(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xn:case Lh:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+io(o,0):n,hd(a)?(r="",e!=null&&(r=e.replace(gd,"$&/")+"/"),Ma(a,t,r,"",function(d){return d})):a!=null&&(oc(a)&&(a=Wh(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(gd,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",hd(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+io(i,l);o+=Ma(i,t,r,c,a)}else if(c=Vh(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+io(i,l++),o+=Ma(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fa(e,t,r){if(e==null)return e;var n=[],a=0;return Ma(e,n,"","",function(i){return t.call(r,i,a++)}),n}function Jh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Oa={transition:null},Gh={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Oa,ReactCurrentOwner:ic};function bm(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:fa,forEach:function(e,t,r){fa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fa(e,function(){t++}),t},toArray:function(e){return fa(e,function(t){return t})||[]},only:function(e){if(!oc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Ks;ue.Fragment=$h;ue.Profiler=Dh;ue.PureComponent=nc;ue.StrictMode=Ih;ue.Suspense=Uh;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;ue.act=bm;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=hm({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ic.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ym.call(t,c)&&!vm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Xn,type:e.type,key:a,ref:i,props:n,_owner:o}};ue.createContext=function(e){return e={$$typeof:Oh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mh,_context:e},e.Consumer=e};ue.createElement=jm;ue.createFactory=function(e){var t=jm.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:Fh,render:e}};ue.isValidElement=oc;ue.lazy=function(e){return{$$typeof:Hh,_payload:{_status:-1,_result:e},_init:Jh}};ue.memo=function(e,t){return{$$typeof:Bh,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Oa.transition;Oa.transition={};try{e()}finally{Oa.transition=t}};ue.unstable_act=bm;ue.useCallback=function(e,t){return tt.current.useCallback(e,t)};ue.useContext=function(e){return tt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return tt.current.useEffect(e,t)};ue.useId=function(){return tt.current.useId()};ue.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return tt.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};ue.useRef=function(e){return tt.current.useRef(e)};ue.useState=function(e){return tt.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return tt.current.useTransition()};ue.version="18.3.1";fm.exports=ue;var x=fm.exports;const jt=Rh(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=x,Qh=Symbol.for("react.element"),Zh=Symbol.for("react.fragment"),Yh=Object.prototype.hasOwnProperty,Xh=Kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eg={key:!0,ref:!0,__self:!0,__source:!0};function wm(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Yh.call(t,n)&&!eg.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Qh,type:e,key:i,ref:o,props:a,_owner:Xh.current}}Ri.Fragment=Zh;Ri.jsx=wm;Ri.jsxs=wm;mm.exports=Ri;var s=mm.exports,Nm={exports:{}},xt={},_m={exports:{}},km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,N){var z=_.length;_.push(N);e:for(;0<z;){var F=z-1>>>1,V=_[F];if(0<a(V,N))_[F]=N,_[z]=V,z=F;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var N=_[0],z=_.pop();if(z!==N){_[0]=z;e:for(var F=0,V=_.length,Y=V>>>1;F<Y;){var ee=2*(F+1)-1,fe=_[ee],me=ee+1,ae=_[me];if(0>a(fe,z))me<V&&0>a(ae,fe)?(_[F]=ae,_[me]=z,F=me):(_[F]=fe,_[ee]=z,F=ee);else if(me<V&&0>a(ae,z))_[F]=ae,_[me]=z,F=me;else break e}}return N}function a(_,N){var z=_.sortIndex-N.sortIndex;return z!==0?z:_.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,y=!1,v=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(_){for(var N=r(d);N!==null;){if(N.callback===null)n(d);else if(N.startTime<=_)n(d),N.sortIndex=N.expirationTime,t(c,N);else break;N=r(d)}}function w(_){if(j=!1,f(_),!v)if(r(c)!==null)v=!0,H(k);else{var N=r(d);N!==null&&U(w,N.startTime-_)}}function k(_,N){v=!1,j&&(j=!1,p(S),S=-1),y=!0;var z=h;try{for(f(N),m=r(c);m!==null&&(!(m.expirationTime>N)||_&&!Q());){var F=m.callback;if(typeof F=="function"){m.callback=null,h=m.priorityLevel;var V=F(m.expirationTime<=N);N=e.unstable_now(),typeof V=="function"?m.callback=V:m===r(c)&&n(c),f(N)}else n(c);m=r(c)}if(m!==null)var Y=!0;else{var ee=r(d);ee!==null&&U(w,ee.startTime-N),Y=!1}return Y}finally{m=null,h=z,y=!1}}var A=!1,C=null,S=-1,E=5,D=-1;function Q(){return!(e.unstable_now()-D<E)}function ne(){if(C!==null){var _=e.unstable_now();D=_;var N=!0;try{N=C(!0,_)}finally{N?R():(A=!1,C=null)}}else A=!1}var R;if(typeof g=="function")R=function(){g(ne)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,I=Z.port2;Z.port1.onmessage=ne,R=function(){I.postMessage(null)}}else R=function(){b(ne,0)};function H(_){C=_,A||(A=!0,R())}function U(_,N){S=b(function(){_(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,H(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var z=h;h=N;try{return _()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,N){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var z=h;h=_;try{return N()}finally{h=z}},e.unstable_scheduleCallback=function(_,N,z){var F=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?F+z:F):z=F,_){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=z+V,_={id:u++,callback:N,priorityLevel:_,startTime:z,expirationTime:V,sortIndex:-1},z>F?(_.sortIndex=z,t(d,_),r(c)===null&&_===r(d)&&(j?(p(S),S=-1):j=!0,U(w,z-F))):(_.sortIndex=V,t(c,_),v||y||(v=!0,H(k))),_},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(_){var N=h;return function(){var z=h;h=N;try{return _.apply(this,arguments)}finally{h=z}}}})(km);_m.exports=km;var tg=_m.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg=x,ht=tg;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sm=new Set,Ln={};function ns(e,t){Ms(e,t),Ms(e+"Capture",t)}function Ms(e,t){for(Ln[e]=t,e=0;e<t.length;e++)Sm.add(t[e])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=Object.prototype.hasOwnProperty,sg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xd={},yd={};function ng(e){return nl.call(yd,e)?!0:nl.call(xd,e)?!1:sg.test(e)?yd[e]=!0:(xd[e]=!0,!1)}function ag(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ig(e,t,r,n){if(t===null||typeof t>"u"||ag(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var lc=/[\-:]([a-z])/g;function cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lc,cc);We[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lc,cc);We[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lc,cc);We[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function dc(e,t,r,n){var a=We.hasOwnProperty(t)?We[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ig(t,r,a,n)&&(r=null),n||a===null?ng(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ur=rg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),vs=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),uc=Symbol.for("react.strict_mode"),al=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),mc=Symbol.for("react.forward_ref"),il=Symbol.for("react.suspense"),ol=Symbol.for("react.suspense_list"),fc=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),Pm=Symbol.for("react.offscreen"),vd=Symbol.iterator;function cn(e){return e===null||typeof e!="object"?null:(e=vd&&e[vd]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,oo;function bn(e){if(oo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);oo=t&&t[1]||""}return`
`+oo+e}var lo=!1;function co(e,t){if(!e||lo)return"";lo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{lo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bn(e):""}function og(e){switch(e.tag){case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return e=co(e.type,!1),e;case 11:return e=co(e.type.render,!1),e;case 1:return e=co(e.type,!0),e;default:return""}}function ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case js:return"Fragment";case vs:return"Portal";case al:return"Profiler";case uc:return"StrictMode";case il:return"Suspense";case ol:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Em:return(e.displayName||"Context")+".Consumer";case Cm:return(e._context.displayName||"Context")+".Provider";case mc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fc:return t=e.displayName||null,t!==null?t:ll(e.type)||"Memo";case pr:t=e._payload,e=e._init;try{return ll(e(t))}catch{}}return null}function lg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ll(t);case 8:return t===uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cg(e){var t=Tm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ha(e){e._valueTracker||(e._valueTracker=cg(e))}function Am(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Tm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cl(e,t){var r=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zm(e,t){t=t.checked,t!=null&&dc(e,"checked",t,!1)}function dl(e,t){zm(e,t);var r=Pr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ul(e,t.type,r):t.hasOwnProperty("defaultValue")&&ul(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ul(e,t,r){(t!=="number"||si(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wn=Array.isArray;function As(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(wn(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pr(r)}}function Rm(e,t){var r=Pr(t.value),n=Pr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Nd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ga,$m=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $n(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dg=["Webkit","ms","Moz","O"];Object.keys(kn).forEach(function(e){dg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kn[t]=kn[e]})});function Im(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kn.hasOwnProperty(e)&&kn[e]?(""+t).trim():t+"px"}function Dm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Im(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var ug=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(e,t){if(t){if(ug[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function hl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=null;function pc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,zs=null,Rs=null;function _d(e){if(e=ra(e)){if(typeof xl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Mi(t),xl(e.stateNode,e.type,t))}}function Mm(e){zs?Rs?Rs.push(e):Rs=[e]:zs=e}function Om(){if(zs){var e=zs,t=Rs;if(Rs=zs=null,_d(e),t)for(e=0;e<t.length;e++)_d(t[e])}}function Fm(e,t){return e(t)}function Um(){}var uo=!1;function Bm(e,t,r){if(uo)return e(t,r);uo=!0;try{return Fm(e,t,r)}finally{uo=!1,(zs!==null||Rs!==null)&&(Um(),Om())}}function In(e,t){var r=e.stateNode;if(r===null)return null;var n=Mi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var yl=!1;if(ir)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){yl=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{yl=!1}function mg(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Sn=!1,ni=null,ai=!1,vl=null,fg={onError:function(e){Sn=!0,ni=e}};function pg(e,t,r,n,a,i,o,l,c){Sn=!1,ni=null,mg.apply(fg,arguments)}function hg(e,t,r,n,a,i,o,l,c){if(pg.apply(this,arguments),Sn){if(Sn){var d=ni;Sn=!1,ni=null}else throw Error(O(198));ai||(ai=!0,vl=d)}}function as(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Hm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kd(e){if(as(e)!==e)throw Error(O(188))}function gg(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return kd(a),e;if(i===n)return kd(a),t;i=i.sibling}throw Error(O(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Vm(e){return e=gg(e),e!==null?Wm(e):null}function Wm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wm(e);if(t!==null)return t;e=e.sibling}return null}var qm=ht.unstable_scheduleCallback,Sd=ht.unstable_cancelCallback,xg=ht.unstable_shouldYield,yg=ht.unstable_requestPaint,ze=ht.unstable_now,vg=ht.unstable_getCurrentPriorityLevel,hc=ht.unstable_ImmediatePriority,Jm=ht.unstable_UserBlockingPriority,ii=ht.unstable_NormalPriority,jg=ht.unstable_LowPriority,Gm=ht.unstable_IdlePriority,Li=null,Wt=null;function bg(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Li,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:_g,wg=Math.log,Ng=Math.LN2;function _g(e){return e>>>=0,e===0?32:31-(wg(e)/Ng|0)|0}var xa=64,ya=4194304;function Nn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Nn(l):(i&=o,i!==0&&(n=Nn(i)))}else o=r&~a,o!==0?n=Nn(o):i!==0&&(n=Nn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Lt(t),a=1<<r,n|=e[r],t&=~a;return n}function kg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Lt(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=kg(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function jl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Km(){var e=xa;return xa<<=1,!(xa&4194240)&&(xa=64),e}function mo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ea(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=r}function Cg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Lt(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function gc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Lt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ye=0;function Qm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zm,xc,Ym,Xm,ef,bl=!1,va=[],jr=null,br=null,wr=null,Dn=new Map,Mn=new Map,gr=[],Eg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cd(e,t){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(t.pointerId)}}function un(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ra(t),t!==null&&xc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Pg(e,t,r,n,a){switch(t){case"focusin":return jr=un(jr,e,t,r,n,a),!0;case"dragenter":return br=un(br,e,t,r,n,a),!0;case"mouseover":return wr=un(wr,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Dn.set(i,un(Dn.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Mn.set(i,un(Mn.get(i)||null,e,t,r,n,a)),!0}return!1}function tf(e){var t=Hr(e.target);if(t!==null){var r=as(t);if(r!==null){if(t=r.tag,t===13){if(t=Hm(r),t!==null){e.blockedOn=t,ef(e.priority,function(){Ym(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gl=n,r.target.dispatchEvent(n),gl=null}else return t=ra(r),t!==null&&xc(t),e.blockedOn=r,!1;t.shift()}return!0}function Ed(e,t,r){Fa(e)&&r.delete(t)}function Tg(){bl=!1,jr!==null&&Fa(jr)&&(jr=null),br!==null&&Fa(br)&&(br=null),wr!==null&&Fa(wr)&&(wr=null),Dn.forEach(Ed),Mn.forEach(Ed)}function mn(e,t){e.blockedOn===t&&(e.blockedOn=null,bl||(bl=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Tg)))}function On(e){function t(a){return mn(a,e)}if(0<va.length){mn(va[0],e);for(var r=1;r<va.length;r++){var n=va[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jr!==null&&mn(jr,e),br!==null&&mn(br,e),wr!==null&&mn(wr,e),Dn.forEach(t),Mn.forEach(t),r=0;r<gr.length;r++)n=gr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)tf(r),r.blockedOn===null&&gr.shift()}var Ls=ur.ReactCurrentBatchConfig,li=!0;function Ag(e,t,r,n){var a=ye,i=Ls.transition;Ls.transition=null;try{ye=1,yc(e,t,r,n)}finally{ye=a,Ls.transition=i}}function zg(e,t,r,n){var a=ye,i=Ls.transition;Ls.transition=null;try{ye=4,yc(e,t,r,n)}finally{ye=a,Ls.transition=i}}function yc(e,t,r,n){if(li){var a=wl(e,t,r,n);if(a===null)wo(e,t,n,ci,r),Cd(e,n);else if(Pg(a,e,t,r,n))n.stopPropagation();else if(Cd(e,n),t&4&&-1<Eg.indexOf(e)){for(;a!==null;){var i=ra(a);if(i!==null&&Zm(i),i=wl(e,t,r,n),i===null&&wo(e,t,n,ci,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else wo(e,t,n,null,r)}}var ci=null;function wl(e,t,r,n){if(ci=null,e=pc(n),e=Hr(e),e!==null)if(t=as(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Hm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ci=e,null}function rf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vg()){case hc:return 1;case Jm:return 4;case ii:case jg:return 16;case Gm:return 536870912;default:return 16}default:return 16}}var yr=null,vc=null,Ua=null;function sf(){if(Ua)return Ua;var e,t=vc,r=t.length,n,a="value"in yr?yr.value:yr.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Ua=a.slice(e,1<n?1-n:void 0)}function Ba(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ja(){return!0}function Pd(){return!1}function yt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ja:Pd,this.isPropagationStopped=Pd,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),t}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=yt(Qs),ta=Ee({},Qs,{view:0,detail:0}),Rg=yt(ta),fo,po,fn,$i=Ee({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&e.type==="mousemove"?(fo=e.screenX-fn.screenX,po=e.screenY-fn.screenY):po=fo=0,fn=e),fo)},movementY:function(e){return"movementY"in e?e.movementY:po}}),Td=yt($i),Lg=Ee({},$i,{dataTransfer:0}),$g=yt(Lg),Ig=Ee({},ta,{relatedTarget:0}),ho=yt(Ig),Dg=Ee({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Mg=yt(Dg),Og=Ee({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fg=yt(Og),Ug=Ee({},Qs,{data:0}),Ad=yt(Ug),Bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vg[e])?!!t[e]:!1}function bc(){return Wg}var qg=Ee({},ta,{key:function(e){if(e.key){var t=Bg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ba(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(e){return e.type==="keypress"?Ba(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ba(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jg=yt(qg),Gg=Ee({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zd=yt(Gg),Kg=Ee({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),Qg=yt(Kg),Zg=Ee({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yg=yt(Zg),Xg=Ee({},$i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ex=yt(Xg),tx=[9,13,27,32],wc=ir&&"CompositionEvent"in window,Cn=null;ir&&"documentMode"in document&&(Cn=document.documentMode);var rx=ir&&"TextEvent"in window&&!Cn,nf=ir&&(!wc||Cn&&8<Cn&&11>=Cn),Rd=" ",Ld=!1;function af(e,t){switch(e){case"keyup":return tx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bs=!1;function sx(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(Ld=!0,Rd);case"textInput":return e=t.data,e===Rd&&Ld?null:e;default:return null}}function nx(e,t){if(bs)return e==="compositionend"||!wc&&af(e,t)?(e=sf(),Ua=vc=yr=null,bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nf&&t.locale!=="ko"?null:t.data;default:return null}}var ax={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ax[e.type]:t==="textarea"}function lf(e,t,r,n){Mm(n),t=di(t,"onChange"),0<t.length&&(r=new jc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var En=null,Fn=null;function ix(e){vf(e,0)}function Ii(e){var t=_s(e);if(Am(t))return e}function ox(e,t){if(e==="change")return t}var cf=!1;if(ir){var go;if(ir){var xo="oninput"in document;if(!xo){var Id=document.createElement("div");Id.setAttribute("oninput","return;"),xo=typeof Id.oninput=="function"}go=xo}else go=!1;cf=go&&(!document.documentMode||9<document.documentMode)}function Dd(){En&&(En.detachEvent("onpropertychange",df),Fn=En=null)}function df(e){if(e.propertyName==="value"&&Ii(Fn)){var t=[];lf(t,Fn,e,pc(e)),Bm(ix,t)}}function lx(e,t,r){e==="focusin"?(Dd(),En=t,Fn=r,En.attachEvent("onpropertychange",df)):e==="focusout"&&Dd()}function cx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii(Fn)}function dx(e,t){if(e==="click")return Ii(t)}function ux(e,t){if(e==="input"||e==="change")return Ii(t)}function mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:mx;function Un(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!nl.call(t,a)||!It(e[a],t[a]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Od(e,t){var r=Md(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Md(r)}}function uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mf(){for(var e=window,t=si();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=si(e.document)}return t}function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fx(e){var t=mf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&uf(r.ownerDocument.documentElement,r)){if(n!==null&&Nc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Od(r,i);var o=Od(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var px=ir&&"documentMode"in document&&11>=document.documentMode,ws=null,Nl=null,Pn=null,_l=!1;function Fd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_l||ws==null||ws!==si(n)||(n=ws,"selectionStart"in n&&Nc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pn&&Un(Pn,n)||(Pn=n,n=di(Nl,"onSelect"),0<n.length&&(t=new jc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ws)))}function ba(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ns={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},yo={},ff={};ir&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Di(e){if(yo[e])return yo[e];if(!Ns[e])return e;var t=Ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ff)return yo[e]=t[r];return e}var pf=Di("animationend"),hf=Di("animationiteration"),gf=Di("animationstart"),xf=Di("transitionend"),yf=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){yf.set(e,t),ns(t,[e])}for(var vo=0;vo<Ud.length;vo++){var jo=Ud[vo],hx=jo.toLowerCase(),gx=jo[0].toUpperCase()+jo.slice(1);Rr(hx,"on"+gx)}Rr(pf,"onAnimationEnd");Rr(hf,"onAnimationIteration");Rr(gf,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(xf,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function Bd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hg(n,t,void 0,e),e.currentTarget=null}function vf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Bd(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Bd(a,l,d),i=c}}}if(ai)throw e=vl,ai=!1,vl=null,e}function be(e,t){var r=t[Pl];r===void 0&&(r=t[Pl]=new Set);var n=e+"__bubble";r.has(n)||(jf(t,e,2,!1),r.add(n))}function bo(e,t,r){var n=0;t&&(n|=4),jf(r,e,n,t)}var wa="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[wa]){e[wa]=!0,Sm.forEach(function(r){r!=="selectionchange"&&(xx.has(r)||bo(r,!1,e),bo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wa]||(t[wa]=!0,bo("selectionchange",!1,t))}}function jf(e,t,r,n){switch(rf(t)){case 1:var a=Ag;break;case 4:a=zg;break;default:a=yc}r=a.bind(null,t,r,e),a=void 0,!yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function wo(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Hr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Bm(function(){var d=i,u=pc(r),m=[];e:{var h=yf.get(e);if(h!==void 0){var y=jc,v=e;switch(e){case"keypress":if(Ba(r)===0)break e;case"keydown":case"keyup":y=Jg;break;case"focusin":v="focus",y=ho;break;case"focusout":v="blur",y=ho;break;case"beforeblur":case"afterblur":y=ho;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Qg;break;case pf:case hf:case gf:y=Mg;break;case xf:y=Yg;break;case"scroll":y=Rg;break;case"wheel":y=ex;break;case"copy":case"cut":case"paste":y=Fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=zd}var j=(t&4)!==0,b=!j&&e==="scroll",p=j?h!==null?h+"Capture":null:h;j=[];for(var g=d,f;g!==null;){f=g;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,p!==null&&(w=In(g,p),w!=null&&j.push(Hn(g,w,f)))),b)break;g=g.return}0<j.length&&(h=new y(h,v,null,r,u),m.push({event:h,listeners:j}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&r!==gl&&(v=r.relatedTarget||r.fromElement)&&(Hr(v)||v[or]))break e;if((y||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=d,v=v?Hr(v):null,v!==null&&(b=as(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=d),y!==v)){if(j=Td,w="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(j=zd,w="onPointerLeave",p="onPointerEnter",g="pointer"),b=y==null?h:_s(y),f=v==null?h:_s(v),h=new j(w,g+"leave",y,r,u),h.target=b,h.relatedTarget=f,w=null,Hr(u)===d&&(j=new j(p,g+"enter",v,r,u),j.target=f,j.relatedTarget=b,w=j),b=w,y&&v)t:{for(j=y,p=v,g=0,f=j;f;f=ds(f))g++;for(f=0,w=p;w;w=ds(w))f++;for(;0<g-f;)j=ds(j),g--;for(;0<f-g;)p=ds(p),f--;for(;g--;){if(j===p||p!==null&&j===p.alternate)break t;j=ds(j),p=ds(p)}j=null}else j=null;y!==null&&Hd(m,h,y,j,!1),v!==null&&b!==null&&Hd(m,b,v,j,!0)}}e:{if(h=d?_s(d):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var k=ox;else if($d(h))if(cf)k=ux;else{k=cx;var A=lx}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=dx);if(k&&(k=k(e,d))){lf(m,k,r,u);break e}A&&A(e,h,d),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&ul(h,"number",h.value)}switch(A=d?_s(d):window,e){case"focusin":($d(A)||A.contentEditable==="true")&&(ws=A,Nl=d,Pn=null);break;case"focusout":Pn=Nl=ws=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Fd(m,r,u);break;case"selectionchange":if(px)break;case"keydown":case"keyup":Fd(m,r,u)}var C;if(wc)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else bs?af(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(nf&&r.locale!=="ko"&&(bs||S!=="onCompositionStart"?S==="onCompositionEnd"&&bs&&(C=sf()):(yr=u,vc="value"in yr?yr.value:yr.textContent,bs=!0)),A=di(d,S),0<A.length&&(S=new Ad(S,e,null,r,u),m.push({event:S,listeners:A}),C?S.data=C:(C=of(r),C!==null&&(S.data=C)))),(C=rx?sx(e,r):nx(e,r))&&(d=di(d,"onBeforeInput"),0<d.length&&(u=new Ad("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=C))}vf(m,t)})}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function di(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=In(e,r),i!=null&&n.unshift(Hn(e,i,a)),i=In(e,t),i!=null&&n.push(Hn(e,i,a))),e=e.return}return n}function ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hd(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=In(r,i),c!=null&&o.unshift(Hn(r,c,l))):a||(c=In(r,i),c!=null&&o.push(Hn(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var yx=/\r\n?/g,vx=/\u0000|\uFFFD/g;function Vd(e){return(typeof e=="string"?e:""+e).replace(yx,`
`).replace(vx,"")}function Na(e,t,r){if(t=Vd(t),Vd(e)!==t&&r)throw Error(O(425))}function ui(){}var kl=null,Sl=null;function Cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,bx=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(e){return Wd.resolve(null).then(e).catch(wx)}:El;function wx(e){setTimeout(function(){throw e})}function No(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),On(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);On(t)}function Nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Zs,Vn="__reactProps$"+Zs,or="__reactContainer$"+Zs,Pl="__reactEvents$"+Zs,Nx="__reactListeners$"+Zs,_x="__reactHandles$"+Zs;function Hr(e){var t=e[Ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[or]||r[Ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qd(e);e!==null;){if(r=e[Ht])return r;e=qd(e)}return t}e=r,r=e.parentNode}return null}function ra(e){return e=e[Ht]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Mi(e){return e[Vn]||null}var Tl=[],ks=-1;function Lr(e){return{current:e}}function we(e){0>ks||(e.current=Tl[ks],Tl[ks]=null,ks--)}function je(e,t){ks++,Tl[ks]=e.current,e.current=t}var Tr={},Qe=Lr(Tr),at=Lr(!1),Yr=Tr;function Os(e,t){var r=e.type.contextTypes;if(!r)return Tr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function it(e){return e=e.childContextTypes,e!=null}function mi(){we(at),we(Qe)}function Jd(e,t,r){if(Qe.current!==Tr)throw Error(O(168));je(Qe,t),je(at,r)}function bf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(O(108,lg(e)||"Unknown",a));return Ee({},r,n)}function fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,Yr=Qe.current,je(Qe,e),je(at,at.current),!0}function Gd(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=bf(e,t,Yr),n.__reactInternalMemoizedMergedChildContext=e,we(at),we(Qe),je(Qe,e)):we(at),je(at,r)}var Xt=null,Oi=!1,_o=!1;function wf(e){Xt===null?Xt=[e]:Xt.push(e)}function kx(e){Oi=!0,wf(e)}function $r(){if(!_o&&Xt!==null){_o=!0;var e=0,t=ye;try{var r=Xt;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xt=null,Oi=!1}catch(a){throw Xt!==null&&(Xt=Xt.slice(e+1)),qm(hc,$r),a}finally{ye=t,_o=!1}}return null}var Ss=[],Cs=0,pi=null,hi=0,bt=[],wt=0,Xr=null,er=1,tr="";function Ur(e,t){Ss[Cs++]=hi,Ss[Cs++]=pi,pi=e,hi=t}function Nf(e,t,r){bt[wt++]=er,bt[wt++]=tr,bt[wt++]=Xr,Xr=e;var n=er;e=tr;var a=32-Lt(n)-1;n&=~(1<<a),r+=1;var i=32-Lt(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,er=1<<32-Lt(t)+a|r<<a|n,tr=i+e}else er=1<<i|r<<a|n,tr=e}function _c(e){e.return!==null&&(Ur(e,1),Nf(e,1,0))}function kc(e){for(;e===pi;)pi=Ss[--Cs],Ss[Cs]=null,hi=Ss[--Cs],Ss[Cs]=null;for(;e===Xr;)Xr=bt[--wt],bt[wt]=null,tr=bt[--wt],bt[wt]=null,er=bt[--wt],bt[wt]=null}var ft=null,mt=null,_e=!1,zt=null;function _f(e,t){var r=Nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,mt=Nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xr!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ft=e,mt=null,!0):!1;default:return!1}}function Al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zl(e){if(_e){var t=mt;if(t){var r=t;if(!Kd(e,t)){if(Al(e))throw Error(O(418));t=Nr(r.nextSibling);var n=ft;t&&Kd(e,t)?_f(n,r):(e.flags=e.flags&-4097|2,_e=!1,ft=e)}}else{if(Al(e))throw Error(O(418));e.flags=e.flags&-4097|2,_e=!1,ft=e}}}function Qd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function _a(e){if(e!==ft)return!1;if(!_e)return Qd(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cl(e.type,e.memoizedProps)),t&&(t=mt)){if(Al(e))throw kf(),Error(O(418));for(;t;)_f(e,t),t=Nr(t.nextSibling)}if(Qd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mt=Nr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=ft?Nr(e.stateNode.nextSibling):null;return!0}function kf(){for(var e=mt;e;)e=Nr(e.nextSibling)}function Fs(){mt=ft=null,_e=!1}function Sc(e){zt===null?zt=[e]:zt.push(e)}var Sx=ur.ReactCurrentBatchConfig;function pn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function ka(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zd(e){var t=e._init;return t(e._payload)}function Sf(e){function t(p,g){if(e){var f=p.deletions;f===null?(p.deletions=[g],p.flags|=16):f.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function a(p,g){return p=Cr(p,g),p.index=0,p.sibling=null,p}function i(p,g,f){return p.index=f,e?(f=p.alternate,f!==null?(f=f.index,f<g?(p.flags|=2,g):f):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,f,w){return g===null||g.tag!==6?(g=Ao(f,p.mode,w),g.return=p,g):(g=a(g,f),g.return=p,g)}function c(p,g,f,w){var k=f.type;return k===js?u(p,g,f.props.children,w,f.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pr&&Zd(k)===g.type)?(w=a(g,f.props),w.ref=pn(p,g,f),w.return=p,w):(w=Ka(f.type,f.key,f.props,null,p.mode,w),w.ref=pn(p,g,f),w.return=p,w)}function d(p,g,f,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==f.containerInfo||g.stateNode.implementation!==f.implementation?(g=zo(f,p.mode,w),g.return=p,g):(g=a(g,f.children||[]),g.return=p,g)}function u(p,g,f,w,k){return g===null||g.tag!==7?(g=Kr(f,p.mode,w,k),g.return=p,g):(g=a(g,f),g.return=p,g)}function m(p,g,f){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ao(""+g,p.mode,f),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pa:return f=Ka(g.type,g.key,g.props,null,p.mode,f),f.ref=pn(p,null,g),f.return=p,f;case vs:return g=zo(g,p.mode,f),g.return=p,g;case pr:var w=g._init;return m(p,w(g._payload),f)}if(wn(g)||cn(g))return g=Kr(g,p.mode,f,null),g.return=p,g;ka(p,g)}return null}function h(p,g,f,w){var k=g!==null?g.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:l(p,g,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case pa:return f.key===k?c(p,g,f,w):null;case vs:return f.key===k?d(p,g,f,w):null;case pr:return k=f._init,h(p,g,k(f._payload),w)}if(wn(f)||cn(f))return k!==null?null:u(p,g,f,w,null);ka(p,f)}return null}function y(p,g,f,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(f)||null,l(g,p,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pa:return p=p.get(w.key===null?f:w.key)||null,c(g,p,w,k);case vs:return p=p.get(w.key===null?f:w.key)||null,d(g,p,w,k);case pr:var A=w._init;return y(p,g,f,A(w._payload),k)}if(wn(w)||cn(w))return p=p.get(f)||null,u(g,p,w,k,null);ka(g,w)}return null}function v(p,g,f,w){for(var k=null,A=null,C=g,S=g=0,E=null;C!==null&&S<f.length;S++){C.index>S?(E=C,C=null):E=C.sibling;var D=h(p,C,f[S],w);if(D===null){C===null&&(C=E);break}e&&C&&D.alternate===null&&t(p,C),g=i(D,g,S),A===null?k=D:A.sibling=D,A=D,C=E}if(S===f.length)return r(p,C),_e&&Ur(p,S),k;if(C===null){for(;S<f.length;S++)C=m(p,f[S],w),C!==null&&(g=i(C,g,S),A===null?k=C:A.sibling=C,A=C);return _e&&Ur(p,S),k}for(C=n(p,C);S<f.length;S++)E=y(C,p,S,f[S],w),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?S:E.key),g=i(E,g,S),A===null?k=E:A.sibling=E,A=E);return e&&C.forEach(function(Q){return t(p,Q)}),_e&&Ur(p,S),k}function j(p,g,f,w){var k=cn(f);if(typeof k!="function")throw Error(O(150));if(f=k.call(f),f==null)throw Error(O(151));for(var A=k=null,C=g,S=g=0,E=null,D=f.next();C!==null&&!D.done;S++,D=f.next()){C.index>S?(E=C,C=null):E=C.sibling;var Q=h(p,C,D.value,w);if(Q===null){C===null&&(C=E);break}e&&C&&Q.alternate===null&&t(p,C),g=i(Q,g,S),A===null?k=Q:A.sibling=Q,A=Q,C=E}if(D.done)return r(p,C),_e&&Ur(p,S),k;if(C===null){for(;!D.done;S++,D=f.next())D=m(p,D.value,w),D!==null&&(g=i(D,g,S),A===null?k=D:A.sibling=D,A=D);return _e&&Ur(p,S),k}for(C=n(p,C);!D.done;S++,D=f.next())D=y(C,p,S,D.value,w),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?S:D.key),g=i(D,g,S),A===null?k=D:A.sibling=D,A=D);return e&&C.forEach(function(ne){return t(p,ne)}),_e&&Ur(p,S),k}function b(p,g,f,w){if(typeof f=="object"&&f!==null&&f.type===js&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case pa:e:{for(var k=f.key,A=g;A!==null;){if(A.key===k){if(k=f.type,k===js){if(A.tag===7){r(p,A.sibling),g=a(A,f.props.children),g.return=p,p=g;break e}}else if(A.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pr&&Zd(k)===A.type){r(p,A.sibling),g=a(A,f.props),g.ref=pn(p,A,f),g.return=p,p=g;break e}r(p,A);break}else t(p,A);A=A.sibling}f.type===js?(g=Kr(f.props.children,p.mode,w,f.key),g.return=p,p=g):(w=Ka(f.type,f.key,f.props,null,p.mode,w),w.ref=pn(p,g,f),w.return=p,p=w)}return o(p);case vs:e:{for(A=f.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===f.containerInfo&&g.stateNode.implementation===f.implementation){r(p,g.sibling),g=a(g,f.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=zo(f,p.mode,w),g.return=p,p=g}return o(p);case pr:return A=f._init,b(p,g,A(f._payload),w)}if(wn(f))return v(p,g,f,w);if(cn(f))return j(p,g,f,w);ka(p,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,g!==null&&g.tag===6?(r(p,g.sibling),g=a(g,f),g.return=p,p=g):(r(p,g),g=Ao(f,p.mode,w),g.return=p,p=g),o(p)):r(p,g)}return b}var Us=Sf(!0),Cf=Sf(!1),gi=Lr(null),xi=null,Es=null,Cc=null;function Ec(){Cc=Es=xi=null}function Pc(e){var t=gi.current;we(gi),e._currentValue=t}function Rl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $s(e,t){xi=e,Cc=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Cc!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(xi===null)throw Error(O(308));Es=e,xi.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Vr=null;function Tc(e){Vr===null?Vr=[e]:Vr.push(e)}function Ef(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Tc(t)):(r.next=a.next,a.next=r),t.interleaved=r,lr(e,n)}function lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hr=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,lr(e,r)}return a=n.interleaved,a===null?(t.next=t,Tc(n)):(t.next=a.next,a.next=t),n.interleaved=t,lr(e,r)}function Ha(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gc(e,r)}}function Yd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yi(e,t,r,n){var a=e.updateQueue;hr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,y=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,j=l;switch(h=t,y=r,j.tag){case 1:if(v=j.payload,typeof v=="function"){m=v.call(y,m,h);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=j.payload,h=typeof v=="function"?v.call(y,m,h):v,h==null)break e;m=Ee({},m,h);break e;case 2:hr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=y,c=m):u=u.next=y,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ts|=o,e.lanes=o,e.memoizedState=m}}function Xd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(O(191,a));a.call(n)}}}var sa={},qt=Lr(sa),Wn=Lr(sa),qn=Lr(sa);function Wr(e){if(e===sa)throw Error(O(174));return e}function zc(e,t){switch(je(qn,t),je(Wn,e),je(qt,sa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fl(t,e)}we(qt),je(qt,t)}function Bs(){we(qt),we(Wn),we(qn)}function Tf(e){Wr(qn.current);var t=Wr(qt.current),r=fl(t,e.type);t!==r&&(je(Wn,e),je(qt,r))}function Rc(e){Wn.current===e&&(we(qt),we(Wn))}var Se=Lr(0);function vi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ko=[];function Lc(){for(var e=0;e<ko.length;e++)ko[e]._workInProgressVersionPrimary=null;ko.length=0}var Va=ur.ReactCurrentDispatcher,So=ur.ReactCurrentBatchConfig,es=0,Ce=null,Ie=null,Me=null,ji=!1,Tn=!1,Jn=0,Cx=0;function qe(){throw Error(O(321))}function $c(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!It(e[r],t[r]))return!1;return!0}function Ic(e,t,r,n,a,i){if(es=i,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Va.current=e===null||e.memoizedState===null?Ax:zx,e=r(n,a),Tn){i=0;do{if(Tn=!1,Jn=0,25<=i)throw Error(O(301));i+=1,Me=Ie=null,t.updateQueue=null,Va.current=Rx,e=r(n,a)}while(Tn)}if(Va.current=bi,t=Ie!==null&&Ie.next!==null,es=0,Me=Ie=Ce=null,ji=!1,t)throw Error(O(300));return e}function Dc(){var e=Jn!==0;return Jn=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ce.memoizedState=Me=e:Me=Me.next=e,Me}function St(){if(Ie===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Me===null?Ce.memoizedState:Me.next;if(t!==null)Me=t,Ie=e;else{if(e===null)throw Error(O(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Me===null?Ce.memoizedState=Me=e:Me=Me.next=e}return Me}function Gn(e,t){return typeof t=="function"?t(e):t}function Co(e){var t=St(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Ie,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((es&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,Ce.lanes|=u,ts|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,It(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ce.lanes|=i,ts|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Eo(e){var t=St(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);It(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Af(){}function zf(e,t){var r=Ce,n=St(),a=t(),i=!It(n.memoizedState,a);if(i&&(n.memoizedState=a,nt=!0),n=n.queue,Mc($f.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,Kn(9,Lf.bind(null,r,n,a,t),void 0,null),Fe===null)throw Error(O(349));es&30||Rf(r,t,a)}return a}function Rf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Lf(e,t,r,n){t.value=r,t.getSnapshot=n,If(t)&&Df(e)}function $f(e,t,r){return r(function(){If(t)&&Df(e)})}function If(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!It(e,r)}catch{return!0}}function Df(e){var t=lr(e,1);t!==null&&$t(t,e,1,-1)}function eu(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},t.queue=e,e=e.dispatch=Tx.bind(null,Ce,e),[t.memoizedState,e]}function Kn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Mf(){return St().memoizedState}function Wa(e,t,r,n){var a=Bt();Ce.flags|=e,a.memoizedState=Kn(1|t,r,void 0,n===void 0?null:n)}function Fi(e,t,r,n){var a=St();n=n===void 0?null:n;var i=void 0;if(Ie!==null){var o=Ie.memoizedState;if(i=o.destroy,n!==null&&$c(n,o.deps)){a.memoizedState=Kn(t,r,i,n);return}}Ce.flags|=e,a.memoizedState=Kn(1|t,r,i,n)}function tu(e,t){return Wa(8390656,8,e,t)}function Mc(e,t){return Fi(2048,8,e,t)}function Of(e,t){return Fi(4,2,e,t)}function Ff(e,t){return Fi(4,4,e,t)}function Uf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bf(e,t,r){return r=r!=null?r.concat([e]):null,Fi(4,4,Uf.bind(null,t,e),r)}function Oc(){}function Hf(e,t){var r=St();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$c(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vf(e,t){var r=St();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$c(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wf(e,t,r){return es&21?(It(r,t)||(r=Km(),Ce.lanes|=r,ts|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r)}function Ex(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=So.transition;So.transition={};try{e(!1),t()}finally{ye=r,So.transition=n}}function qf(){return St().memoizedState}function Px(e,t,r){var n=Sr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jf(e))Gf(t,r);else if(r=Ef(e,t,r,n),r!==null){var a=Xe();$t(r,e,n,a),Kf(r,t,n)}}function Tx(e,t,r){var n=Sr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jf(e))Gf(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,It(l,o)){var c=t.interleaved;c===null?(a.next=a,Tc(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Ef(e,t,a,n),r!==null&&(a=Xe(),$t(r,e,n,a),Kf(r,t,n))}}function Jf(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Gf(e,t){Tn=ji=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gc(e,r)}}var bi={readContext:kt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},Ax={readContext:kt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:tu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wa(4194308,4,Uf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wa(4,2,e,t)},useMemo:function(e,t){var r=Bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Px.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:eu,useDebugValue:Oc,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=eu(!1),t=e[0];return e=Ex.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ce,a=Bt();if(_e){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),Fe===null)throw Error(O(349));es&30||Rf(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,tu($f.bind(null,n,i,e),[e]),n.flags|=2048,Kn(9,Lf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Bt(),t=Fe.identifierPrefix;if(_e){var r=tr,n=er;r=(n&~(1<<32-Lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Cx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zx={readContext:kt,useCallback:Hf,useContext:kt,useEffect:Mc,useImperativeHandle:Bf,useInsertionEffect:Of,useLayoutEffect:Ff,useMemo:Vf,useReducer:Co,useRef:Mf,useState:function(){return Co(Gn)},useDebugValue:Oc,useDeferredValue:function(e){var t=St();return Wf(t,Ie.memoizedState,e)},useTransition:function(){var e=Co(Gn)[0],t=St().memoizedState;return[e,t]},useMutableSource:Af,useSyncExternalStore:zf,useId:qf,unstable_isNewReconciler:!1},Rx={readContext:kt,useCallback:Hf,useContext:kt,useEffect:Mc,useImperativeHandle:Bf,useInsertionEffect:Of,useLayoutEffect:Ff,useMemo:Vf,useReducer:Eo,useRef:Mf,useState:function(){return Eo(Gn)},useDebugValue:Oc,useDeferredValue:function(e){var t=St();return Ie===null?t.memoizedState=e:Wf(t,Ie.memoizedState,e)},useTransition:function(){var e=Eo(Gn)[0],t=St().memoizedState;return[e,t]},useMutableSource:Af,useSyncExternalStore:zf,useId:qf,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ll(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ui={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xe(),a=Sr(e),i=sr(n,a);i.payload=t,r!=null&&(i.callback=r),t=_r(e,i,a),t!==null&&($t(t,e,a,n),Ha(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xe(),a=Sr(e),i=sr(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=_r(e,i,a),t!==null&&($t(t,e,a,n),Ha(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),n=Sr(e),a=sr(r,n);a.tag=2,t!=null&&(a.callback=t),t=_r(e,a,n),t!==null&&($t(t,e,n,r),Ha(t,e,n))}};function ru(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Un(r,n)||!Un(a,i):!0}function Qf(e,t,r){var n=!1,a=Tr,i=t.contextType;return typeof i=="object"&&i!==null?i=kt(i):(a=it(t)?Yr:Qe.current,n=t.contextTypes,i=(n=n!=null)?Os(e,a):Tr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function su(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function $l(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ac(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=kt(i):(i=it(t)?Yr:Qe.current,a.context=Os(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ll(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ui.enqueueReplaceState(a,a.state,null),yi(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Hs(e,t){try{var r="",n=t;do r+=og(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Po(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Il(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Lx=typeof WeakMap=="function"?WeakMap:Map;function Zf(e,t,r){r=sr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ni||(Ni=!0,ql=n),Il(e,t)},r}function Yf(e,t,r){r=sr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Il(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Il(e,t),typeof n!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function nu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Lx;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Gx.bind(null,e,t,r),t.then(e,e))}function au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iu(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sr(-1,1),t.tag=2,_r(r,t,1))),r.lanes|=1),e)}var $x=ur.ReactCurrentOwner,nt=!1;function Ye(e,t,r,n){t.child=e===null?Cf(t,null,r,n):Us(t,e.child,r,n)}function ou(e,t,r,n,a){r=r.render;var i=t.ref;return $s(t,a),n=Ic(e,t,r,n,i,a),r=Dc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,cr(e,t,a)):(_e&&r&&_c(t),t.flags|=1,Ye(e,t,n,a),t.child)}function lu(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Jc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Xf(e,t,i,n,a)):(e=Ka(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Un,r(o,n)&&e.ref===t.ref)return cr(e,t,a)}return t.flags|=1,e=Cr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Xf(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Un(i,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,cr(e,t,a)}return Dl(e,t,r,n,a)}function ep(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ts,ut),ut|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Ts,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,je(Ts,ut),ut|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,je(Ts,ut),ut|=n;return Ye(e,t,a,r),t.child}function tp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Dl(e,t,r,n,a){var i=it(r)?Yr:Qe.current;return i=Os(t,i),$s(t,a),r=Ic(e,t,r,n,i,a),n=Dc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,cr(e,t,a)):(_e&&n&&_c(t),t.flags|=1,Ye(e,t,r,a),t.child)}function cu(e,t,r,n,a){if(it(r)){var i=!0;fi(t)}else i=!1;if($s(t,a),t.stateNode===null)qa(e,t),Qf(t,r,n),$l(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=kt(d):(d=it(r)?Yr:Qe.current,d=Os(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&su(t,o,n,d),hr=!1;var h=t.memoizedState;o.state=h,yi(t,n,o,a),c=t.memoizedState,l!==n||h!==c||at.current||hr?(typeof u=="function"&&(Ll(t,r,u,n),c=t.memoizedState),(l=hr||ru(t,r,l,n,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Pf(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Tt(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=kt(c):(c=it(r)?Yr:Qe.current,c=Os(t,c));var y=r.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&su(t,o,n,c),hr=!1,h=t.memoizedState,o.state=h,yi(t,n,o,a);var v=t.memoizedState;l!==m||h!==v||at.current||hr?(typeof y=="function"&&(Ll(t,r,y,n),v=t.memoizedState),(d=hr||ru(t,r,d,n,h,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ml(e,t,r,n,i,a)}function Ml(e,t,r,n,a,i){tp(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Gd(t,r,!1),cr(e,t,i);n=t.stateNode,$x.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Us(t,e.child,null,i),t.child=Us(t,null,l,i)):Ye(e,t,l,i),t.memoizedState=n.state,a&&Gd(t,r,!0),t.child}function rp(e){var t=e.stateNode;t.pendingContext?Jd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jd(e,t.context,!1),zc(e,t.containerInfo)}function du(e,t,r,n,a){return Fs(),Sc(a),t.flags|=256,Ye(e,t,r,n),t.child}var Ol={dehydrated:null,treeContext:null,retryLane:0};function Fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function sp(e,t,r){var n=t.pendingProps,a=Se.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),je(Se,a&1),e===null)return zl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vi(o,n,0,null),e=Kr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fl(r),t.memoizedState=Ol,e):Fc(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Ix(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Cr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Cr(l,i):(i=Kr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Fl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ol,n}return i=e.child,e=i.sibling,n=Cr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fc(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sa(e,t,r,n){return n!==null&&Sc(n),Us(t,e.child,null,r),e=Fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ix(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Po(Error(O(422))),Sa(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Vi({mode:"visible",children:n.children},a,0,null),i=Kr(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Us(t,e.child,null,o),t.child.memoizedState=Fl(o),t.memoizedState=Ol,i);if(!(t.mode&1))return Sa(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(O(419)),n=Po(i,n,void 0),Sa(e,t,o,n)}if(l=(o&e.childLanes)!==0,nt||l){if(n=Fe,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,lr(e,a),$t(n,e,a,-1))}return qc(),n=Po(Error(O(421))),Sa(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Kx.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mt=Nr(a.nextSibling),ft=t,_e=!0,zt=null,e!==null&&(bt[wt++]=er,bt[wt++]=tr,bt[wt++]=Xr,er=e.id,tr=e.overflow,Xr=t),t=Fc(t,n.children),t.flags|=4096,t)}function uu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rl(e.return,t,r)}function To(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function np(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ye(e,t,n.children,r),n=Se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uu(e,r,t);else if(e.tag===19)uu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Se,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&vi(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),To(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&vi(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}To(t,!0,r,null,i);break;case"together":To(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=Cr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Dx(e,t,r){switch(t.tag){case 3:rp(t),Fs();break;case 5:Tf(t);break;case 1:it(t.type)&&fi(t);break;case 4:zc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;je(gi,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Se,Se.current&1),t.flags|=128,null):r&t.child.childLanes?sp(e,t,r):(je(Se,Se.current&1),e=cr(e,t,r),e!==null?e.sibling:null);je(Se,Se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return np(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),je(Se,Se.current),n)break;return null;case 22:case 23:return t.lanes=0,ep(e,t,r)}return cr(e,t,r)}var ap,Ul,ip,op;ap=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ul=function(){};ip=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Wr(qt.current);var i=null;switch(r){case"input":a=cl(e,a),n=cl(e,n),i=[];break;case"select":a=Ee({},a,{value:void 0}),n=Ee({},n,{value:void 0}),i=[];break;case"textarea":a=ml(e,a),n=ml(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ui)}pl(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ln.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ln.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&be("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};op=function(e,t,r,n){r!==n&&(t.flags|=4)};function hn(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Mx(e,t,r){var n=t.pendingProps;switch(kc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return it(t.type)&&mi(),Je(t),null;case 3:return n=t.stateNode,Bs(),we(at),we(Qe),Lc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_a(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Kl(zt),zt=null))),Ul(e,t),Je(t),null;case 5:Rc(t);var a=Wr(qn.current);if(r=t.type,e!==null&&t.stateNode!=null)ip(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return Je(t),null}if(e=Wr(qt.current),_a(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ht]=t,n[Vn]=i,e=(t.mode&1)!==0,r){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(a=0;a<_n.length;a++)be(_n[a],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":jd(n,i),be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},be("invalid",n);break;case"textarea":wd(n,i),be("invalid",n)}pl(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Na(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Na(n.textContent,l,e),a=["children",""+l]):Ln.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&be("scroll",n)}switch(r){case"input":ha(n),bd(n,i,!0);break;case"textarea":ha(n),Nd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ui)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ht]=t,e[Vn]=n,ap(e,t,!1,!1),t.stateNode=e;e:{switch(o=hl(r,n),r){case"dialog":be("cancel",e),be("close",e),a=n;break;case"iframe":case"object":case"embed":be("load",e),a=n;break;case"video":case"audio":for(a=0;a<_n.length;a++)be(_n[a],e);a=n;break;case"source":be("error",e),a=n;break;case"img":case"image":case"link":be("error",e),be("load",e),a=n;break;case"details":be("toggle",e),a=n;break;case"input":jd(e,n),a=cl(e,n),be("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ee({},n,{value:void 0}),be("invalid",e);break;case"textarea":wd(e,n),a=ml(e,n),be("invalid",e);break;default:a=n}pl(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Dm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$m(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$n(e,c):typeof c=="number"&&$n(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ln.hasOwnProperty(i)?c!=null&&i==="onScroll"&&be("scroll",e):c!=null&&dc(e,i,c,o))}switch(r){case"input":ha(e),bd(e,n,!1);break;case"textarea":ha(e),Nd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?As(e,!!n.multiple,i,!1):n.defaultValue!=null&&As(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)op(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=Wr(qn.current),Wr(qt.current),_a(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ht]=t,(i=n.nodeValue!==r)&&(e=ft,e!==null))switch(e.tag){case 3:Na(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Na(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ht]=t,t.stateNode=n}return Je(t),null;case 13:if(we(Se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&mt!==null&&t.mode&1&&!(t.flags&128))kf(),Fs(),t.flags|=98560,i=!1;else if(i=_a(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Ht]=t}else Fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),i=!1}else zt!==null&&(Kl(zt),zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?De===0&&(De=3):qc())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return Bs(),Ul(e,t),e===null&&Bn(t.stateNode.containerInfo),Je(t),null;case 10:return Pc(t.type._context),Je(t),null;case 17:return it(t.type)&&mi(),Je(t),null;case 19:if(we(Se),i=t.memoizedState,i===null)return Je(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)hn(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vi(e),o!==null){for(t.flags|=128,hn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Se,Se.current&1|2),t.child}e=e.sibling}i.tail!==null&&ze()>Vs&&(t.flags|=128,n=!0,hn(i,!1),t.lanes=4194304)}else{if(!n)if(e=vi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!_e)return Je(t),null}else 2*ze()-i.renderingStartTime>Vs&&r!==1073741824&&(t.flags|=128,n=!0,hn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ze(),t.sibling=null,r=Se.current,je(Se,n?r&1|2:r&1),t):(Je(t),null);case 22:case 23:return Wc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ut&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Ox(e,t){switch(kc(t),t.tag){case 1:return it(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bs(),we(at),we(Qe),Lc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rc(t),null;case 13:if(we(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Se),null;case 4:return Bs(),null;case 10:return Pc(t.type._context),null;case 22:case 23:return Wc(),null;case 24:return null;default:return null}}var Ca=!1,Ge=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ps(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pe(e,t,n)}else r.current=null}function Bl(e,t,r){try{r()}catch(n){Pe(e,t,n)}}var mu=!1;function Ux(e,t){if(kl=li,e=mf(),Nc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var y;m!==r||a!==0&&m.nodeType!==3||(l=o+a),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)h=m,m=y;for(;;){if(m===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===n&&(c=o),(y=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sl={focusedElem:e,selectionRange:r},li=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var j=v.memoizedProps,b=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?j:Tt(t.type,j),b);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){Pe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return v=mu,mu=!1,v}function An(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Bl(t,r,i)}a=a.next}while(a!==n)}}function Bi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lp(e){var t=e.alternate;t!==null&&(e.alternate=null,lp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[Vn],delete t[Pl],delete t[Nx],delete t[_x])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cp(e){return e.tag===5||e.tag===3||e.tag===4}function fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ui));else if(n!==4&&(e=e.child,e!==null))for(Vl(e,t,r),e=e.sibling;e!==null;)Vl(e,t,r),e=e.sibling}function Wl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wl(e,t,r),e=e.sibling;e!==null;)Wl(e,t,r),e=e.sibling}var He=null,At=!1;function mr(e,t,r){for(r=r.child;r!==null;)dp(e,t,r),r=r.sibling}function dp(e,t,r){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Li,r)}catch{}switch(r.tag){case 5:Ge||Ps(r,t);case 6:var n=He,a=At;He=null,mr(e,t,r),He=n,At=a,He!==null&&(At?(e=He,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):He.removeChild(r.stateNode));break;case 18:He!==null&&(At?(e=He,r=r.stateNode,e.nodeType===8?No(e.parentNode,r):e.nodeType===1&&No(e,r),On(e)):No(He,r.stateNode));break;case 4:n=He,a=At,He=r.stateNode.containerInfo,At=!0,mr(e,t,r),He=n,At=a;break;case 0:case 11:case 14:case 15:if(!Ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Bl(r,t,o),a=a.next}while(a!==n)}mr(e,t,r);break;case 1:if(!Ge&&(Ps(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Pe(r,t,l)}mr(e,t,r);break;case 21:mr(e,t,r);break;case 22:r.mode&1?(Ge=(n=Ge)||r.memoizedState!==null,mr(e,t,r),Ge=n):mr(e,t,r);break;default:mr(e,t,r)}}function pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fx),t.forEach(function(n){var a=Qx.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Pt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,At=!1;break e;case 3:He=l.stateNode.containerInfo,At=!0;break e;case 4:He=l.stateNode.containerInfo,At=!0;break e}l=l.return}if(He===null)throw Error(O(160));dp(i,o,a),He=null,At=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Pe(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)up(t,e),t=t.sibling}function up(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Ot(e),n&4){try{An(3,e,e.return),Bi(3,e)}catch(j){Pe(e,e.return,j)}try{An(5,e,e.return)}catch(j){Pe(e,e.return,j)}}break;case 1:Pt(t,e),Ot(e),n&512&&r!==null&&Ps(r,r.return);break;case 5:if(Pt(t,e),Ot(e),n&512&&r!==null&&Ps(r,r.return),e.flags&32){var a=e.stateNode;try{$n(a,"")}catch(j){Pe(e,e.return,j)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&zm(a,i),hl(l,o);var d=hl(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?Dm(a,m):u==="dangerouslySetInnerHTML"?$m(a,m):u==="children"?$n(a,m):dc(a,u,m,d)}switch(l){case"input":dl(a,i);break;case"textarea":Rm(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?As(a,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?As(a,!!i.multiple,i.defaultValue,!0):As(a,!!i.multiple,i.multiple?[]:"",!1))}a[Vn]=i}catch(j){Pe(e,e.return,j)}}break;case 6:if(Pt(t,e),Ot(e),n&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(j){Pe(e,e.return,j)}}break;case 3:if(Pt(t,e),Ot(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{On(t.containerInfo)}catch(j){Pe(e,e.return,j)}break;case 4:Pt(t,e),Ot(e);break;case 13:Pt(t,e),Ot(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Hc=ze())),n&4&&pu(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ge=(d=Ge)||u,Pt(t,e),Ge=d):Pt(t,e),Ot(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(X=e,u=e.child;u!==null;){for(m=X=u;X!==null;){switch(h=X,y=h.child,h.tag){case 0:case 11:case 14:case 15:An(4,h,h.return);break;case 1:Ps(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(j){Pe(n,r,j)}}break;case 5:Ps(h,h.return);break;case 22:if(h.memoizedState!==null){gu(m);continue}}y!==null?(y.return=h,X=y):gu(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Im("display",o))}catch(j){Pe(e,e.return,j)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(j){Pe(e,e.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Pt(t,e),Ot(e),n&4&&pu(e);break;case 21:break;default:Pt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cp(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&($n(a,""),n.flags&=-33);var i=fu(e);Wl(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=fu(e);Vl(e,l,o);break;default:throw Error(O(161))}}catch(c){Pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bx(e,t,r){X=e,mp(e)}function mp(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var a=X,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ca;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ge;l=Ca;var d=Ge;if(Ca=o,(Ge=c)&&!d)for(X=a;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?xu(a):c!==null?(c.return=o,X=c):xu(a);for(;i!==null;)X=i,mp(i),i=i.sibling;X=a,Ca=l,Ge=d}hu(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,X=i):hu(e)}}function hu(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Bi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ge)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Tt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Xd(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xd(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&On(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ge||t.flags&512&&Hl(t)}catch(h){Pe(t,t.return,h)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function gu(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function xu(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bi(4,t)}catch(c){Pe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Pe(t,a,c)}}var i=t.return;try{Hl(t)}catch(c){Pe(t,i,c)}break;case 5:var o=t.return;try{Hl(t)}catch(c){Pe(t,o,c)}}}catch(c){Pe(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var Hx=Math.ceil,wi=ur.ReactCurrentDispatcher,Uc=ur.ReactCurrentOwner,_t=ur.ReactCurrentBatchConfig,he=0,Fe=null,Le=null,Ve=0,ut=0,Ts=Lr(0),De=0,Qn=null,ts=0,Hi=0,Bc=0,zn=null,st=null,Hc=0,Vs=1/0,Yt=null,Ni=!1,ql=null,kr=null,Ea=!1,vr=null,_i=0,Rn=0,Jl=null,Ja=-1,Ga=0;function Xe(){return he&6?ze():Ja!==-1?Ja:Ja=ze()}function Sr(e){return e.mode&1?he&2&&Ve!==0?Ve&-Ve:Sx.transition!==null?(Ga===0&&(Ga=Km()),Ga):(e=ye,e!==0||(e=window.event,e=e===void 0?16:rf(e.type)),e):1}function $t(e,t,r,n){if(50<Rn)throw Rn=0,Jl=null,Error(O(185));ea(e,r,n),(!(he&2)||e!==Fe)&&(e===Fe&&(!(he&2)&&(Hi|=r),De===4&&xr(e,Ve)),ot(e,n),r===1&&he===0&&!(t.mode&1)&&(Vs=ze()+500,Oi&&$r()))}function ot(e,t){var r=e.callbackNode;Sg(e,t);var n=oi(e,e===Fe?Ve:0);if(n===0)r!==null&&Sd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Sd(r),t===1)e.tag===0?kx(yu.bind(null,e)):wf(yu.bind(null,e)),bx(function(){!(he&6)&&$r()}),r=null;else{switch(Qm(n)){case 1:r=hc;break;case 4:r=Jm;break;case 16:r=ii;break;case 536870912:r=Gm;break;default:r=ii}r=jp(r,fp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function fp(e,t){if(Ja=-1,Ga=0,he&6)throw Error(O(327));var r=e.callbackNode;if(Is()&&e.callbackNode!==r)return null;var n=oi(e,e===Fe?Ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ki(e,n);else{t=n;var a=he;he|=2;var i=hp();(Fe!==e||Ve!==t)&&(Yt=null,Vs=ze()+500,Gr(e,t));do try{qx();break}catch(l){pp(e,l)}while(!0);Ec(),wi.current=i,he=a,Le!==null?t=0:(Fe=null,Ve=0,t=De)}if(t!==0){if(t===2&&(a=jl(e),a!==0&&(n=a,t=Gl(e,a))),t===1)throw r=Qn,Gr(e,0),xr(e,n),ot(e,ze()),r;if(t===6)xr(e,n);else{if(a=e.current.alternate,!(n&30)&&!Vx(a)&&(t=ki(e,n),t===2&&(i=jl(e),i!==0&&(n=i,t=Gl(e,i))),t===1))throw r=Qn,Gr(e,0),xr(e,n),ot(e,ze()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:Br(e,st,Yt);break;case 3:if(xr(e,n),(n&130023424)===n&&(t=Hc+500-ze(),10<t)){if(oi(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Xe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=El(Br.bind(null,e,st,Yt),t);break}Br(e,st,Yt);break;case 4:if(xr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Lt(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=ze()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hx(n/1960))-n,10<n){e.timeoutHandle=El(Br.bind(null,e,st,Yt),n);break}Br(e,st,Yt);break;case 5:Br(e,st,Yt);break;default:throw Error(O(329))}}}return ot(e,ze()),e.callbackNode===r?fp.bind(null,e):null}function Gl(e,t){var r=zn;return e.current.memoizedState.isDehydrated&&(Gr(e,t).flags|=256),e=ki(e,t),e!==2&&(t=st,st=r,t!==null&&Kl(t)),e}function Kl(e){st===null?st=e:st.push.apply(st,e)}function Vx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!It(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~Bc,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lt(t),n=1<<r;e[r]=-1,t&=~n}}function yu(e){if(he&6)throw Error(O(327));Is();var t=oi(e,0);if(!(t&1))return ot(e,ze()),null;var r=ki(e,t);if(e.tag!==0&&r===2){var n=jl(e);n!==0&&(t=n,r=Gl(e,n))}if(r===1)throw r=Qn,Gr(e,0),xr(e,t),ot(e,ze()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Br(e,st,Yt),ot(e,ze()),null}function Vc(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(Vs=ze()+500,Oi&&$r())}}function rs(e){vr!==null&&vr.tag===0&&!(he&6)&&Is();var t=he;he|=1;var r=_t.transition,n=ye;try{if(_t.transition=null,ye=1,e)return e()}finally{ye=n,_t.transition=r,he=t,!(he&6)&&$r()}}function Wc(){ut=Ts.current,we(Ts)}function Gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,jx(r)),Le!==null)for(r=Le.return;r!==null;){var n=r;switch(kc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mi();break;case 3:Bs(),we(at),we(Qe),Lc();break;case 5:Rc(n);break;case 4:Bs();break;case 13:we(Se);break;case 19:we(Se);break;case 10:Pc(n.type._context);break;case 22:case 23:Wc()}r=r.return}if(Fe=e,Le=e=Cr(e.current,null),Ve=ut=t,De=0,Qn=null,Bc=Hi=ts=0,st=zn=null,Vr!==null){for(t=0;t<Vr.length;t++)if(r=Vr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Vr=null}return e}function pp(e,t){do{var r=Le;try{if(Ec(),Va.current=bi,ji){for(var n=Ce.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ji=!1}if(es=0,Me=Ie=Ce=null,Tn=!1,Jn=0,Uc.current=null,r===null||r.return===null){De=1,Qn=t,Le=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ve,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=au(o);if(y!==null){y.flags&=-257,iu(y,o,l,i,t),y.mode&1&&nu(i,d,t),t=y,c=d;var v=t.updateQueue;if(v===null){var j=new Set;j.add(c),t.updateQueue=j}else v.add(c);break e}else{if(!(t&1)){nu(i,d,t),qc();break e}c=Error(O(426))}}else if(_e&&l.mode&1){var b=au(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),iu(b,o,l,i,t),Sc(Hs(c,l));break e}}i=c=Hs(c,l),De!==4&&(De=2),zn===null?zn=[i]:zn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Zf(i,c,t);Yd(i,p);break e;case 1:l=c;var g=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(kr===null||!kr.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Yf(i,l,t);Yd(i,w);break e}}i=i.return}while(i!==null)}xp(r)}catch(k){t=k,Le===r&&r!==null&&(Le=r=r.return);continue}break}while(!0)}function hp(){var e=wi.current;return wi.current=bi,e===null?bi:e}function qc(){(De===0||De===3||De===2)&&(De=4),Fe===null||!(ts&268435455)&&!(Hi&268435455)||xr(Fe,Ve)}function ki(e,t){var r=he;he|=2;var n=hp();(Fe!==e||Ve!==t)&&(Yt=null,Gr(e,t));do try{Wx();break}catch(a){pp(e,a)}while(!0);if(Ec(),he=r,wi.current=n,Le!==null)throw Error(O(261));return Fe=null,Ve=0,De}function Wx(){for(;Le!==null;)gp(Le)}function qx(){for(;Le!==null&&!xg();)gp(Le)}function gp(e){var t=vp(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?xp(e):Le=t,Uc.current=null}function xp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ox(r,t),r!==null){r.flags&=32767,Le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Le=null;return}}else if(r=Mx(r,t,ut),r!==null){Le=r;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);De===0&&(De=5)}function Br(e,t,r){var n=ye,a=_t.transition;try{_t.transition=null,ye=1,Jx(e,t,r,n)}finally{_t.transition=a,ye=n}return null}function Jx(e,t,r,n){do Is();while(vr!==null);if(he&6)throw Error(O(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Cg(e,i),e===Fe&&(Le=Fe=null,Ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ea||(Ea=!0,jp(ii,function(){return Is(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=_t.transition,_t.transition=null;var o=ye;ye=1;var l=he;he|=4,Uc.current=null,Ux(e,r),up(r,e),fx(Sl),li=!!kl,Sl=kl=null,e.current=r,Bx(r),yg(),he=l,ye=o,_t.transition=i}else e.current=r;if(Ea&&(Ea=!1,vr=e,_i=a),i=e.pendingLanes,i===0&&(kr=null),bg(r.stateNode),ot(e,ze()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ni)throw Ni=!1,e=ql,ql=null,e;return _i&1&&e.tag!==0&&Is(),i=e.pendingLanes,i&1?e===Jl?Rn++:(Rn=0,Jl=e):Rn=0,$r(),null}function Is(){if(vr!==null){var e=Qm(_i),t=_t.transition,r=ye;try{if(_t.transition=null,ye=16>e?16:e,vr===null)var n=!1;else{if(e=vr,vr=null,_i=0,he&6)throw Error(O(331));var a=he;for(he|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(X=d;X!==null;){var u=X;switch(u.tag){case 0:case 11:case 15:An(8,u,i)}var m=u.child;if(m!==null)m.return=u,X=m;else for(;X!==null;){u=X;var h=u.sibling,y=u.return;if(lp(u),u===d){X=null;break}if(h!==null){h.return=y,X=h;break}X=y}}}var v=i.alternate;if(v!==null){var j=v.child;if(j!==null){v.child=null;do{var b=j.sibling;j.sibling=null,j=b}while(j!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:An(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,X=p;break e}X=i.return}}var g=e.current;for(X=g;X!==null;){o=X;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,X=f;else e:for(o=g;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bi(9,l)}}catch(k){Pe(l,l.return,k)}if(l===o){X=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,X=w;break e}X=l.return}}if(he=a,$r(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Li,e)}catch{}n=!0}return n}finally{ye=r,_t.transition=t}}return!1}function vu(e,t,r){t=Hs(r,t),t=Zf(e,t,1),e=_r(e,t,1),t=Xe(),e!==null&&(ea(e,1,t),ot(e,t))}function Pe(e,t,r){if(e.tag===3)vu(e,e,r);else for(;t!==null;){if(t.tag===3){vu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kr===null||!kr.has(n))){e=Hs(r,e),e=Yf(t,e,1),t=_r(t,e,1),e=Xe(),t!==null&&(ea(t,1,e),ot(t,e));break}}t=t.return}}function Gx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,Fe===e&&(Ve&r)===r&&(De===4||De===3&&(Ve&130023424)===Ve&&500>ze()-Hc?Gr(e,0):Bc|=r),ot(e,t)}function yp(e,t){t===0&&(e.mode&1?(t=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):t=1);var r=Xe();e=lr(e,t),e!==null&&(ea(e,t,r),ot(e,r))}function Kx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yp(e,r)}function Qx(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),yp(e,r)}var vp;vp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nt=!1,Dx(e,t,r);nt=!!(e.flags&131072)}else nt=!1,_e&&t.flags&1048576&&Nf(t,hi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qa(e,t),e=t.pendingProps;var a=Os(t,Qe.current);$s(t,r),a=Ic(null,t,n,e,a,r);var i=Dc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)?(i=!0,fi(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ac(t),a.updater=Ui,t.stateNode=a,a._reactInternals=t,$l(t,n,e,r),t=Ml(null,t,n,!0,i,r)):(t.tag=0,_e&&i&&_c(t),Ye(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Yx(n),e=Tt(n,e),a){case 0:t=Dl(null,t,n,e,r);break e;case 1:t=cu(null,t,n,e,r);break e;case 11:t=ou(null,t,n,e,r);break e;case 14:t=lu(null,t,n,Tt(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tt(n,a),Dl(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tt(n,a),cu(e,t,n,a,r);case 3:e:{if(rp(t),e===null)throw Error(O(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Pf(e,t),yi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Hs(Error(O(423)),t),t=du(e,t,n,r,a);break e}else if(n!==a){a=Hs(Error(O(424)),t),t=du(e,t,n,r,a);break e}else for(mt=Nr(t.stateNode.containerInfo.firstChild),ft=t,_e=!0,zt=null,r=Cf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fs(),n===a){t=cr(e,t,r);break e}Ye(e,t,n,r)}t=t.child}return t;case 5:return Tf(t),e===null&&zl(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Cl(n,a)?o=null:i!==null&&Cl(n,i)&&(t.flags|=32),tp(e,t),Ye(e,t,o,r),t.child;case 6:return e===null&&zl(t),null;case 13:return sp(e,t,r);case 4:return zc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Us(t,null,n,r):Ye(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tt(n,a),ou(e,t,n,a,r);case 7:return Ye(e,t,t.pendingProps,r),t.child;case 8:return Ye(e,t,t.pendingProps.children,r),t.child;case 12:return Ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,je(gi,n._currentValue),n._currentValue=o,i!==null)if(It(i.value,o)){if(i.children===a.children&&!at.current){t=cr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=sr(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Rl(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Rl(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ye(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,$s(t,r),a=kt(a),n=n(a),t.flags|=1,Ye(e,t,n,r),t.child;case 14:return n=t.type,a=Tt(n,t.pendingProps),a=Tt(n.type,a),lu(e,t,n,a,r);case 15:return Xf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tt(n,a),qa(e,t),t.tag=1,it(n)?(e=!0,fi(t)):e=!1,$s(t,r),Qf(t,n,a),$l(t,n,a,r),Ml(null,t,n,!0,e,r);case 19:return np(e,t,r);case 22:return ep(e,t,r)}throw Error(O(156,t.tag))};function jp(e,t){return qm(e,t)}function Zx(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,r,n){return new Zx(e,t,r,n)}function Jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yx(e){if(typeof e=="function")return Jc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mc)return 11;if(e===fc)return 14}return 2}function Cr(e,t){var r=e.alternate;return r===null?(r=Nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ka(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Jc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case js:return Kr(r.children,a,i,t);case uc:o=8,a|=8;break;case al:return e=Nt(12,r,t,a|2),e.elementType=al,e.lanes=i,e;case il:return e=Nt(13,r,t,a),e.elementType=il,e.lanes=i,e;case ol:return e=Nt(19,r,t,a),e.elementType=ol,e.lanes=i,e;case Pm:return Vi(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cm:o=10;break e;case Em:o=9;break e;case mc:o=11;break e;case fc:o=14;break e;case pr:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Nt(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Kr(e,t,r,n){return e=Nt(7,e,n,t),e.lanes=r,e}function Vi(e,t,r,n){return e=Nt(22,e,n,t),e.elementType=Pm,e.lanes=r,e.stateNode={isHidden:!1},e}function Ao(e,t,r){return e=Nt(6,e,null,t),e.lanes=r,e}function zo(e,t,r){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xx(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Gc(e,t,r,n,a,i,o,l,c){return e=new Xx(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(i),e}function e0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bp(e){if(!e)return Tr;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(it(r))return bf(e,r,t)}return t}function wp(e,t,r,n,a,i,o,l,c){return e=Gc(r,n,!0,e,a,i,o,l,c),e.context=bp(null),r=e.current,n=Xe(),a=Sr(r),i=sr(n,a),i.callback=t??null,_r(r,i,a),e.current.lanes=a,ea(e,a,n),ot(e,n),e}function Wi(e,t,r,n){var a=t.current,i=Xe(),o=Sr(a);return r=bp(r),t.context===null?t.context=r:t.pendingContext=r,t=sr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=_r(a,t,o),e!==null&&($t(e,a,o,i),Ha(e,a,o)),o}function Si(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ju(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Kc(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function t0(){return null}var Np=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}qi.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Wi(e,t,null,null)};qi.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rs(function(){Wi(null,e,null,null)}),t[or]=null}};function qi(e){this._internalRoot=e}qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gr.length&&t!==0&&t<gr[r].priority;r++);gr.splice(r,0,e),r===0&&tf(e)}};function Zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bu(){}function r0(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Si(o);i.call(d)}}var o=wp(t,n,e,0,null,!1,!1,"",bu);return e._reactRootContainer=o,e[or]=o.current,Bn(e.nodeType===8?e.parentNode:e),rs(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Si(c);l.call(d)}}var c=Gc(e,0,!1,null,null,!1,!1,"",bu);return e._reactRootContainer=c,e[or]=c.current,Bn(e.nodeType===8?e.parentNode:e),rs(function(){Wi(t,c,r,n)}),c}function Gi(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Si(o);l.call(c)}}Wi(t,o,e,a)}else o=r0(r,t,e,a,n);return Si(o)}Zm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nn(t.pendingLanes);r!==0&&(gc(t,r|1),ot(t,ze()),!(he&6)&&(Vs=ze()+500,$r()))}break;case 13:rs(function(){var n=lr(e,1);if(n!==null){var a=Xe();$t(n,e,1,a)}}),Kc(e,1)}};xc=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var r=Xe();$t(t,e,134217728,r)}Kc(e,134217728)}};Ym=function(e){if(e.tag===13){var t=Sr(e),r=lr(e,t);if(r!==null){var n=Xe();$t(r,e,t,n)}Kc(e,t)}};Xm=function(){return ye};ef=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};xl=function(e,t,r){switch(t){case"input":if(dl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Mi(n);if(!a)throw Error(O(90));Am(n),dl(n,a)}}}break;case"textarea":Rm(e,r);break;case"select":t=r.value,t!=null&&As(e,!!r.multiple,t,!1)}};Fm=Vc;Um=rs;var s0={usingClientEntryPoint:!1,Events:[ra,_s,Mi,Mm,Om,Vc]},gn={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n0={bundleType:gn.bundleType,version:gn.version,rendererPackageName:gn.rendererPackageName,rendererConfig:gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vm(e),e===null?null:e.stateNode},findFiberByHostInstance:gn.findFiberByHostInstance||t0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{Li=Pa.inject(n0),Wt=Pa}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;xt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zc(t))throw Error(O(200));return e0(e,t,null,r)};xt.createRoot=function(e,t){if(!Zc(e))throw Error(O(299));var r=!1,n="",a=Np;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Gc(e,1,!1,null,null,r,!1,n,a),e[or]=t.current,Bn(e.nodeType===8?e.parentNode:e),new Qc(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Vm(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return rs(e)};xt.hydrate=function(e,t,r){if(!Ji(t))throw Error(O(200));return Gi(null,e,t,!0,r)};xt.hydrateRoot=function(e,t,r){if(!Zc(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Np;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=wp(t,null,e,1,r??null,a,!1,i,o),e[or]=t.current,Bn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new qi(t)};xt.render=function(e,t,r){if(!Ji(t))throw Error(O(200));return Gi(null,e,t,!1,r)};xt.unmountComponentAtNode=function(e){if(!Ji(e))throw Error(O(40));return e._reactRootContainer?(rs(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1};xt.unstable_batchedUpdates=Vc;xt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ji(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Gi(e,t,r,!1,n)};xt.version="18.3.1-next-f1338f8080-20240426";function _p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_p)}catch(e){console.error(e)}}_p(),Nm.exports=xt;var a0=Nm.exports,kp,wu=a0;kp=wu.createRoot,wu.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nu="popstate";function i0(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Ql("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Zn(a)}return l0(t,r,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ct(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o0(){return Math.random().toString(36).substring(2,10)}function _u(e,t){return{usr:e.state,key:e.key,idx:t}}function Ql(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ys(t):t,state:r,key:t&&t.key||n||o0()}}function Zn({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ys(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function l0(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function m(){l="POP";let b=u(),p=b==null?null:b-d;d=b,c&&c({action:l,location:j.location,delta:p})}function h(b,p){l="PUSH";let g=Ql(j.location,b,p);d=u()+1;let f=_u(g,d),w=j.createHref(g);try{o.pushState(f,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(w)}i&&c&&c({action:l,location:j.location,delta:1})}function y(b,p){l="REPLACE";let g=Ql(j.location,b,p);d=u();let f=_u(g,d),w=j.createHref(g);o.replaceState(f,"",w),i&&c&&c({action:l,location:j.location,delta:0})}function v(b){return c0(b)}let j={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Nu,m),c=b,()=>{a.removeEventListener(Nu,m),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let p=v(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:y,go(b){return o.go(b)}};return j}function c0(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ke(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Zn(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Sp(e,t,r="/"){return d0(e,t,r,!1)}function d0(e,t,r,n){let a=typeof t=="string"?Ys(t):t,i=dr(a.pathname||"/",r);if(i==null)return null;let o=Cp(e);u0(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=w0(i);l=j0(o[c],d,n)}return l}function Cp(e,t=[],r=[],n="",a=!1){let i=(o,l,c=a,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&c)return;ke(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let m=nr([n,u.relativePath]),h=r.concat(u);o.children&&o.children.length>0&&(ke(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Cp(o.children,t,h,m,c)),!(o.path==null&&!o.index)&&t.push({path:m,score:y0(m,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of Ep(o.path))i(o,l,!0,d)}),t}function Ep(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Ep(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function u0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:v0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var m0=/^:[\w-]+$/,f0=3,p0=2,h0=1,g0=10,x0=-2,ku=e=>e==="*";function y0(e,t){let r=e.split("/"),n=r.length;return r.some(ku)&&(n+=x0),t&&(n+=p0),r.filter(a=>!ku(a)).reduce((a,i)=>a+(m0.test(i)?f0:i===""?h0:g0),n)}function v0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function j0(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=Ci({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=Ci({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:nr([i,m.pathname]),pathnameBase:C0(nr([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=nr([i,m.pathnameBase]))}return o}function Ci(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=b0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:m},h)=>{if(u==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[h];return m&&!y?d[u]=void 0:d[u]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function b0(e,t=!1,r=!0){Ct(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function w0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ct(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function dr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var N0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_0=e=>N0.test(e);function k0(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ys(e):e,i;if(r)if(_0(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ct(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=Su(r.substring(1),"/"):i=Su(r,t)}else i=t;return{pathname:i,search:E0(n),hash:P0(a)}}function Su(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ro(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yc(e){let t=S0(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Xc(e,t,r,n=!1){let a;typeof e=="string"?a=Ys(e):(a={...e},ke(!a.pathname||!a.pathname.includes("?"),Ro("?","pathname","search",a)),ke(!a.pathname||!a.pathname.includes("#"),Ro("#","pathname","hash",a)),ke(!a.search||!a.search.includes("#"),Ro("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=k0(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var nr=e=>e.join("/").replace(/\/\/+/g,"/"),C0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pp=["POST","PUT","PATCH","DELETE"];new Set(Pp);var A0=["GET",...Pp];new Set(A0);var Xs=x.createContext(null);Xs.displayName="DataRouter";var Ki=x.createContext(null);Ki.displayName="DataRouterState";x.createContext(!1);var Tp=x.createContext({isTransitioning:!1});Tp.displayName="ViewTransition";var z0=x.createContext(new Map);z0.displayName="Fetchers";var R0=x.createContext(null);R0.displayName="Await";var Dt=x.createContext(null);Dt.displayName="Navigation";var na=x.createContext(null);na.displayName="Location";var Qt=x.createContext({outlet:null,matches:[],isDataRoute:!1});Qt.displayName="Route";var ed=x.createContext(null);ed.displayName="RouteError";function L0(e,{relative:t}={}){ke(en(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(Dt),{hash:a,pathname:i,search:o}=aa(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:nr([r,i])),n.createHref({pathname:l,search:o,hash:a})}function en(){return x.useContext(na)!=null}function Ir(){return ke(en(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(na).location}var Ap="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zp(e){x.useContext(Dt).static||x.useLayoutEffect(e)}function Qi(){let{isDataRoute:e}=x.useContext(Qt);return e?J0():$0()}function $0(){ke(en(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Xs),{basename:t,navigator:r}=x.useContext(Dt),{matches:n}=x.useContext(Qt),{pathname:a}=Ir(),i=JSON.stringify(Yc(n)),o=x.useRef(!1);return zp(()=>{o.current=!0}),x.useCallback((c,d={})=>{if(Ct(o.current,Ap),!o.current)return;if(typeof c=="number"){r.go(c);return}let u=Xc(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:nr([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,i,a,e])}x.createContext(null);function aa(e,{relative:t}={}){let{matches:r}=x.useContext(Qt),{pathname:n}=Ir(),a=JSON.stringify(Yc(r));return x.useMemo(()=>Xc(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function I0(e,t){return Rp(e,t)}function Rp(e,t,r,n,a){var g;ke(en(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Dt),{matches:o}=x.useContext(Qt),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",m=l&&l.route;{let f=m&&m.path||"";Lp(d,!m||f.endsWith("*")||f.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${f}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${f}"> to <Route path="${f==="/"?"*":`${f}/*`}">.`)}let h=Ir(),y;if(t){let f=typeof t=="string"?Ys(t):t;ke(u==="/"||((g=f.pathname)==null?void 0:g.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${f.pathname}" was given in the \`location\` prop.`),y=f}else y=h;let v=y.pathname||"/",j=v;if(u!=="/"){let f=u.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(f.length).join("/")}let b=Sp(e,{pathname:j});Ct(m||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ct(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=U0(b&&b.map(f=>Object.assign({},f,{params:Object.assign({},c,f.params),pathname:nr([u,i.encodeLocation?i.encodeLocation(f.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?u:nr([u,i.encodeLocation?i.encodeLocation(f.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:f.pathnameBase])})),o,r,n,a);return t&&p?x.createElement(na.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},p):p}function D0(){let e=q0(),t=T0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,o)}var M0=x.createElement(D0,null),O0=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Qt.Provider,{value:this.props.routeContext},x.createElement(ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F0({routeContext:e,match:t,children:r}){let n=x.useContext(Xs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Qt.Provider,{value:e},r)}function U0(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let u=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);ke(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:h,errors:y}=r,v=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=r&&n?(u,m)=>{var h,y;n(u,{location:r.location,params:((y=(h=r.matches)==null?void 0:h[0])==null?void 0:y.params)??{},errorInfo:m})}:void 0;return i.reduceRight((u,m,h)=>{let y,v=!1,j=null,b=null;r&&(y=o&&m.route.id?o[m.route.id]:void 0,j=m.route.errorElement||M0,l&&(c<0&&h===0?(Lp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):c===h&&(v=!0,b=m.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,h+1)),g=()=>{let f;return y?f=j:v?f=b:m.route.Component?f=x.createElement(m.route.Component,null):m.route.element?f=m.route.element:f=u,x.createElement(F0,{match:m,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:f})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?x.createElement(O0,{location:r.location,revalidation:r.revalidation,component:j,error:y,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:d}):g()},null)}function td(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B0(e){let t=x.useContext(Xs);return ke(t,td(e)),t}function H0(e){let t=x.useContext(Ki);return ke(t,td(e)),t}function V0(e){let t=x.useContext(Qt);return ke(t,td(e)),t}function rd(e){let t=V0(e),r=t.matches[t.matches.length-1];return ke(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function W0(){return rd("useRouteId")}function q0(){var n;let e=x.useContext(ed),t=H0("useRouteError"),r=rd("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function J0(){let{router:e}=B0("useNavigate"),t=rd("useNavigate"),r=x.useRef(!1);return zp(()=>{r.current=!0}),x.useCallback(async(a,i={})=>{Ct(r.current,Ap),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Cu={};function Lp(e,t,r){!t&&!Cu[e]&&(Cu[e]=!0,Ct(!1,r))}x.memo(G0);function G0({routes:e,future:t,state:r,unstable_onError:n}){return Rp(e,void 0,r,n,t)}function Ei({to:e,replace:t,state:r,relative:n}){ke(en(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(Dt);Ct(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(Qt),{pathname:o}=Ir(),l=Qi(),c=Xc(e,Yc(i),o,n==="path"),d=JSON.stringify(c);return x.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:n})},[l,d,n,t,r]),null}function Be(e){ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K0({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){ke(!en(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Ys(r));let{pathname:c="/",search:d="",hash:u="",state:m=null,key:h="default"}=r,y=x.useMemo(()=>{let v=dr(c,o);return v==null?null:{location:{pathname:v,search:d,hash:u,state:m,key:h},navigationType:n}},[o,c,d,u,m,h,n]);return Ct(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(Dt.Provider,{value:l},x.createElement(na.Provider,{children:t,value:y}))}function Eu({children:e,location:t}){return I0(Zl(e),t)}function Zl(e,t=[]){let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Zl(n.props.children,i));return}ke(n.type===Be,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ke(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zl(n.props.children,i)),r.push(o)}),r}var Qa="get",Za="application/x-www-form-urlencoded";function Zi(e){return e!=null&&typeof e.tagName=="string"}function Q0(e){return Zi(e)&&e.tagName.toLowerCase()==="button"}function Z0(e){return Zi(e)&&e.tagName.toLowerCase()==="form"}function Y0(e){return Zi(e)&&e.tagName.toLowerCase()==="input"}function X0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ey(e,t){return e.button===0&&(!t||t==="_self")&&!X0(e)}var Ta=null;function ty(){if(Ta===null)try{new FormData(document.createElement("form"),0),Ta=!1}catch{Ta=!0}return Ta}var ry=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lo(e){return e!=null&&!ry.has(e)?(Ct(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Za}"`),null):e}function sy(e,t){let r,n,a,i,o;if(Z0(e)){let l=e.getAttribute("action");n=l?dr(l,t):null,r=e.getAttribute("method")||Qa,a=Lo(e.getAttribute("enctype"))||Za,i=new FormData(e)}else if(Q0(e)||Y0(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?dr(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Qa,a=Lo(e.getAttribute("formenctype"))||Lo(l.getAttribute("enctype"))||Za,i=new FormData(l,e),!ty()){let{name:d,type:u,value:m}=e;if(u==="image"){let h=d?`${d}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else d&&i.append(d,m)}}else{if(Zi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Qa,n=null,a=Za,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ny(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&dr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function ay(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function oy(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await ay(i,r);return o.links?o.links():[]}return[]}));return uy(n.flat(1).filter(iy).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Pu(e,t,r,n,a,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{var m;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function ly(e,t,{includeHydrateFallback:r}={}){return cy(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function cy(e){return[...new Set(e)]}function dy(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function uy(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(dy(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function $p(){let e=x.useContext(Xs);return sd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function my(){let e=x.useContext(Ki);return sd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nd=x.createContext(void 0);nd.displayName="FrameworkContext";function Ip(){let e=x.useContext(nd);return sd(e,"You must render this element inside a <HydratedRouter> element"),e}function fy(e,t){let r=x.useContext(nd),[n,a]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=t,h=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let j=p=>{p.forEach(g=>{o(g.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),x.useEffect(()=>{if(n){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[n]);let y=()=>{a(!0)},v=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:xn(l,y),onBlur:xn(c,v),onMouseEnter:xn(d,y),onMouseLeave:xn(u,v),onTouchStart:xn(m,y)}]:[!1,h,{}]}function xn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function py({page:e,...t}){let{router:r}=$p(),n=x.useMemo(()=>Sp(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(gy,{page:e,matches:n,...t}):null}function hy(e){let{manifest:t,routeModules:r}=Ip(),[n,a]=x.useState([]);return x.useEffect(()=>{let i=!1;return oy(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function gy({page:e,matches:t,...r}){let n=Ir(),{manifest:a,routeModules:i}=Ip(),{basename:o}=$p(),{loaderData:l,matches:c}=my(),d=x.useMemo(()=>Pu(e,t,c,a,n,"data"),[e,t,c,a,n]),u=x.useMemo(()=>Pu(e,t,c,a,n,"assets"),[e,t,c,a,n]),m=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,j=!1;if(t.forEach(p=>{var f;let g=a.routes[p.route.id];!g||!g.hasLoader||(!d.some(w=>w.route.id===p.route.id)&&p.route.id in l&&((f=i[p.route.id])!=null&&f.shouldRevalidate)||g.hasClientLoader?j=!0:v.add(p.route.id))}),v.size===0)return[];let b=ny(e,o,"data");return j&&v.size>0&&b.searchParams.set("_routes",t.filter(p=>v.has(p.route.id)).map(p=>p.route.id).join(",")),[b.pathname+b.search]},[o,l,n,a,d,t,e,i]),h=x.useMemo(()=>ly(u,a),[u,a]),y=hy(u);return x.createElement(x.Fragment,null,m.map(v=>x.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),h.map(v=>x.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),y.map(({key:v,link:j})=>x.createElement("link",{key:v,nonce:r.nonce,...j})))}function xy(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Dp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dp&&(window.__reactRouterVersion="7.9.6")}catch{}function yy({basename:e,children:t,window:r}){let n=x.useRef();n.current==null&&(n.current=i0({window:r,v5Compat:!0}));let a=n.current,[i,o]=x.useState({action:a.action,location:a.location}),l=x.useCallback(c=>{x.startTransition(()=>o(c))},[o]);return x.useLayoutEffect(()=>a.listen(l),[a,l]),x.createElement(K0,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var Mp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Op=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m,...h},y){let{basename:v}=x.useContext(Dt),j=typeof d=="string"&&Mp.test(d),b,p=!1;if(typeof d=="string"&&j&&(b=d,Dp))try{let E=new URL(window.location.href),D=d.startsWith("//")?new URL(E.protocol+d):new URL(d),Q=dr(D.pathname,v);D.origin===E.origin&&Q!=null?d=Q+D.search+D.hash:p=!0}catch{Ct(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=L0(d,{relative:a}),[f,w,k]=fy(n,h),A=by(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function C(E){t&&t(E),E.defaultPrevented||A(E)}let S=x.createElement("a",{...h,...k,href:b||g,onClick:p||i?t:C,ref:xy(y,w),target:c,"data-discover":!j&&r==="render"?"true":void 0});return f&&!j?x.createElement(x.Fragment,null,S,x.createElement(py,{page:g})):S});Op.displayName="Link";var Ya=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let m=aa(o,{relative:d.relative}),h=Ir(),y=x.useContext(Ki),{navigator:v,basename:j}=x.useContext(Dt),b=y!=null&&Sy(m)&&l===!0,p=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,g=h.pathname,f=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(g=g.toLowerCase(),f=f?f.toLowerCase():null,p=p.toLowerCase()),f&&j&&(f=dr(f,j)||f);const w=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let k=g===p||!a&&g.startsWith(p)&&g.charAt(w)==="/",A=f!=null&&(f===p||!a&&f.startsWith(p)&&f.charAt(p.length)==="/"),C={isActive:k,isPending:A,isTransitioning:b},S=k?t:void 0,E;typeof n=="function"?E=n(C):E=[n,k?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(C):i;return x.createElement(Op,{...d,"aria-current":S,className:E,ref:u,style:D,to:o,viewTransition:l},typeof c=="function"?c(C):c)});Ya.displayName="NavLink";var vy=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Qa,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:m,...h},y)=>{let v=_y(),j=ky(l,{relative:d}),b=o.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&Mp.test(l),g=f=>{if(c&&c(f),f.defaultPrevented)return;f.preventDefault();let w=f.nativeEvent.submitter,k=(w==null?void 0:w.getAttribute("formmethod"))||o;v(w||f.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:m})};return x.createElement("form",{ref:y,method:b,action:j,onSubmit:n?c:g,...h,"data-discover":!p&&e==="render"?"true":void 0})});vy.displayName="Form";function jy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fp(e){let t=x.useContext(Xs);return ke(t,jy(e)),t}function by(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Qi(),c=Ir(),d=aa(e,{relative:i});return x.useCallback(u=>{if(ey(u,t)){u.preventDefault();let m=r!==void 0?r:Zn(c)===Zn(d);l(e,{replace:m,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,n,t,e,a,i,o])}var wy=0,Ny=()=>`__${String(++wy)}__`;function _y(){let{router:e}=Fp("useSubmit"),{basename:t}=x.useContext(Dt),r=W0();return x.useCallback(async(n,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=sy(n,t);if(a.navigate===!1){let u=a.fetcherKey||Ny();await e.fetch(u,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function ky(e,{relative:t}={}){let{basename:r}=x.useContext(Dt),n=x.useContext(Qt);ke(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...aa(e||".",{relative:t})},o=Ir();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let u=l.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:nr([r,i.pathname])),Zn(i)}function Sy(e,{relative:t}={}){let r=x.useContext(Tp);ke(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Fp("useViewTransitionState"),a=aa(e,{relative:t});if(!r.isTransitioning)return!1;let i=dr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=dr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ci(a.pathname,o)!=null||Ci(a.pathname,i)!=null}const Cy=[{id:"1",name:"Service Provider",email:"manglaaryan05@gmail.com",phone:"9876543210",status:"approved",specialization:["AC Repair","Electrician Services"],rating:4.8,totalJobs:120},{id:"2",name:"Jane Smith",email:"jane@example.com",phone:"8765432109",status:"approved",specialization:["Salon at Home","Massage Therapy"],rating:4.9,totalJobs:85},{id:"3",name:"Bob Johnson",email:"bob@example.com",phone:"7654321098",status:"pending",specialization:["Plumbing Services","Home Cleaning"],rating:0,totalJobs:0}],Up=[{id:"1",name:"Regular User",email:"user@activeaidfitnessacademy.com",role:"user",status:"active",phone:"9876543210",address:"123 Main St, Apt 4B"},{id:"2",name:"Service Provider",email:"provider@activeaidfitnessacademy.com",role:"provider",status:"active",phone:"8765432109",address:"456 Park Ave, Suite 10"},{id:"3",name:"Admin User",email:"admin@activeaidfitnessacademy.com",role:"admin",status:"active",phone:"7654321098"}],$o={};let us=Up.filter(e=>e.role==="user"&&e.id).map(e=>({id:e.id,name:e.name||"",email:e.email,phone:e.phone||"",password:e.role==="user"?"Neighshop#user":"Neighshop#admin",role:"user",status:e.status,createdAt:new Date().toISOString()})),Mr=Cy.map(e=>({id:e.id,name:e.name,email:e.email,phone:e.phone,password:"Neighshop#provider",service:e.specialization[0],pincode:"400001",address:"",documentUrl:"/documents/provider.pdf",role:"provider",status:e.status,createdAt:new Date().toISOString()}));const ms=e=>new Promise(t=>setTimeout(t,e)),Or=e=>({id:e.id,name:e.name,email:e.email,role:e.role,status:e.status,phone:e.phone}),Tu=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e),Io=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Au=e=>/^\d{10}$/.test(e),Aa=($o==null?void 0:$o.VITE_API_BASE_URL)||"https://prox.mycartly.in/api",za={login:async(e,t,r)=>{if(await ms(1e3),!Io(e))return{success:!1,message:"Invalid email format"};if(r==="admin"){if(e==="admin@activeaidfitnessacademy.com"&&t==="Neighshop#admin"){const n=Up.find(a=>a.role==="admin");if(n)return{success:!0,message:"Admin login successful",user:n}}return{success:!1,message:"Invalid admin credentials"}}if(r==="user"){const n=us.find(a=>a.email===e);if(n&&n.password===t)return n.status!=="active"?{success:!1,message:"Your account is inactive"}:{success:!0,message:"Login successful",user:Or(n)}}if(r==="provider"){const n=Mr.find(a=>a.email===e);if(n&&n.password===t)return n.status!=="approved"?{success:!1,message:"Your account is pending approval"}:{success:!0,message:"Login successful",user:Or(n)}}return{success:!1,message:"Invalid credentials"}},registerUser:async e=>{if(await ms(1e3),!Io(e.email))return{success:!1,message:"Invalid email format"};if(!Au(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!Tu(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(us.some(r=>r.email===e.email)||Mr.some(r=>r.email===e.email))return{success:!1,message:"Email already registered"};const t={...e,id:(us.length+1).toString(),role:"user",status:"active",createdAt:new Date().toISOString()};return us.push(t),{success:!0,message:"Registration successful",user:Or(t)}},registerProvider:async(e,t)=>{if(await ms(1e3),!Io(e.email))return{success:!1,message:"Invalid email format"};if(!Au(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!Tu(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(!e.service)return{success:!1,message:"Service selection is required"};if(!e.pincode||!/^\d{6}$/.test(e.pincode))return{success:!1,message:"Invalid pincode format (6 digits required)"};if(us.some(i=>i.email===e.email)||Mr.some(i=>i.email===e.email))return{success:!1,message:"Email already registered"};if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png"].includes(t.type))return{success:!1,message:"Invalid document format"};if(t.size>5*1024*1024)return{success:!1,message:"Document size should be less than 5MB"};const n=URL.createObjectURL(t),a={...e,id:(Mr.length+1).toString(),role:"provider",status:"pending",documentUrl:n,createdAt:new Date().toISOString()};return Mr.push(a),{success:!0,message:"Registration submitted for approval. You will be notified once approved.",user:Or(a)}},getRegisteredUsers:async()=>(await ms(500),us.map(Or)),getRegisteredProviders:async()=>(await ms(500),Mr.map(Or)),updateProviderStatus:async(e,t)=>{await ms(500);const r=Mr.find(n=>n.id===e);return r?(r.status=t,{success:!0,message:`Provider ${t} successfully`,user:Or(r)}):{success:!1,message:"Provider not found"}},sendOTP:async e=>{const t=await fetch(`${Aa}/api/provider/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok)throw new Error("Failed to send OTP");return t.json()},verifyOTP:async(e,t)=>{const r=await fetch(`${Aa}/api/provider/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t})});if(!r.ok)throw new Error("Failed to verify OTP");return r.json()},getServiceProviderInfo:async e=>{const t=await fetch(`${Aa}/create_account_service_provider`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to get service provider info");return t.json()},createServiceProviderAccount:async(e,t)=>{const r=new FormData;r.append("name",t.name),r.append("service_type",t.service_type),r.append("phone_number",t.phone_number),r.append("address",t.address),r.append("pincode",t.pincode),r.append("document",t.document),t.referral&&r.append("referral",t.referral);const n=await fetch(`${Aa}/create_account_service_provider`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});if(!n.ok)throw new Error("Failed to create service provider account");return n.json()}},Do={},fs=(Do==null?void 0:Do.VITE_API_BASE_URL)||"https://prox.mycartly.in/api",Bp=x.createContext(void 0),vt=()=>{const e=x.useContext(Bp);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ey=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[i,o]=x.useState(!0),l=()=>{const b=localStorage.getItem("blinkcare_user"),p=localStorage.getItem("blinkcare_token"),g=localStorage.getItem("blinkcare_role");if(p&&b)try{const f=JSON.parse(b);if(console.log("AuthContext: Restoring user data",{storedRole:g,userData:f}),g==="admin"||f.role==="admin"||f.role==="super_admin")if(p.startsWith("mock_token_")){a(p);const w={...f,role:f.role==="super_admin"?"admin":f.role};console.log("AuthContext: Restoring mock admin session",w),r(w),o(!1)}else fetch(`${fs}/admin/verify-token`,{headers:{Authorization:`Bearer ${p}`}}).then(w=>{if(w.ok){a(p);const k={...f,role:f.role==="super_admin"?"admin":f.role};console.log("AuthContext: Setting user data after validation",k),r(k)}else localStorage.removeItem("blinkcare_token"),localStorage.removeItem("blinkcare_user"),localStorage.removeItem("blinkcare_role"),a(null),r(null)}).catch(()=>{if(f&&f.role==="admin"){a(p);const w={...f,role:f.role==="super_admin"?"admin":f.role};r(w)}else localStorage.removeItem("blinkcare_token"),localStorage.removeItem("blinkcare_user"),localStorage.removeItem("blinkcare_role"),a(null),r(null)}).finally(()=>{o(!1)});else g==="provider"||f.role==="provider"?(a(p),r(f),o(!1)):fetch(`${fs}/api/user/profile`,{headers:{Authorization:`Bearer ${p}`}}).then(w=>{w.ok?(a(p),r(f)):(localStorage.removeItem("blinkcare_token"),localStorage.removeItem("blinkcare_user"),localStorage.removeItem("blinkcare_role"),a(null),r(null))}).catch(()=>{localStorage.removeItem("blinkcare_token"),localStorage.removeItem("blinkcare_user"),localStorage.removeItem("blinkcare_role"),a(null),r(null)}).finally(()=>{o(!1)})}catch{localStorage.removeItem("blinkcare_token"),localStorage.removeItem("blinkcare_user"),localStorage.removeItem("blinkcare_role"),a(null),r(null),o(!1)}else o(!1)};x.useEffect(()=>{l();const b=g=>{(g.key==="blinkcare_token"||g.key==="blinkcare_user"||g.key==="blinkcare_role")&&l()},p=()=>{l()};return window.addEventListener("storage",b),window.addEventListener("authUpdate",p),()=>{window.removeEventListener("storage",b),window.removeEventListener("authUpdate",p)}},[]);const j={user:t,isAuthenticated:!!n,isLoading:i,token:n,sendOTP:async b=>{try{await za.sendOTP(b)}catch(p){throw console.error("Failed to send OTP:",p),p}},verifyOTP:async(b,p)=>{try{const g=await za.verifyOTP(b,p);if(g.is_existing&&g.token&&g.provider){a(g.token),localStorage.setItem("blinkcare_token",g.token);const f={id:g.provider.id.toString(),email:g.provider.email,role:"provider",status:g.provider.status||"pending",name:g.provider.name||"",phone:g.provider.phone||""};return r(f),localStorage.setItem("blinkcare_user",JSON.stringify(f)),localStorage.setItem("blinkcare_role","provider"),{token:g.token,user:f,isNewUser:!1}}else return{token:null,user:null,isNewUser:!0}}catch(g){throw console.error("OTP verification failed:",g),g}},createServiceProviderAccount:async b=>{if(!n)throw new Error("No authentication token found");try{await za.createServiceProviderAccount(n,b);const g={email:(await za.getServiceProviderInfo(n)).email,role:"provider",name:b.name,phone:b.phone_number,status:"pending"};r(g),localStorage.setItem("blinkcare_user",JSON.stringify(g))}catch(p){throw console.error("Failed to create service provider account:",p),p}},adminLogin:async(b,p)=>{try{const g=await fetch(`${fs}/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,password:p})}),f=await g.json();if(!g.ok)throw new Error(f.message||"Login failed");if(f.token){a(f.token);const w=f.admin.role==="super_admin"?"admin":f.admin.role,k={...f.admin,role:w};r(k),localStorage.setItem("blinkcare_token",f.token),localStorage.setItem("blinkcare_user",JSON.stringify(k)),localStorage.setItem("blinkcare_role","admin")}else throw new Error("No token received")}catch(g){throw console.error("Admin login failed:",g),g}},login:async(b,p,g="user")=>{try{const f=await fetch(`${fs}/api/user/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:p})}),w=await f.json();if(!f.ok)throw new Error(w.message||"Login failed");if(w.token&&w.user){a(w.token);const k={id:w.user.id,email:w.user.email,role:g,status:w.user.status||"active",name:w.user.name||"",phone:w.user.phone||""};r(k),localStorage.setItem("blinkcare_token",w.token),localStorage.setItem("blinkcare_user",JSON.stringify(k)),localStorage.setItem("blinkcare_role",g);const A=localStorage.getItem("selectedService"),C=localStorage.getItem("selectedCategory");A?localStorage.removeItem("selectedService"):C&&localStorage.removeItem("selectedCategory")}else throw new Error("No token or user data received")}catch(f){throw console.error("Login failed:",f),f}},logout:()=>{r(null),a(null),localStorage.removeItem("blinkcare_user"),localStorage.removeItem("blinkcare_token"),localStorage.removeItem("blinkcare_role")},refreshUserData:async()=>{try{const b=localStorage.getItem("blinkcare_token"),p=localStorage.getItem("blinkcare_role");if(b&&p)if(p==="admin"){const g=await fetch(`${fs}/admin/me`,{headers:{Authorization:`Bearer ${b}`}});if(g.ok){const f=await g.json(),w={...f.admin,role:f.admin.role==="super_admin"?"admin":f.admin.role};r(w),localStorage.setItem("blinkcare_user",JSON.stringify(w)),console.log("Admin data refreshed:",w)}}else if(p==="provider")console.log("Service provider session maintained - no auto-refresh");else{const g=await fetch(`${fs}/api/user/profile`,{headers:{Authorization:`Bearer ${b}`}});if(g.ok){const w=(await g.json()).profile,k={id:w.id,email:w.email,role:p,status:w.status||"active",name:w.name||"",phone:w.phone||""};console.log("Refreshing user data:",k),r(k),localStorage.setItem("blinkcare_user",JSON.stringify(k)),console.log("User data updated in context and localStorage")}else console.error("Failed to refresh user data:",g.status)}}catch(b){console.error("Error refreshing user data:",b)}}};return s.jsx(Bp.Provider,{value:j,children:e})},Hp=x.createContext(void 0),Et=()=>{const e=x.useContext(Hp);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Py=({children:e})=>{const[t,r]=x.useState([]),n=x.useCallback((i,o)=>{const l=Math.random().toString(36).substring(2,9);r(c=>[...c,{id:l,message:i,type:o}]),setTimeout(()=>{r(c=>c.filter(d=>d.id!==l))},5e3)},[]),a=x.useCallback(i=>{r(o=>o.filter(l=>l.id!==i))},[]);return s.jsx(Hp.Provider,{value:{toasts:t,addToast:n,removeToast:a},children:e})},Ty=()=>{const{toasts:e,removeToast:t}=Et();return e.length===0?null:s.jsx("div",{className:"fixed bottom-0 right-0 p-4 z-50 max-w-md w-full",children:s.jsx("div",{className:"space-y-2",children:e.map(r=>s.jsxs("div",{className:`p-4 rounded-lg shadow-lg flex items-start justify-between transition-all duration-300 animate-slide-up
              ${r.type==="success"?"bg-success text-white":r.type==="error"?"bg-error text-white":r.type==="warning"?"bg-warning text-white":"bg-primary text-secondary-dark"}
            `,children:[s.jsx("p",{children:r.message}),s.jsx("button",{onClick:()=>t(r.id),className:"ml-4 text-sm hover:opacity-70",children:""})]},r.id))})})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ay={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>x.createElement("svg",{ref:u,...Ay,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${zy(e)}`,l].join(" "),...d},[...t.map(([m,h])=>x.createElement(m,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=K("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=K("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=K("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=K("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=K("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=K("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=K("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=K("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=K("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=K("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=K("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=K("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=K("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=K("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=K("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=K("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=K("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=K("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=K("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=K("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=K("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=K("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=K("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=K("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=K("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=K("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=K("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=K("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=K("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=K("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=K("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=K("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=K("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=K("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=K("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Du=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,i]=x.useState(!1),o=Qi(),{adminLogin:l,isAuthenticated:c,user:d,isLoading:u}=vt(),{addToast:m}=Et();if(x.useEffect(()=>{!u&&c&&(d==null?void 0:d.role)==="admin"&&o("/admin/dashboard",{replace:!0})},[c,d,u,o]),u)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});const h=async y=>{if(y.preventDefault(),i(!0),e.trim().toLowerCase()!=="admin"||r!=="admin"){m("Invalid username or password","error"),i(!1);return}try{await l(e,r),m("Login successful!","success");const v=()=>{c&&(d==null?void 0:d.role)==="admin"?o("/admin/dashboard",{replace:!0}):setTimeout(v,50)};setTimeout(v,100)}catch{const j="mock_token_"+Date.now(),b={username:"admin",email:"admin@activeaidfitnessacademy.com",id:1,role:"admin",name:"Admin",created_at:"2024-01-01T10:00:00Z",last_login:new Date().toISOString()};localStorage.setItem("blinkcare_role","admin"),localStorage.setItem("blinkcare_user",JSON.stringify(b)),localStorage.setItem("blinkcare_token",j),window.dispatchEvent(new CustomEvent("authUpdate"));const p=()=>{if(c&&(d==null?void 0:d.role)==="admin")m("Login successful!","success"),o("/admin/dashboard",{replace:!0});else{const g=localStorage.getItem("blinkcare_token"),f=localStorage.getItem("blinkcare_user");g&&f?setTimeout(p,100):setTimeout(p,50)}};setTimeout(p,200)}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("button",{onClick:()=>o("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[s.jsx(Ry,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),s.jsx("div",{children:s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"})}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[s.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),s.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:y=>t(y.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),s.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:y=>n(y.target.value)})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:a?"Logging in...":"Sign in"})})]})]})})},iv=e=>{const t=new Date,r=t.toISOString().split("T")[0];let n;switch(e){case"7d":n=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0];break;case"30d":n=new Date(t.setDate(t.getDate()-30)).toISOString().split("T")[0];break;case"90d":n=new Date(t.setDate(t.getDate()-90)).toISOString().split("T")[0];break;case"1y":n=new Date(t.setFullYear(t.getFullYear()-1)).toISOString().split("T")[0];break;default:n=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0]}return{from:n,to:r}},ov=({dateFrom:e,dateTo:t,onDateRangeChange:r,onExport:n})=>{const a=l=>{const{from:c,to:d}=iv(l);r(c,d)},i=(l,c)=>{l==="from"?r(c,t):r(e,c)},o=()=>{const c=new Date().toISOString().split("T")[0];if(t===c){const d=Math.ceil((new Date(t).getTime()-new Date(e).getTime())/864e5);if(d<=7)return"7d";if(d<=30)return"30d";if(d<=90)return"90d";if(d<=365)return"1y"}return"custom"};return s.jsx("div",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200/50 z-50 shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"h-16 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-xl shadow-lg",children:s.jsx(Ti,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Platform Analytics & Management"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"hidden sm:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[s.jsx(Ze,{className:"w-4 h-4 text-gray-400"}),s.jsxs("select",{value:o(),onChange:l=>{l.target.value!=="custom"&&a(l.target.value)},className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700 font-medium",children:[s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"90d",children:"Last 90 days"}),s.jsx("option",{value:"1y",children:"Last year"}),s.jsx("option",{value:"custom",children:"Custom Range"})]})]}),o()==="custom"&&s.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[s.jsx("input",{type:"date",value:e,onChange:l=>i("from",l.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",max:t}),s.jsx("span",{className:"text-gray-400",children:"to"}),s.jsx("input",{type:"date",value:t,onChange:l=>i("to",l.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",min:e,max:new Date().toISOString().split("T")[0]})]}),n&&s.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[s.jsx(Xa,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Dr,{className:"w-5 h-5"})})]})]})})})},Mo={},lv=(Mo==null?void 0:Mo.VITE_API_BASE_URL)||"https://prox.mycartly.in/api",sn=lv,Mu=(e,t)=>({metrics:{total_revenue:245678.5,total_bookings:1234,completed_bookings:1156,active_users:856,active_providers:234,pending_disputes:12,platform_revenue:24567.85,new_users_today:23,new_providers_today:5,pending_withdrawals:8},growth_rates:{revenue_growth:15.5,booking_growth:22.3,user_growth:18.7},recent_activity:{new_bookings:45,completed_bookings:38,new_disputes:2,payments_received:42},date_range:{from:e,to:t}}),cv=(e,t)=>{const[r,n]=x.useState(null),[a,i]=x.useState(!0),[o,l]=x.useState(null),{token:c}=vt();return x.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{n(Mu(e,t)),i(!1)},500);return}try{const m=await fetch(`${sn}/admin/analytics/dashboard?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!m.ok)throw m.status===401?new Error("Unauthorized: Please log in again"):m.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${m.status}`);const h=await m.json();if(!h.success)throw new Error(h.message||"Failed to fetch dashboard data");n({metrics:h.metrics,growth_rates:h.growth_rates,recent_activity:h.recent_activity,date_range:h.date_range})}catch(m){console.error("Error fetching dashboard data:",m),n(Mu(e,t)),l(null)}finally{i(!1)}})()},[e,t,c]),{data:r,loading:a,error:o}},Ou=()=>({trend:[{period:"2024-01-01",total_revenue:12500,platform_revenue:1250,transaction_count:45,avg_transaction_value:277.78},{period:"2024-01-02",total_revenue:13800,platform_revenue:1380,transaction_count:52,avg_transaction_value:265.38},{period:"2024-01-03",total_revenue:15200,platform_revenue:1520,transaction_count:58,avg_transaction_value:262.07},{period:"2024-01-04",total_revenue:14100,platform_revenue:1410,transaction_count:54,avg_transaction_value:261.11},{period:"2024-01-05",total_revenue:16700,platform_revenue:1670,transaction_count:63,avg_transaction_value:265.08}],payment_methods:[{method:"Credit Card",total_amount:145678,transaction_count:523},{method:"Debit Card",total_amount:67890,transaction_count:312},{method:"UPI",total_amount:32110,transaction_count:399}],category_revenue:[{category:"Plumbing",total_revenue:45678,booking_count:234,avg_booking_value:195.21},{category:"Electrical",total_revenue:38900,booking_count:198,avg_booking_value:196.46},{category:"Cleaning",total_revenue:32100,booking_count:267,avg_booking_value:120.34},{category:"Carpentry",total_revenue:28900,booking_count:145,avg_booking_value:199.31}],top_providers:[{name:"John Smith",business_name:"Smith Services",total_earnings:12345,booking_count:67},{name:"Sarah Johnson",business_name:"Johnson Pro",total_earnings:11234,booking_count:58},{name:"Mike Williams",business_name:"Williams Solutions",total_earnings:9876,booking_count:52}]}),dv=(e,t)=>{const[r,n]=x.useState(null),[a,i]=x.useState(!0),[o,l]=x.useState(null),{token:c}=vt();return x.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{n(Ou()),i(!1)},500);return}try{const m=await fetch(`${sn}/admin/analytics/revenue?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!m.ok)throw m.status===401?new Error("Unauthorized: Please log in again"):m.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${m.status}`);const h=await m.json();if(!h.success)throw new Error(h.message||"Failed to fetch revenue data");n(h.revenue_data)}catch(m){console.error("Error fetching revenue data:",m),n(Ou()),l(null)}finally{i(!1)}})()},[e,t,c]),{data:r,loading:a,error:o}},Fu=()=>({registration_trend:[{date:"2024-01-01",new_users:12},{date:"2024-01-02",new_users:18},{date:"2024-01-03",new_users:15},{date:"2024-01-04",new_users:22},{date:"2024-01-05",new_users:19}],activity_metrics:{total_users:856,active_users_30d:623,verified_users:712,users_with_bookings:534},geographic_distribution:[{city:"Mumbai",state:"Maharashtra",user_count:234,active_users:189},{city:"Delhi",state:"Delhi",user_count:198,active_users:156},{city:"Bangalore",state:"Karnataka",user_count:167,active_users:134},{city:"Pune",state:"Maharashtra",user_count:123,active_users:98}],engagement_metrics:{avg_bookings_per_user:2.3,avg_spent_per_user:456.78,repeat_user_rate:68.5},cohort_analysis:[{month:"2024-01",users_count:234,retention_rate:85.2},{month:"2023-12",users_count:198,retention_rate:82.3},{month:"2023-11",users_count:167,retention_rate:79.6}]}),uv=(e,t)=>{const[r,n]=x.useState(null),[a,i]=x.useState(!0),[o,l]=x.useState(null),{token:c}=vt();return x.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{n(Fu()),i(!1)},500);return}try{const m=await fetch(`${sn}/admin/analytics/users?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!m.ok)throw m.status===401?new Error("Unauthorized: Please log in again"):m.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${m.status}`);const h=await m.json();n(h.user_analytics)}catch(m){console.error("Error fetching user analytics:",m),n(Fu()),l(null)}finally{i(!1)}})()},[e,t,c]),{data:r,loading:a,error:o}},Uu=()=>({booking_trend:[{date:"2024-01-01",total_bookings:45,completed_bookings:42,cancelled_bookings:3,completion_rate:93.3},{date:"2024-01-02",total_bookings:52,completed_bookings:48,cancelled_bookings:4,completion_rate:92.3},{date:"2024-01-03",total_bookings:58,completed_bookings:55,cancelled_bookings:3,completion_rate:94.8},{date:"2024-01-04",total_bookings:54,completed_bookings:51,cancelled_bookings:3,completion_rate:94.4},{date:"2024-01-05",total_bookings:63,completed_bookings:60,cancelled_bookings:3,completion_rate:95.2}],status_distribution:[{status:"completed",count:1156},{status:"pending",count:45},{status:"in_progress",count:23},{status:"cancelled",count:10}],peak_booking_times:[{hour:9,booking_count:45},{hour:10,booking_count:67},{hour:11,booking_count:89},{hour:14,booking_count:78},{hour:15,booking_count:92},{hour:16,booking_count:85}],category_performance:[{category:"Plumbing",total_bookings:234,completed_bookings:221,completion_rate:94.4,avg_booking_value:195.21,avg_rating:4.6},{category:"Electrical",total_bookings:198,completed_bookings:187,completion_rate:94.4,avg_booking_value:196.46,avg_rating:4.7},{category:"Cleaning",total_bookings:267,completed_bookings:254,completion_rate:95.1,avg_booking_value:120.34,avg_rating:4.5}],conversion_funnel:{searches:5678,profile_views:3456,bookings:1234,completed_bookings:1156,search_to_booking_rate:21.7,booking_completion_rate:93.7}}),mv=(e,t)=>{const[r,n]=x.useState(null),[a,i]=x.useState(!0),[o,l]=x.useState(null),{token:c}=vt();return x.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{n(Uu()),i(!1)},500);return}try{const m=await fetch(`${sn}/admin/analytics/bookings?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!m.ok)throw m.status===401?new Error("Unauthorized: Please log in again"):m.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${m.status}`);const h=await m.json();n(h.booking_analytics)}catch(m){console.error("Error fetching booking analytics:",m),n(Uu()),l(null)}finally{i(!1)}})()},[e,t,c]),{data:r,loading:a,error:o}},Bu=()=>({registration_trend:[{date:"2024-01-01",new_providers:3},{date:"2024-01-02",new_providers:5},{date:"2024-01-03",new_providers:4},{date:"2024-01-04",new_providers:6},{date:"2024-01-05",new_providers:5}],status_distribution:[{status:"approved",verification_status:"verified",count:189},{status:"approved",verification_status:"pending",count:45},{status:"pending",verification_status:"pending",count:23},{status:"rejected",verification_status:"rejected",count:12}],top_performers:[{name:"John Smith",business_name:"Smith Services",rating:4.8,total_bookings:67,completed_bookings:65,completion_rate:97,total_earnings:12345},{name:"Sarah Johnson",business_name:"Johnson Pro",rating:4.7,total_bookings:58,completed_bookings:56,completion_rate:96.6,total_earnings:11234},{name:"Mike Williams",business_name:"Williams Solutions",rating:4.6,total_bookings:52,completed_bookings:50,completion_rate:96.2,total_earnings:9876}],performance_metrics:{avg_platform_rating:4.5,active_providers:234,verified_providers:189,avg_completion_rate:94.2},category_distribution:[{category:"Plumbing",provider_count:67,avg_rating:4.6},{category:"Electrical",provider_count:54,avg_rating:4.7},{category:"Cleaning",provider_count:78,avg_rating:4.5},{category:"Carpentry",provider_count:35,avg_rating:4.6}]}),fv=(e,t)=>{const[r,n]=x.useState(null),[a,i]=x.useState(!0),[o,l]=x.useState(null),{token:c}=vt();return x.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{n(Bu()),i(!1)},500);return}try{const m=await fetch(`${sn}/admin/analytics/providers?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!m.ok)throw m.status===401?new Error("Unauthorized: Please log in again"):m.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${m.status}`);const h=await m.json();if(!h.success)throw new Error(h.message||"Failed to fetch provider analytics");n(h.provider_analytics)}catch(m){console.error("Error fetching provider analytics:",m),n(Bu()),l(null)}finally{i(!1)}})()},[e,t,c]),{data:r,loading:a,error:o}},Oo=()=>({current_metrics:{avg_response_time_ms:145,avg_db_query_time_ms:23,avg_server_load:45.6,avg_memory_usage:62.3,avg_error_rate:.12,avg_uptime:99.8},time_series:[{timestamp:"2024-01-05T00:00:00Z",response_time:142,db_query_time:21,active_sessions:234,server_load:43.2,memory_usage:60.1,error_rate:.1},{timestamp:"2024-01-05T01:00:00Z",response_time:145,db_query_time:23,active_sessions:256,server_load:45.6,memory_usage:62.3,error_rate:.12},{timestamp:"2024-01-05T02:00:00Z",response_time:148,db_query_time:24,active_sessions:278,server_load:47.8,memory_usage:64.5,error_rate:.14},{timestamp:"2024-01-05T03:00:00Z",response_time:143,db_query_time:22,active_sessions:245,server_load:44.1,memory_usage:61.2,error_rate:.11}]}),pv=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!0),[a,i]=x.useState(null),{token:o}=vt();return x.useEffect(()=>{(async()=>{const c=o&&o.startsWith("mock_token_");if(!o||c){setTimeout(()=>{t(Oo()),n(!1)},500);return}try{const d=await fetch(`${sn}/admin/analytics/system-performance`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!d.ok){if(d.status===401)throw new Error("Unauthorized: Please log in again");if(d.status===404){console.warn("System performance endpoint not found (404), using mock data"),t(Oo()),i(null),n(!1);return}else if(d.status===500)throw new Error("Server error: Please try again later");throw new Error(`HTTP error! status: ${d.status}`)}const u=await d.json();if(!u.success)throw new Error(u.message||"Failed to fetch system performance data");t(u.performance_data)}catch(d){console.error("Error fetching system performance data:",d),t(Oo()),i(null)}finally{n(!1)}})()},[o]),{data:e,loading:r,error:a}},hv=({dateFrom:e,dateTo:t})=>{const{data:r,loading:n,error:a}=cv(e,t);if(n)return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((o,l)=>s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),s.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded-full"})]}),s.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},l))});if(a||!r)return s.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:a||"Failed to load metrics"});const i=[{name:"Total Revenue",value:`$${r.metrics.total_revenue.toLocaleString()}`,change:`${r.growth_rates.revenue_growth>0?"+":""}${r.growth_rates.revenue_growth}%`,changeType:r.growth_rates.revenue_growth>=0?"positive":"negative",icon:Vt,gradient:"from-emerald-400 to-teal-500"},{name:"Total Bookings",value:r.metrics.total_bookings.toLocaleString(),change:`${r.growth_rates.booking_growth>0?"+":""}${r.growth_rates.booking_growth}%`,changeType:r.growth_rates.booking_growth>=0?"positive":"negative",icon:Ze,gradient:"from-blue-400 to-cyan-500"},{name:"Completed Bookings",value:r.metrics.completed_bookings.toLocaleString(),change:`${(r.metrics.completed_bookings/r.metrics.total_bookings*100).toFixed(1)}%`,changeType:"positive",icon:ar,gradient:"from-green-400 to-emerald-500"},{name:"Active Users",value:r.metrics.active_users.toLocaleString(),change:`${r.growth_rates.user_growth>0?"+":""}${r.growth_rates.user_growth}%`,changeType:r.growth_rates.user_growth>=0?"positive":"negative",icon:zr,gradient:"from-purple-400 to-indigo-500"},{name:"Active Providers",value:r.metrics.active_providers.toLocaleString(),change:`${r.metrics.new_providers_today>0?"+":""}${r.metrics.new_providers_today}`,changeType:"positive",icon:Jp,gradient:"from-orange-400 to-red-500"},{name:"Pending Withdrawals",value:`$${r.metrics.pending_withdrawals.toLocaleString()}`,change:"Pending",changeType:"negative",icon:pt,gradient:"from-yellow-400 to-orange-500"},{name:"New Users Today",value:r.metrics.new_users_today.toLocaleString(),change:"Today",changeType:"positive",icon:ad,gradient:"from-pink-400 to-rose-500"},{name:"Pending Disputes",value:r.metrics.pending_disputes.toLocaleString(),change:"Active",changeType:"negative",icon:Vp,gradient:"from-slate-400 to-gray-500"}];return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map((o,l)=>{const c=o.icon;return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20 hover:scale-105 hover:bg-white/90",style:{animationDelay:`${l*50}ms`},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 bg-gradient-to-br ${o.gradient} rounded-xl shadow-md`,children:s.jsx(c,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:`text-sm font-semibold px-3 py-1 rounded-full ${o.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:o.change})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:o.value}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:o.name})]})]},o.name)})})},gv=[{name:"Revenue Growth",value:"12.5%",icon:Yl,color:"emerald",gradient:"from-emerald-400 to-teal-500"},{name:"Booking Growth",value:"8.2%",icon:Ze,color:"blue",gradient:"from-blue-400 to-cyan-500"},{name:"User Growth",value:"15.3%",icon:Yl,color:"purple",gradient:"from-purple-400 to-indigo-500"}],xv=[{type:"New Bookings",count:47,color:"blue",icon:Ze,gradient:"from-blue-400 to-cyan-500"},{type:"Completed Bookings",count:32,color:"emerald",icon:Ze,gradient:"from-emerald-400 to-teal-500"},{type:"New Disputes",count:3,color:"red",icon:Vp,gradient:"from-red-400 to-rose-500"},{type:"Payments Received",count:28,color:"green",icon:Jt,gradient:"from-green-400 to-emerald-500"}],yv=()=>s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full mr-3"}),"Growth Overview"]}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:gv.map(e=>{const t=e.icon;return s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:`flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br ${e.gradient} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:s.jsx(t,{className:"w-8 h-8 text-white"})}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.value}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:e.name})]},e.name)})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-600 rounded-full mr-3"}),"Recent Activity"]}),s.jsx("div",{className:"space-y-4",children:xv.map(e=>{const t=e.icon;return s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/60 backdrop-blur-sm hover:bg-white/80 transition-all duration-200 border border-white/30 hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${e.gradient} shadow-md`,children:s.jsx(t,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"font-semibold text-gray-900",children:e.type})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e.count}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Today"})]})]},e.type)})})]})]}),vv=({dateFrom:e,dateTo:t})=>{const{data:r,loading:n,error:a}=dv(e,t);if(n)return s.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),s.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:s.jsx("div",{className:"space-y-4",children:[...Array(6)].map((o,l)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-8 h-6 bg-gray-200 rounded"}),s.jsx("div",{className:"flex-1 h-6 bg-gray-200 rounded-full"}),s.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},l))})})]});if(a||!r)return s.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:a||"Failed to load revenue insights"});const i=Math.max(...r.trend.map(o=>o.total_revenue));return s.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-600 rounded-full mr-3"}),"Revenue Insights"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[s.jsx(Yl,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Revenue Over Time"]}),s.jsx("div",{className:"space-y-4",children:r.trend.map((o,l)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"w-8 text-sm font-semibold text-gray-700",children:o.period}),s.jsxs("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-emerald-400 via-teal-500 to-blue-500 h-6 rounded-full transition-all duration-1000 shadow-sm",style:{width:`${o.total_revenue/i*100}%`,animationDelay:`${l*200}ms`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})]}),s.jsxs("span",{className:"w-16 text-sm font-bold text-gray-900",children:["$",(o.revenue_data&&o.revenue_data.trend&&o.revenue_data.trend.length>0?o.revenue_data.trend.reduce((c,d)=>c+(d.total_revenue||0),0):0).toLocaleString()]})]},o.period))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Jt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Payment Methods"]}),s.jsx("div",{className:"space-y-3",children:r.payment_methods.map((o,l)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/40 rounded-lg border border-white/20",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 shadow-sm"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:o.method})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-2 rounded-full transition-all duration-1000",style:{width:`${r.trend&&r.trend.length>0&&r.trend[0].total_revenue>0?o.total_amount/r.trend[0].total_revenue*100:0}%`,animationDelay:`${l*150}ms`}})}),s.jsxs("span",{className:"text-sm font-bold text-gray-900 w-8",children:["$",o.total_amount.toLocaleString()]})]})]},o.method))})]}),s.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Qy,{className:"w-5 h-5 mr-2 text-purple-600"}),"Revenue by Category"]}),s.jsx("div",{className:"space-y-3",children:r.category_revenue.map((o,l)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:o.category}),s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",o.total_revenue.toLocaleString()]})]}),s.jsx("div",{className:"bg-gray-200 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-600 h-3 rounded-full transition-all duration-1000 shadow-sm",style:{width:`${r.trend&&r.trend.length>0&&r.trend[0].total_revenue>0?o.total_revenue/r.trend[0].total_revenue*100:0}%`,animationDelay:`${l*200}ms`}})})]},o.category))})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[s.jsx(qs,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Top Earning Providers"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:r.top_providers.map((o,l)=>s.jsxs("div",{className:"bg-white/60 backdrop-blur-sm p-6 rounded-xl border border-white/30 hover:bg-white/80 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:o.name.split(" ").map(c=>c[0]).join("")}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:o.name}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:o.business_name})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["$",o.total_earnings.toLocaleString()]}),s.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-100 px-2 py-1 rounded-full",children:[s.jsx(qs,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsxs("span",{className:"text-sm font-semibold text-yellow-700",children:[o.booking_count," bookings"]})]})]})]},o.name))})]})]})},jv=({dateFrom:e,dateTo:t})=>{const{data:r,loading:n,error:a}=uv(e,t);if(n)return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),s.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((m,h)=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),s.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),s.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},h))})]});if(a||!r)return s.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:a||"Failed to load user analytics"});const i=r.activity_metrics||{};r.engagement_metrics;const o=i.total_users||0,l=i.active_users_30d||0,c=i.verified_users||0,d=i.users_with_bookings||0,u=[{name:"Total Users",value:o.toLocaleString(),change:`${c} verified`,changeType:"positive",icon:zr,gradient:"from-blue-400 to-cyan-500"},{name:"Active Users (30d)",value:l.toLocaleString(),change:"Last 30 days",changeType:"positive",icon:ad,gradient:"from-green-400 to-emerald-500"},{name:"Users with Bookings",value:d.toLocaleString(),change:`${o>0?Math.round(d/o*100):0}% of total`,changeType:"positive",icon:sv,gradient:"from-purple-400 to-indigo-500"},{name:"Verified Users",value:c.toLocaleString(),change:`${o>0?Math.round(c/o*100):0}% verified`,changeType:"positive",icon:nv,gradient:"from-red-400 to-rose-500"}];return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Analytics"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(m=>{const h=m.icon;return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${m.gradient} rounded-xl shadow-md`,children:s.jsx(h,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.value}),s.jsx("p",{className:"text-sm text-gray-600",children:m.name})]}),s.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${m.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:m.change})]},m.name)})})]})},bv=({dateFrom:e,dateTo:t})=>{const{data:r,loading:n,error:a}=mv(e,t);if(n)return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),s.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,h)=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),s.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),s.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},h))})]});if(a||!r)return s.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:a||"Failed to load booking analytics"});const i=r.booking_trend&&r.booking_trend.length>0?r.booking_trend[r.booking_trend.length-1]:null,o=r.booking_trend?r.booking_trend.reduce((m,h)=>m+h.total_bookings,0):0,l=r.booking_trend?r.booking_trend.reduce((m,h)=>m+h.completed_bookings,0):0,c=r.booking_trend?r.booking_trend.reduce((m,h)=>m+h.cancelled_bookings,0):0,d=r.booking_trend&&r.booking_trend.length>0?r.booking_trend.reduce((m,h)=>m+h.completion_rate,0)/r.booking_trend.length:0,u=[{name:"Total Bookings",value:o.toLocaleString(),change:`${(i==null?void 0:i.total_bookings)||0} today`,changeType:"positive",icon:Ze,gradient:"from-blue-400 to-cyan-500"},{name:"Completed Bookings",value:l.toLocaleString(),change:`${d.toFixed(1)}% avg completion`,changeType:"positive",icon:ar,gradient:"from-green-400 to-emerald-500"},{name:"Cancelled Bookings",value:c.toLocaleString(),change:`${(c/o*100).toFixed(1)}% cancellation rate`,changeType:"negative",icon:rn,gradient:"from-red-400 to-rose-500"},{name:"Peak Hour",value:`${r.peak_booking_times&&r.peak_booking_times.length>0?r.peak_booking_times.reduce((m,h)=>m.booking_count>h.booking_count?m:h).hour:0}:00`,change:"Most Active",changeType:"positive",icon:et,gradient:"from-yellow-400 to-orange-500"},{name:"Search to Booking",value:`${r.conversion_funnel.search_to_booking_rate.toFixed(1)}%`,change:`${r.conversion_funnel.searches.toLocaleString()} searches`,changeType:"positive",icon:Vt,gradient:"from-purple-400 to-indigo-500"},{name:"Profile Views",value:r.conversion_funnel.profile_views.toLocaleString(),change:`${(r.conversion_funnel.profile_views/r.conversion_funnel.searches*100).toFixed(1)}% view rate`,changeType:"positive",icon:pt,gradient:"from-orange-400 to-red-500"}];return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Booking Analytics"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(m=>{const h=m.icon;return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${m.gradient} rounded-xl shadow-md`,children:s.jsx(h,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.value}),s.jsx("p",{className:"text-sm text-gray-600",children:m.name})]}),s.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${m.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":m.changeType==="negative"?"text-red-700 bg-red-100 border border-red-200":"text-yellow-700 bg-yellow-100 border border-yellow-200"}`,children:m.change})]},m.name)})})]})},wv=({dateFrom:e,dateTo:t})=>{var d,u,m;const{data:r,loading:n,error:a}=fv(e,t);if(n)return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),s.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((h,y)=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),s.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),s.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},y))})]});if(a||!r)return s.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:a||"Failed to load provider analytics"});const i=r.registration_trend&&r.registration_trend.length>0?r.registration_trend[r.registration_trend.length-1]:null,o=r.status_distribution?r.status_distribution.reduce((h,y)=>h+y.count,0):0,l=r.status_distribution?r.status_distribution.filter(h=>h.verification_status==="verified").reduce((h,y)=>h+y.count,0):0,c=[{name:"Total Providers",value:o.toLocaleString(),change:`${(i==null?void 0:i.new_providers)||0} new today`,changeType:"positive",icon:Jp,gradient:"from-blue-400 to-cyan-500"},{name:"Verified Providers",value:l.toLocaleString(),change:`${(l/o*100).toFixed(1)}% verified`,changeType:"positive",icon:ad,gradient:"from-green-400 to-emerald-500"},{name:"Average Rating",value:r.performance_metrics.avg_platform_rating.toFixed(1),change:`${r.performance_metrics.avg_completion_rate.toFixed(1)}% completion`,changeType:"positive",icon:qs,gradient:"from-yellow-400 to-orange-500"},{name:"Active Providers",value:r.performance_metrics.active_providers.toLocaleString(),change:`${(r.performance_metrics.active_providers/o*100).toFixed(1)}% active`,changeType:"positive",icon:Vt,gradient:"from-purple-400 to-indigo-500"},{name:"Top Performer",value:((d=r.top_performers[0])==null?void 0:d.name)||"N/A",change:`${((u=r.top_performers[0])==null?void 0:u.rating.toFixed(1))||"0"} rating`,changeType:"positive",icon:et,gradient:"from-pink-400 to-rose-500"},{name:"Category Leaders",value:r.category_distribution.length.toString(),change:`${((m=r.category_distribution[0])==null?void 0:m.category)||"N/A"} leading`,changeType:"positive",icon:pt,gradient:"from-orange-400 to-red-500"}];return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Provider Analytics"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(h=>{const y=h.icon;return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${h.gradient} rounded-xl shadow-md`,children:s.jsx(y,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),s.jsx("p",{className:"text-sm text-gray-600",children:h.name})]}),s.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${h.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:h.change})]},h.name)})})]})},Nv=()=>{const{data:e,loading:t,error:r}=pv();if(t)return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),s.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,i)=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),s.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),s.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},i))})]});if(r||!e)return s.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:r||"Failed to load system performance data"});const n=[{name:"Response Time",value:`${e.current_metrics.avg_response_time_ms}ms`,change:`${e.current_metrics.avg_response_time_ms<200?"Good":"Slow"}`,changeType:e.current_metrics.avg_response_time_ms<200?"positive":"negative",icon:et,gradient:"from-blue-400 to-cyan-500"},{name:"DB Query Time",value:`${e.current_metrics.avg_db_query_time_ms}ms`,change:`${e.current_metrics.avg_db_query_time_ms<100?"Fast":"Slow"}`,changeType:e.current_metrics.avg_db_query_time_ms<100?"positive":"negative",icon:Oy,gradient:"from-purple-400 to-indigo-500"},{name:"Server Load",value:`${e.current_metrics.avg_server_load}%`,change:`${e.current_metrics.avg_server_load<80?"Normal":"High"}`,changeType:e.current_metrics.avg_server_load<80?"positive":"negative",icon:Xy,gradient:"from-emerald-400 to-teal-500"},{name:"Memory Usage",value:`${e.current_metrics.avg_memory_usage}%`,change:`${e.current_metrics.avg_memory_usage<80?"Good":"High"}`,changeType:e.current_metrics.avg_memory_usage<80?"positive":"negative",icon:Uy,gradient:"from-orange-400 to-red-500"},{name:"Error Rate",value:`${e.current_metrics.avg_error_rate}%`,change:`${e.current_metrics.avg_error_rate<1?"Low":"High"}`,changeType:e.current_metrics.avg_error_rate<1?"positive":"negative",icon:pt,gradient:"from-pink-400 to-rose-500"},{name:"Uptime",value:`${e.current_metrics.avg_uptime}%`,change:`${e.current_metrics.avg_uptime>99.9?"Excellent":"Good"}`,changeType:"positive",icon:Pi,gradient:"from-yellow-400 to-orange-500"}];return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"System Performance"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>{const i=a.icon;return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${a.gradient} rounded-xl shadow-md`,children:s.jsx(i,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.value}),s.jsx("p",{className:"text-sm text-gray-600",children:a.name})]}),s.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${a.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:a.change})]},a.name)})})]})},_v=[{name:"Monthly Revenue Report",description:"Comprehensive revenue analysis with breakdowns",lastGenerated:"2 hours ago",type:"Financial",schedule:"Monthly",status:"Active",icon:Vt,gradient:"from-emerald-400 to-teal-500"},{name:"User Activity Dashboard",description:"User engagement and behavior analytics",lastGenerated:"1 day ago",type:"Analytics",schedule:"Weekly",status:"Active",icon:zr,gradient:"from-blue-400 to-indigo-500"},{name:"Provider Performance Report",description:"Provider metrics and performance indicators",lastGenerated:"3 days ago",type:"Operations",schedule:"Bi-weekly",status:"Scheduled",icon:Ti,gradient:"from-purple-400 to-pink-500"},{name:"Booking Trends Analysis",description:"Seasonal and trend analysis for bookings",lastGenerated:"5 days ago",type:"Analytics",schedule:"Monthly",status:"Active",icon:Ze,gradient:"from-orange-400 to-red-500"}],kv=[{filename:"user_data_export_2024_06.csv",type:"User Data",size:"2.4 MB",records:"18,923",generatedBy:"Admin",createdAt:"2024-06-15 14:30",downloadUrl:"#",gradient:"from-blue-400 to-indigo-500"},{filename:"revenue_report_Q2_2024.pdf",type:"Revenue Report",size:"1.8 MB",records:"2,847",generatedBy:"System",createdAt:"2024-06-14 09:15",downloadUrl:"#",gradient:"from-emerald-400 to-teal-500"},{filename:"provider_analytics_may_2024.xlsx",type:"Provider Analytics",size:"3.2 MB",records:"1,247",generatedBy:"Admin",createdAt:"2024-06-13 16:45",downloadUrl:"#",gradient:"from-purple-400 to-pink-500"},{filename:"booking_summary_weekly.csv",type:"Booking Summary",size:"856 KB",records:"456",generatedBy:"Automated",createdAt:"2024-06-12 08:00",downloadUrl:"#",gradient:"from-orange-400 to-red-500"},{filename:"system_performance_log.json",type:"System Logs",size:"4.7 MB",records:"12,450",generatedBy:"System",createdAt:"2024-06-11 23:59",downloadUrl:"#",gradient:"from-yellow-400 to-orange-500"}],Sv=({dateFrom:e,dateTo:t})=>{const[r,n]=x.useState({}),[a,i]=x.useState(null),{token:o}=vt(),l=async u=>{try{if(n(j=>({...j,[u]:!0})),i(null),!o)throw new Error("Authentication required");const m=await fetch(`/api/admin/analytics/export?type=${u}&date_from=${e}&date_to=${t}`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!m.ok)throw m.status===401?new Error("Unauthorized access"):new Error("Failed to export data");const h=await m.blob(),y=window.URL.createObjectURL(h),v=document.createElement("a");v.href=y,v.download=`${u}_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(y),document.body.removeChild(v)}catch(m){i(m instanceof Error?m.message:"Failed to export data")}finally{n(m=>({...m,[u]:!1}))}},c=[{name:"All Users",type:"users",icon:zr,color:"blue",gradient:"from-blue-400 to-indigo-500"},{name:"Active Bookings",type:"bookings",icon:Ze,color:"emerald",gradient:"from-emerald-400 to-teal-500"},{name:"Revenue Data",type:"revenue",icon:Vt,color:"green",gradient:"from-green-400 to-emerald-500"},{name:"Provider List",type:"providers",icon:Ti,color:"purple",gradient:"from-purple-400 to-pink-500"}],d=[{name:"Executive Summary",description:"High-level KPIs and metrics for leadership",icon:Ti,gradient:"from-blue-400 to-indigo-500"},{name:"Financial Analysis",description:"Detailed revenue and cost analysis",icon:Vt,gradient:"from-emerald-400 to-teal-500"},{name:"User Engagement",description:"User behavior and engagement patterns",icon:zr,gradient:"from-purple-400 to-pink-500"},{name:"Operational Review",description:"Platform operations and performance metrics",icon:Yn,gradient:"from-orange-400 to-red-500"}];return s.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-yellow-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-yellow-500 to-orange-600 rounded-full mr-3"}),"Reports & Exports"]}),a&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600",children:a}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Yn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Custom Reports"]}),s.jsxs("button",{className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm font-semibold",children:[s.jsx(oa,{className:"w-4 h-4"}),s.jsx("span",{children:"New Report"})]})]}),s.jsx("div",{className:"space-y-4",children:_v.map((u,m)=>{const h=u.icon;return s.jsxs("div",{className:"p-4 bg-white/60 backdrop-blur-sm border border-white/30 rounded-xl hover:bg-white/80 hover:shadow-lg transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 bg-gradient-to-br ${u.gradient} rounded-xl shadow-md`,children:s.jsx(h,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:u.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description})]})]}),s.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${u.status==="Active"?"bg-emerald-100 text-emerald-800 border-emerald-200":u.status==="Scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:u.status})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(et,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:u.lastGenerated})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ze,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:u.schedule})]})]}),s.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 font-semibold bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-lg transition-colors",children:[s.jsx(Xa,{className:"w-4 h-4"}),s.jsx("span",{children:"Download"})]})]})]},u.name)})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[s.jsx(Xa,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Quick Exports"]}),s.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:c.map(u=>{const m=u.icon;return s.jsx("button",{onClick:()=>l(u.type),disabled:r[u.type],className:"p-6 rounded-xl border-2 border-dashed border-white/40 bg-white/30 backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:bg-white/50 hover:border-white/60 hover:shadow-lg group disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${u.gradient} rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-300`,children:r[u.type]?s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(m,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.name})]})},u.type)})}),s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Report Templates"}),s.jsx("div",{className:"space-y-3",children:d.map((u,m)=>{const h=u.icon;return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/60 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${u.gradient} rounded-lg flex items-center justify-center shadow-sm`,children:s.jsx(h,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:u.name}),s.jsx("p",{className:"text-xs text-gray-600",children:u.description})]})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-semibold bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-lg transition-colors",children:"Generate"})]},u.name)})})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(et,{className:"w-5 h-5 mr-2 text-purple-600"}),"Export History"]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("button",{className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800 text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-lg transition-colors font-medium",children:[s.jsx(Fy,{className:"w-4 h-4"}),s.jsx("span",{children:"Filter"})]})})]}),s.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30 overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-900",children:"File Name"}),s.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-900",children:"Type"}),s.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-900",children:"Size"}),s.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-900",children:"Records"}),s.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-900",children:"Generated By"}),s.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-900",children:"Created"}),s.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-900",children:"Action"})]})}),s.jsx("tbody",{children:kv.map((u,m)=>s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-white/40 transition-colors",children:[s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${u.gradient} shadow-sm`}),s.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:u.filename})]})}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs font-semibold px-3 py-1 rounded-full border border-gray-200",children:u.type})}),s.jsx("td",{className:"py-4 px-4 text-center text-sm text-gray-600 font-medium",children:u.size}),s.jsx("td",{className:"py-4 px-4 text-center text-sm font-bold text-gray-900",children:u.records}),s.jsx("td",{className:"py-4 px-4 text-center text-sm text-gray-600 font-medium",children:u.generatedBy}),s.jsx("td",{className:"py-4 px-4 text-center text-sm text-gray-600 font-medium",children:u.createdAt}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsx("button",{className:"flex items-center justify-center w-10 h-10 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors shadow-sm hover:shadow-md",children:s.jsx(Xa,{className:"w-4 h-4"})})})]},u.filename))})]})})]}),s.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50/80 to-indigo-50/80 backdrop-blur-sm rounded-xl border border-blue-200/50",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Automated Reporting"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 font-medium",children:"You have 3 active scheduled reports that generate automatically. Next report generates in 2 days."}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full shadow-sm"}),s.jsx("span",{className:"text-gray-600 font-medium",children:"3 Active"})]}),s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full shadow-sm"}),s.jsx("span",{className:"text-gray-600 font-medium",children:"1 Scheduled"})]}),s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx(et,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600 font-medium",children:"Next: 2 days"})]})]})]}),s.jsx("button",{className:"bg-white text-blue-600 px-6 py-3 rounded-lg hover:bg-blue-50 transition-colors text-sm font-semibold border border-blue-200 shadow-sm hover:shadow-md",children:"Manage Schedule"})]})})]})},Hu=({isMobile:e,toggleSidebar:t})=>{const{user:r,logout:n}=vt(),a=[{name:"Dashboard",to:"/admin/dashboard",icon:s.jsx(Ru,{size:20})},{name:"Service Providers",to:"/admin/providers",icon:s.jsx(Gy,{size:20})},{name:"Users",to:"/admin/users",icon:s.jsx(Rt,{size:20})},{name:"Services",to:"/admin/services",icon:s.jsx($u,{size:20})},{name:"Categories",to:"/admin/categories",icon:s.jsx($u,{size:20})},{name:"Transactions",to:"/admin/transactions",icon:s.jsx(Iu,{size:20})},{name:"Commission",to:"/admin/commission",icon:s.jsx(Iu,{size:20})},{name:"Bookings",to:"/admin/bookings",icon:s.jsx(Ze,{size:20})},{name:"Disputes",to:"/admin/disputes",icon:s.jsx(pt,{size:20})},{name:"Policy Pages",to:"/admin/policies",icon:s.jsx(zu,{size:20})}],i=[{name:"Dashboard",to:"/provider",icon:s.jsx(Ru,{size:20})},{name:"Opportunities",to:"/provider/opportunities",icon:s.jsx(Wp,{size:20}),badge:"New"},{name:"My Tasks",to:"/provider/tasks",icon:s.jsx(Dy,{size:20})},{name:"Raise Request",to:"/provider/request",icon:s.jsx(zu,{size:20})},{name:"Previous Work",to:"/provider/history",icon:s.jsx(qy,{size:20})},{name:"Profile",to:"/provider/profile",icon:s.jsx(Rt,{size:20})}],o=[{name:"My Services",to:"/user",icon:s.jsx($y,{size:20})},{name:"Book Service",to:"/user/new-service",icon:s.jsx(oa,{size:20})},{name:"Payment History",to:"/user/payments",icon:s.jsx(Jt,{size:20})},{name:"Report Issue",to:"/user/report",icon:s.jsx(pt,{size:20})}],l=[{name:"Home",to:"/",icon:s.jsx(By,{size:20})},{name:"Login",to:"/login",icon:s.jsx(Rt,{size:20})}],d=(()=>{if(!r)return l;switch(r.role){case"admin":return a;case"provider":return i;case"user":return o;default:return l}})();return s.jsxs("div",{className:`h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950 text-white flex flex-col transition-all duration-300 ${e?"fixed top-0 left-0 z-40 w-64 shadow-2xl transform":"w-64"}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-800/30",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-gray-950"})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-gray-200 to-gray-300 bg-clip-text text-transparent",children:"ProxHelp"}),s.jsx("div",{className:"text-xs text-gray-200/80 mt-0.5",children:(r==null?void 0:r.role)==="admin"?"Admin Portal":(r==null?void 0:r.role)==="provider"?"Trainer Hub":(r==null?void 0:r.role)==="user"?"Fitness Hub":"Welcome"})]})]}),e&&s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-900/40 transition-colors",children:s.jsx(dt,{size:20})})]}),r&&s.jsx("div",{className:"p-6 border-b border-gray-800/30",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-700 to-gray-600 flex items-center justify-center shadow-lg",children:s.jsx(Rt,{size:20,className:"text-white"})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-gray-950 flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-white truncate",children:r.name||"User"}),s.jsx("p",{className:"text-sm text-gray-200/80 truncate",children:r.email})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto py-6 px-4",children:[s.jsx("nav",{className:"space-y-2",children:d.map(u=>s.jsxs("div",{className:"relative",children:[s.jsxs(Ya,{to:u.to,className:({isActive:m})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${m?"bg-gradient-to-r from-gray-700 to-gray-600 text-gray-50 shadow-lg transform scale-[1.02]":"text-gray-100/80 hover:bg-gray-900/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?t:void 0,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[u.icon,u.badge&&s.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-gray-400 rounded-full"})]}),s.jsx("span",{className:"font-medium",children:u.name})]}),u.badge&&s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-400 text-gray-950 font-semibold rounded-full",children:u.badge})]}),s.jsx("div",{className:`absolute inset-0 rounded-xl bg-gradient-to-r from-gray-700/20 to-gray-600/20 transition-opacity duration-300 ${window.location.pathname===u.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},u.name))}),(r==null?void 0:r.role)==="user"&&s.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-r from-gray-900/30 to-gray-800/20 rounded-xl border border-gray-800/30",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-100 mb-3",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ya,{to:"/user/new-service",className:"flex items-center space-x-2 p-2 rounded-lg text-gray-300 hover:bg-gray-900/30 transition-colors",children:[s.jsx(av,{size:16}),s.jsx("span",{className:"text-sm",children:"Book Service"})]}),s.jsxs(Ya,{to:"/user/services",className:"flex items-center space-x-2 p-2 rounded-lg text-gray-200 hover:bg-gray-900/30 transition-colors",children:[s.jsx(qs,{size:16}),s.jsx("span",{className:"text-sm",children:"Rate Services"})]})]})]})]}),r&&s.jsx("div",{className:"p-4 border-t border-gray-800/30",children:s.jsxs("button",{onClick:n,className:"flex items-center justify-center w-full p-3 rounded-xl text-gray-100/80 hover:bg-gray-900/40 hover:text-red-200 transition-all duration-200 group",children:[s.jsx(qp,{size:20,className:"mr-3 group-hover:transform group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})},Cv=({toggleSidebar:e})=>{const t=Qi(),{user:r,logout:n,refreshUserData:a}=vt(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(""),[m,h]=x.useState(0),[y,v]=x.useState(!1),j=x.useRef(null),b=x.useRef(null),p=x.useRef(),g=x.useRef(),f=()=>{n(),t("/login")},w=async()=>{v(!0);try{await a(),await new Promise(E=>setTimeout(E,100)),console.log("Header refresh completed")}catch(E){console.error("Error refreshing user data:",E)}finally{setTimeout(()=>v(!1),1e3)}},k=()=>{h(E=>E+1),g.current&&clearTimeout(g.current),m>=2?(w(),h(0)):g.current=setTimeout(()=>{h(0)},2e3)},A=[{id:1,type:"service",title:"Service Completed",message:"Your AC repair service has been completed successfully.",time:"2 hours ago",read:!1},{id:2,type:"promotion",title:"Special Offer",message:"Get 20% off on your next home cleaning service.",time:"1 day ago",read:!1},{id:3,type:"reminder",title:"Upcoming Service",message:"Your plumbing service is scheduled for tomorrow at 10:00 AM.",time:"2 days ago",read:!0}],C=A.filter(E=>!E.read).length;x.useEffect(()=>{const E=Q=>{j.current&&!j.current.contains(Q.target)&&o(!1),b.current&&!b.current.contains(Q.target)&&c(!1)},D=Q=>{Q.ctrlKey&&Q.shiftKey&&Q.key==="R"&&(Q.preventDefault(),w())};return document.addEventListener("mousedown",E),document.addEventListener("keydown",D),()=>{document.removeEventListener("mousedown",E),document.removeEventListener("keydown",D),p.current&&clearTimeout(p.current),g.current&&clearTimeout(g.current)}},[]),x.useEffect(()=>{r&&r.id&&a()},[r==null?void 0:r.id]);const S=E=>{switch(E){case"service":return s.jsx(qs,{size:16,className:"text-gray-500"});case"promotion":return s.jsx(Lu,{size:16,className:"text-gray-500"});case"reminder":return s.jsx(et,{size:16,className:"text-rose-400"});default:return s.jsx(Wp,{size:16,className:"text-gray-300"})}};return s.jsxs("header",{className:"bg-gradient-to-r from-gray-50/95 via-white/95 to-gray-50/95 backdrop-blur-sm shadow-sm border-b border-gray-100/70 h-16 flex items-center justify-between px-4 lg:px-6 relative z-30 text-gray-950",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:e,className:"p-2 rounded-xl text-gray-500 hover:bg-gray-100/80 hover:text-gray-700 lg:hidden transition-all duration-200",children:s.jsx(Jy,{size:24})}),s.jsx("div",{className:"hidden md:flex items-center bg-gray-50/80 rounded-xl px-4 py-2 w-64 lg:w-80 focus-within:bg-white focus-within:shadow-sm focus-within:shadow-gray-200/70 transition-all duration-200"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"relative",children:l&&s.jsxs("div",{ref:b,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-gray-100 py-2 z-50 transform transition-all duration-200 ease-in-out",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[C," new"]})]})}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:A.map(E=>s.jsx("div",{className:`px-4 py-3 hover:bg-gray-50/60 cursor-pointer transition-colors duration-200 ${E.read?"":"bg-gray-50/70"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"mt-1",children:S(E.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:E.title}),!E.read&&s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full ml-2"})]}),s.jsx("p",{className:"text-gray-700/80 text-sm mt-1",children:E.message}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:E.time})]})]})},E.id))}),s.jsx("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50/60",children:s.jsx("button",{className:"w-full text-center text-sm text-gray-600 hover:text-gray-700 font-medium",children:"View all notifications"})})]})}),r?s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer p-2 rounded-xl hover:bg-gray-100/60 transition-all duration-200",onClick:()=>o(!i),onDoubleClick:k,children:[s.jsxs("div",{className:"hidden sm:block text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.name||"User"}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r.role})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-700 to-gray-600 flex items-center justify-center shadow-md",children:y?s.jsx(rr,{size:20,className:"text-gray-50 animate-spin"}):s.jsx(Rt,{size:20,className:"text-white"})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-white"}),y&&s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gray-500 rounded-full border-2 border-white animate-pulse"})]}),s.jsx(is,{size:16,className:"text-gray-400 hidden sm:block"})]}),i&&s.jsxs("div",{ref:j,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-gray-100 py-3 z-50 transform transition-all duration-200 ease-in-out",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-50",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-700 to-gray-600 flex items-center justify-center shadow-md",children:s.jsx(Rt,{size:24,className:"text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:r.name||"User"}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:r.email}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-700 capitalize",children:r.role}),s.jsxs("span",{className:"flex items-center text-xs text-emerald-600",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Online"]})]})]})]})}),s.jsx("div",{className:"px-4 py-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Member since"})]}),s.jsx("span",{className:"text-gray-900",children:"Jan 2024"})]}),r.role==="user"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qs,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Services booked"})]}),s.jsx("span",{className:"text-gray-900",children:"12"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lu,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Loyalty points"})]}),s.jsx("span",{className:"text-gray-600 font-semibold",children:"850"})]})]})]})}),s.jsx("div",{className:"px-4 py-2 border-t border-gray-100 bg-gray-50/60",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>t(`/${r.role}/profile`),className:"w-full flex items-center space-x-3 text-sm text-gray-700 hover:bg-gray-100/70 py-2 px-3 rounded-lg transition-colors duration-200",children:[s.jsx(Xi,{size:16}),s.jsx("span",{children:"Account Settings"})]}),s.jsxs("button",{onClick:f,className:"w-full flex items-center space-x-3 text-sm text-red-600 hover:bg-red-50 py-2 px-3 rounded-lg transition-colors duration-200",children:[s.jsx(qp,{size:16}),s.jsx("span",{children:"Sign Out"})]})]})})]})]}):s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>t("/login"),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors duration-200",children:"Sign In"}),s.jsx("button",{onClick:()=>t("/register"),className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-gray-700 to-gray-600 hover:from-gray-800 hover:to-gray-700 rounded-lg transition-all duration-200",children:"Get Started"})]})]})]})},gt=({children:e})=>{const{user:t}=vt(),[r,n]=x.useState(!1),a=()=>{n(!r)};return s.jsxs("div",{className:"flex h-screen bg-[#fff7f0]",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(Hu,{isMobile:!1,toggleSidebar:a})}),r&&s.jsxs("div",{className:"lg:hidden",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:a}),s.jsx(Hu,{isMobile:!0,toggleSidebar:a})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Cv,{toggleSidebar:a}),s.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e})]})]})},Ev=()=>{const[e,t]=x.useState("30d"),[r,n]=x.useState(""),[a,i]=x.useState("");x.useEffect(()=>{const l=new Date,c=l.toISOString().split("T")[0];let d;switch(e){case"7d":d=new Date(l.setDate(l.getDate()-7)).toISOString().split("T")[0];break;case"30d":d=new Date(l.setDate(l.getDate()-30)).toISOString().split("T")[0];break;case"90d":d=new Date(l.setDate(l.getDate()-90)).toISOString().split("T")[0];break;case"1y":d=new Date(l.setFullYear(l.getFullYear()-1)).toISOString().split("T")[0];break;default:d=new Date(l.setDate(l.getDate()-7)).toISOString().split("T")[0]}n(d),i(c)},[e]);const o=(l,c)=>{n(l),i(c)};return s.jsx(gt,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ov,{dateFrom:r,dateTo:a,onDateRangeChange:o}),s.jsx("div",{className:"pt-20 pb-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[s.jsx(hv,{dateFrom:r,dateTo:a}),s.jsx(yv,{}),s.jsx(vv,{dateFrom:r,dateTo:a}),s.jsx(jv,{dateFrom:r,dateTo:a}),s.jsx(bv,{dateFrom:r,dateTo:a}),s.jsx(wv,{dateFrom:r,dateTo:a}),s.jsx(Nv,{}),s.jsx(Sv,{dateFrom:r,dateTo:a})]})})]})})},Te=({children:e,className:t=""})=>s.jsx("div",{className:`bg-white rounded-lg shadow-card overflow-hidden ${t}`,children:e}),Gt=({children:e,className:t=""})=>s.jsx("div",{className:`p-6 border-b border-gray-200 ${t}`,children:e}),Kt=({children:e,className:t=""})=>s.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${t}`,children:e}),Ae=({children:e,className:t=""})=>s.jsx("div",{className:`p-6 ${t}`,children:e});function Gp(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Gp(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pv(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Gp(e))&&(n&&(n+=" "),n+=t);return n}const Tv=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},Av=(e,t)=>({classGroupId:e,validator:t}),Kp=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Ai="-",Vu=[],zv="arbitrary..",Rv=e=>{const t=$v(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Lv(o);const l=o.split(Ai),c=l[0]===""&&l.length>1?1:0;return Qp(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],d=r[o];return c?d?Tv(d,c):c:d||Vu}return r[o]||Vu}}},Qp=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const d=Qp(e,t+1,i);if(d)return d}const o=r.validators;if(o===null)return;const l=t===0?e.join(Ai):e.slice(t).join(Ai),c=o.length;for(let d=0;d<c;d++){const u=o[d];if(u.validator(l))return u.classGroupId}},Lv=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?zv+n:void 0})(),$v=e=>{const{theme:t,classGroups:r}=e;return Iv(r,t)},Iv=(e,t)=>{const r=Kp();for(const n in e){const a=e[n];id(a,r,n,t)}return r},id=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];Dv(o,t,r,n)}},Dv=(e,t,r,n)=>{if(typeof e=="string"){Mv(e,t,r);return}if(typeof e=="function"){Ov(e,t,r,n);return}Fv(e,t,r,n)},Mv=(e,t,r)=>{const n=e===""?t:Zp(t,e);n.classGroupId=r},Ov=(e,t,r,n)=>{if(Uv(e)){id(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(Av(r,e))},Fv=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];id(c,Zp(t,l),r,n)}},Zp=(e,t)=>{let r=e;const n=t.split(Ai),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=Kp(),r.nextPart.set(o,l)),r=l}return r},Uv=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Bv=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},Xl="!",Wu=":",Hv=[],qu=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Vv=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,d;const u=a.length;for(let j=0;j<u;j++){const b=a[j];if(o===0&&l===0){if(b===Wu){i.push(a.slice(c,j)),c=j+1;continue}if(b==="/"){d=j;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const m=i.length===0?a:a.slice(c);let h=m,y=!1;m.endsWith(Xl)?(h=m.slice(0,-1),y=!0):m.startsWith(Xl)&&(h=m.slice(1),y=!0);const v=d&&d>c?d-c:void 0;return qu(i,y,h,v)};if(t){const a=t+Wu,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):qu(Hv,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},Wv=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},qv=e=>({cache:Bv(e.cacheSize),parseClassName:Vv(e),sortModifiers:Wv(e),...Rv(e)}),Jv=/\s+/,Gv=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(Jv);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:m,modifiers:h,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:j}=r(u);if(m){c=u+(c.length>0?" "+c:c);continue}let b=!!j,p=n(b?v.substring(0,j):v);if(!p){if(!b){c=u+(c.length>0?" "+c:c);continue}if(p=n(v),!p){c=u+(c.length>0?" "+c:c);continue}b=!1}const g=h.length===0?"":h.length===1?h[0]:i(h).join(":"),f=y?g+Xl:g,w=f+p;if(o.indexOf(w)>-1)continue;o.push(w);const k=a(p,b);for(let A=0;A<k.length;++A){const C=k[A];o.push(f+C)}c=u+(c.length>0?" "+c:c)}return c},Kv=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=Yp(r))&&(a&&(a+=" "),a+=n);return a},Yp=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Yp(e[n]))&&(r&&(r+=" "),r+=t);return r},Qv=(e,...t)=>{let r,n,a,i;const o=c=>{const d=t.reduce((u,m)=>m(u),e());return r=qv(d),n=r.cache.get,a=r.cache.set,i=l,l(c)},l=c=>{const d=n(c);if(d)return d;const u=Gv(c,r);return a(c,u),u};return i=o,(...c)=>i(Kv(...c))},Zv=[],$e=e=>{const t=r=>r[e]||Zv;return t.isThemeGetter=!0,t},Xp=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eh=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Yv=/^\d+\/\d+$/,Xv=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ej=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ps=e=>Yv.test(e),ce=e=>!!e&&!Number.isNaN(Number(e)),fr=e=>!!e&&Number.isInteger(Number(e)),Fo=e=>e.endsWith("%")&&ce(e.slice(0,-1)),Zt=e=>Xv.test(e),nj=()=>!0,aj=e=>ej.test(e)&&!tj.test(e),th=()=>!1,ij=e=>rj.test(e),oj=e=>sj.test(e),lj=e=>!re(e)&&!se(e),cj=e=>nn(e,nh,th),re=e=>Xp.test(e),Fr=e=>nn(e,ah,aj),Uo=e=>nn(e,pj,ce),Ju=e=>nn(e,rh,th),dj=e=>nn(e,sh,oj),Ra=e=>nn(e,ih,ij),se=e=>eh.test(e),yn=e=>an(e,ah),uj=e=>an(e,hj),Gu=e=>an(e,rh),mj=e=>an(e,nh),fj=e=>an(e,sh),La=e=>an(e,ih,!0),nn=(e,t,r)=>{const n=Xp.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},an=(e,t,r=!1)=>{const n=eh.exec(e);return n?n[1]?t(n[1]):r:!1},rh=e=>e==="position"||e==="percentage",sh=e=>e==="image"||e==="url",nh=e=>e==="length"||e==="size"||e==="bg-size",ah=e=>e==="length",pj=e=>e==="number",hj=e=>e==="family-name",ih=e=>e==="shadow",gj=()=>{const e=$e("color"),t=$e("font"),r=$e("text"),n=$e("font-weight"),a=$e("tracking"),i=$e("leading"),o=$e("breakpoint"),l=$e("container"),c=$e("spacing"),d=$e("radius"),u=$e("shadow"),m=$e("inset-shadow"),h=$e("text-shadow"),y=$e("drop-shadow"),v=$e("blur"),j=$e("perspective"),b=$e("aspect"),p=$e("ease"),g=$e("animate"),f=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...w(),se,re],A=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],S=()=>[se,re,c],E=()=>[ps,"full","auto",...S()],D=()=>[fr,"none","subgrid",se,re],Q=()=>["auto",{span:["full",fr,se,re]},fr,se,re],ne=()=>[fr,"auto",se,re],R=()=>["auto","min","max","fr",se,re],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],I=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...S()],U=()=>[ps,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],_=()=>[e,se,re],N=()=>[...w(),Gu,Ju,{position:[se,re]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",mj,cj,{size:[se,re]}],V=()=>[Fo,yn,Fr],Y=()=>["","none","full",d,se,re],ee=()=>["",ce,yn,Fr],fe=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[ce,Fo,Gu,Ju],Ue=()=>["","none",v,se,re],P=()=>["none",ce,se,re],L=()=>["none",ce,se,re],$=()=>[ce,se,re],B=()=>[ps,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zt],breakpoint:[Zt],color:[nj],container:[Zt],"drop-shadow":[Zt],ease:["in","out","in-out"],font:[lj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zt],shadow:[Zt],spacing:["px",ce],text:[Zt],"text-shadow":[Zt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ps,re,se,b]}],container:["container"],columns:[{columns:[ce,re,se,l]}],"break-after":[{"break-after":f()}],"break-before":[{"break-before":f()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[fr,"auto",se,re]}],basis:[{basis:[ps,"full","auto",l,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ce,ps,"auto","initial","none",re]}],grow:[{grow:["",ce,se,re]}],shrink:[{shrink:["",ce,se,re]}],order:[{order:[fr,"first","last","none",se,re]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...I(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...I(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[l,"screen",...U()]}],"min-w":[{"min-w":[l,"screen","none",...U()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",r,yn,Fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,se,Uo]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fo,re]}],"font-family":[{font:[uj,re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,se,re]}],"line-clamp":[{"line-clamp":[ce,"none",se,Uo]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",se,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_()}],"text-color":[{text:_()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ce,"from-font","auto",se,Fr]}],"text-decoration-color":[{decoration:_()}],"underline-offset":[{"underline-offset":[ce,"auto",se,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:N()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fr,se,re],radial:["",se,re],conic:[fr,se,re]},fj,dj]}],"bg-color":[{bg:_()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:_()}],"gradient-via":[{via:_()}],"gradient-to":[{to:_()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:_()}],"border-color-x":[{"border-x":_()}],"border-color-y":[{"border-y":_()}],"border-color-s":[{"border-s":_()}],"border-color-e":[{"border-e":_()}],"border-color-t":[{"border-t":_()}],"border-color-r":[{"border-r":_()}],"border-color-b":[{"border-b":_()}],"border-color-l":[{"border-l":_()}],"divide-color":[{divide:_()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ce,se,re]}],"outline-w":[{outline:["",ce,yn,Fr]}],"outline-color":[{outline:_()}],shadow:[{shadow:["","none",u,La,Ra]}],"shadow-color":[{shadow:_()}],"inset-shadow":[{"inset-shadow":["none",m,La,Ra]}],"inset-shadow-color":[{"inset-shadow":_()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_()}],"ring-offset-w":[{"ring-offset":[ce,Fr]}],"ring-offset-color":[{"ring-offset":_()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":_()}],"text-shadow":[{"text-shadow":["none",h,La,Ra]}],"text-shadow-color":[{"text-shadow":_()}],opacity:[{opacity:[ce,se,re]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ce]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":_()}],"mask-image-linear-to-color":[{"mask-linear-to":_()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":_()}],"mask-image-t-to-color":[{"mask-t-to":_()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":_()}],"mask-image-r-to-color":[{"mask-r-to":_()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":_()}],"mask-image-b-to-color":[{"mask-b-to":_()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":_()}],"mask-image-l-to-color":[{"mask-l-to":_()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":_()}],"mask-image-x-to-color":[{"mask-x-to":_()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":_()}],"mask-image-y-to-color":[{"mask-y-to":_()}],"mask-image-radial":[{"mask-radial":[se,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":_()}],"mask-image-radial-to-color":[{"mask-radial-to":_()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[ce]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":_()}],"mask-image-conic-to-color":[{"mask-conic-to":_()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:N()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,re]}],filter:[{filter:["","none",se,re]}],blur:[{blur:Ue()}],brightness:[{brightness:[ce,se,re]}],contrast:[{contrast:[ce,se,re]}],"drop-shadow":[{"drop-shadow":["","none",y,La,Ra]}],"drop-shadow-color":[{"drop-shadow":_()}],grayscale:[{grayscale:["",ce,se,re]}],"hue-rotate":[{"hue-rotate":[ce,se,re]}],invert:[{invert:["",ce,se,re]}],saturate:[{saturate:[ce,se,re]}],sepia:[{sepia:["",ce,se,re]}],"backdrop-filter":[{"backdrop-filter":["","none",se,re]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[ce,se,re]}],"backdrop-contrast":[{"backdrop-contrast":[ce,se,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ce,se,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ce,se,re]}],"backdrop-invert":[{"backdrop-invert":["",ce,se,re]}],"backdrop-opacity":[{"backdrop-opacity":[ce,se,re]}],"backdrop-saturate":[{"backdrop-saturate":[ce,se,re]}],"backdrop-sepia":[{"backdrop-sepia":["",ce,se,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ce,"initial",se,re]}],ease:[{ease:["linear","initial",p,se,re]}],delay:[{delay:[ce,se,re]}],animate:[{animate:["none",g,se,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,se,re]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:P()}],"rotate-x":[{"rotate-x":P()}],"rotate-y":[{"rotate-y":P()}],"rotate-z":[{"rotate-z":P()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:$()}],"skew-x":[{"skew-x":$()}],"skew-y":[{"skew-y":$()}],transform:[{transform:[se,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:B()}],"translate-x":[{"translate-x":B()}],"translate-y":[{"translate-y":B()}],"translate-z":[{"translate-z":B()}],"translate-none":["translate-none"],accent:[{accent:_()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,re]}],fill:[{fill:["none",..._()]}],"stroke-w":[{stroke:[ce,yn,Fr,Uo]}],stroke:[{stroke:["none",..._()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xj=Qv(gj);function od(...e){return xj(Pv(e))}const yj=({value:e,onValueChange:t,children:r,className:n})=>s.jsx("div",{className:od("w-full",n),children:jt.Children.map(r,a=>jt.isValidElement(a)?jt.cloneElement(a,{children:jt.Children.map(a.props.children,i=>jt.isValidElement(i)?jt.cloneElement(i,{onValueChange:t}):i)}):a)}),vj=({children:e,className:t})=>s.jsx("div",{className:od("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",t),children:e}),Ku=({value:e,children:t,className:r,onValueChange:n})=>s.jsx("button",{className:od("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","text-gray-500 hover:text-gray-900",r),onClick:()=>n==null?void 0:n(e),children:t}),jj=({fieldVisibility:e})=>s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[e.name&&s.jsx("th",{className:"text-left pb-4",children:"Provider"}),e.contact&&s.jsx("th",{className:"text-left pb-4",children:"Contact"}),e.location&&s.jsx("th",{className:"text-left pb-4",children:"Location"}),e.status&&s.jsx("th",{className:"text-left pb-4",children:"Status"}),e.verification&&s.jsx("th",{className:"text-left pb-4",children:"Verification"}),e.earnings&&s.jsx("th",{className:"text-left pb-4",children:"Earnings"}),e.experience&&s.jsx("th",{className:"text-left pb-4",children:"Experience"}),e.featured&&s.jsx("th",{className:"text-left pb-4",children:"Featured"}),e.action&&s.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),M=({variant:e="primary",size:t="md",children:r,fullWidth:n=!1,isLoading:a=!1,className:i="",disabled:o,...l})=>{const c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d={primary:"bg-primary hover:bg-primary-dark text-secondary-dark",secondary:"bg-secondary text-white hover:bg-secondary-light",outline:"border border-primary bg-transparent text-secondary-dark hover:bg-primary/10",ghost:"bg-transparent hover:bg-gray-100 text-gray-800",link:"bg-transparent underline-offset-4 hover:underline text-primary p-0 h-auto"},u={sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"},m=n?"w-full":"";return s.jsxs("button",{className:`${c} ${d[e]} ${u[t]} ${m} ${i}`,disabled:o||a,...l,children:[a?s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,r]})},bj=({provider:e,onStatusAction:t})=>s.jsxs("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(M,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white text-xs px-2 py-1",children:[s.jsx(ar,{size:12}),s.jsx("span",{children:"Approve"})]}),s.jsxs(M,{onClick:()=>t(e.id,"reject"),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1",children:[s.jsx(rn,{size:12}),s.jsx("span",{children:"Reject"})]})]}),e.status==="approved"&&s.jsxs(M,{onClick:()=>t(e.id,"suspend"),className:"flex items-center space-x-1 bg-yellow-600 hover:bg-yellow-700 text-white text-xs px-2 py-1",children:[s.jsx(Ar,{size:12}),s.jsx("span",{children:"Suspend"})]}),e.status==="suspended"&&s.jsxs(M,{onClick:()=>t(e.id,"reinstate"),className:"flex items-center space-x-1 bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 py-1",children:[s.jsx(ar,{size:12}),s.jsx("span",{children:"Reinstate"})]}),e.status==="blocked"&&s.jsxs(M,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 py-1",children:[s.jsx(ar,{size:12}),s.jsx("span",{children:"Approve"})]})]}),wj=({provider:e,formatDate:t})=>{const r=a=>{switch(a){case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"blocked":return"bg-red-100 text-red-700";case"suspended":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},n=a=>{switch(a){case"approved":return s.jsx(ar,{size:14,className:"text-green-600"});case"pending":return s.jsx(et,{size:14,className:"text-yellow-600"});case"blocked":return s.jsx(rn,{size:14,className:"text-red-600"});case"suspended":return s.jsx(Ar,{size:14,className:"text-orange-600"});default:return null}};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[n(e.status),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",t(e.created_at)]})]})},Nj=({provider:e,fieldVisibility:t,expandingUsers:r,onStatusAction:n,onToggleDropdown:a,formatDate:i,formatCurrency:o})=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("td",{className:"py-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(M,{variant:"outline",size:"sm",onClick:()=>a(e.id),className:"transition-all duration-200 hover:bg-blue-50 hover:border-blue-300 hover:shadow-md",disabled:r.has(e.id),children:r.has(e.id)?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"}):s.jsxs(s.Fragment,{children:[s.jsx(tn,{size:14,className:"mr-1"}),s.jsx("span",{children:"Details"}),s.jsx(is,{size:14,className:"ml-1"})]})})})}),t.name&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:e.name.charAt(0)})}),s.jsx("div",{children:s.jsx("p",{className:"font-medium text-gray-900",children:e.name})})]})}),t.contact&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.email})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ia,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.phone})]})]})}),t.location&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[e.city,", ",e.state]}),s.jsx("div",{className:"text-sm text-gray-500",children:e.pincode})]})}),t.status&&s.jsx("td",{className:"py-4",children:s.jsx(wj,{provider:e,formatDate:i})}),t.verification&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[e.verification_status==="verified"?s.jsx(Ar,{size:16,className:"text-green-500"}):s.jsx(Ar,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.verification_status})]})}),t.earnings&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-medium",children:o(e.total_earnings)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Commission: ",e.commission_rate,"%"]})]})}),t.experience&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Clock,{size:14,className:"text-gray-400"}),s.jsxs("span",{className:"text-sm",children:[e.experience_years," years"]})]})}),t.featured&&s.jsx("td",{className:"py-4",children:e.is_featured?s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:"Featured"}):s.jsx("span",{className:"text-gray-400 text-xs",children:"Not Featured"})}),t.action&&s.jsx("td",{className:"py-4",children:s.jsx(bj,{provider:e,onStatusAction:n})})]}),_j=({provider:e,formatDate:t,serviceCatalog:r})=>{const n=!!(e.bank_details&&(e.bank_details.account_holder_name||e.bank_details.bank_name||e.bank_details.account_number||e.bank_details.ifsc_code)),a=x.useMemo(()=>{var m;const u=new Map;return Object.entries(r.categories).forEach(([h,y])=>{u.set(Number(h),y.name)}),(m=e.subcategory_links)==null||m.forEach(h=>{h.category_name&&h.category_id&&u.set(h.category_id,h.category_name)}),u},[e.subcategory_links,r]),i=x.useMemo(()=>{var h;const u=new Map,m=(y,v)=>{const j=y!==null?`cat-${y}`:`misc-${v}`;return u.has(j)||u.set(j,{key:j,category_id:y,category_name:v,subcategories:[],services:[]}),u.get(j)};return(e.category_ids??[]).forEach(y=>{const v=a.get(y)||`Category ${y}`;m(y,v)}),(e.subcategory_links??[]).forEach(y=>{var g,f;const v=y.category_id||null,j=v&&y.subcategory_id?((f=(g=r.categories[v])==null?void 0:g.services)==null?void 0:f[y.subcategory_id])??null:null,b=y.category_name||(v?a.get(v)||`Category ${v}`:"Other");m(v,b).subcategories.push({id:y.subcategory_id||null,rawName:y.subcategory_name,catalogName:j})}),(e.services??[]).forEach(y=>{const v=y.category_name||"General",b=(e.category_ids??[]).find(g=>a.get(g)===y.category_name)??null;m(b,v).services.push(y)}),u.size===0&&(((h=e.services)==null?void 0:h.length)??0)>0&&u.set("general",{key:"general",category_id:null,category_name:"Services",subcategories:[],services:e.services??[]}),Array.from(u.values())},[e.category_ids,e.subcategory_links,e.services,a,r]),o=i.length>0,[l,c]=x.useState(new Set),d=u=>{c(m=>{const h=new Set(m);return h.has(u)?h.delete(u):h.add(u),h})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(zr,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Provider Overview"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-purple-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider ID"})]}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-green-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Ws,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Contact Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Ws,{size:16,className:"text-blue-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(ia,{size:16,className:"text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg p-4 border border-amber-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Qr,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-amber-900",children:"Location Information"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Qr,{size:16,className:"text-amber-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:e.address}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]}),e.services&&e.services.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 border border-rose-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-rose-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Ly,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-rose-900",children:"Services"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.services.map(u=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-rose-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:u.service_name}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.status})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-500",children:[u.duration_minutes," mins"]}),s.jsxs("span",{className:"font-medium text-primary",children:["",u.price_min," - ",u.price_max]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:u.category_name})})]},u.id))})]}),e.service_areas&&e.service_areas.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg p-4 border border-teal-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-teal-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Qr,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-teal-900",children:"Service Areas"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.service_areas.map((u,m)=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-teal-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:u.area_name}),u.is_primary&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Primary"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[u.city,", ",u.state]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Pincode: ",u.pincode]})]},m))})]}),e.documents&&e.documents.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Yn,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Documents"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.documents.map(u=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-orange-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:u.document_type}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u.status==="approved"?"bg-green-100 text-green-800":u.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:u.status})]}),s.jsx("p",{className:"text-sm text-gray-600",children:u.document_name}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Uploaded: ",t(u.uploaded_at)]}),u.verified_at&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Verified: ",t(u.verified_at)]}),u.rejection_reason&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded-md",children:[s.jsx("p",{className:"text-sm font-medium text-red-700",children:"Rejection Reason"}),s.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.rejection_reason})]}),u.document_url&&s.jsx(M,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>window.open(u.document_url,"_blank","noopener,noreferrer"),children:"View Document"})]},u.id))})]}),o&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-4 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Wy,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Service Coverage"})]}),s.jsx("div",{className:"space-y-3",children:i.map(u=>{const m=l.has(u.key)||u.services.length===0;return s.jsxs("div",{className:"bg-white rounded-lg border border-blue-100 shadow-sm",children:[s.jsxs("button",{type:"button",onClick:()=>d(u.key),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.category_name}),u.category_id!==null&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Category ID: ",u.category_id]}),u.services.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.services.length," service",u.services.length>1?"s":""]})]}),u.services.length>0&&s.jsx(is,{size:16,className:`text-blue-500 transition-transform ${m?"rotate-180":""}`})]}),u.subcategories.length>0&&s.jsxs("div",{className:"px-4 pb-3",children:[s.jsx("span",{className:"text-xs font-medium text-gray-500 block mb-2",children:"Services"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:u.subcategories.map((h,y)=>{var j;const v=h.catalogName||(h.id?r.servicesById[h.id]:null)||h.rawName||(((j=u.services.find(b=>b.id===h.id))==null?void 0:j.service_name)??null)||`Service ${h.id||y+1}`;return s.jsxs("div",{className:"px-3 py-2 rounded-lg bg-blue-50 border border-blue-100 text-sm text-blue-700 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xs,{size:14,className:"text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v}),h.id&&s.jsxs("p",{className:"text-xs text-blue-400",children:["Service ID: ",h.id]})]})]}),u.services.length>0&&s.jsx("button",{type:"button",onClick:()=>d(u.key),className:"text-xs text-blue-500 hover:underline",children:"View details"})]},`${u.key}-${h.id??y}`)})})]}),u.services.length>0&&m&&s.jsx("div",{className:"border-t border-blue-50 bg-blue-50/50 px-4 py-3 space-y-2",children:u.services.map(h=>s.jsxs("div",{className:"bg-white rounded-lg border border-blue-100 p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900",children:h.service_name}),(h.price_min||h.price_max)&&s.jsxs("span",{className:"text-xs font-semibold text-blue-600",children:["",h.price_min," - ",h.price_max]})]}),h.description&&s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:h.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[h.duration_minutes>0&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full",children:["Duration: ",h.duration_minutes," mins"]}),h.status&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full capitalize",children:["Status: ",h.status]})]})]},`${u.key}-service-${h.id}`))})]},u.key)})})]}),n&&e.bank_details&&s.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-cyan-50 rounded-lg p-4 border border-slate-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Jt,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Account Verification"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Holder Name"}),s.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_holder_name||"N/A"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Bank Name"}),s.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.bank_name||"N/A"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Number"}),s.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_number||"N/A"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"IFSC Code"}),s.jsx("p",{className:"text-sm text-gray-800 uppercase",children:e.bank_details.ifsc_code||"N/A"})]})]})]}),e.portfolio&&e.portfolio.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg p-4 border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Hy,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-indigo-900",children:"Portfolio"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.portfolio.map(u=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-indigo-100",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:u.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[s.jsx("img",{src:u.before_image,alt:"Before",className:"object-cover w-full h-full"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"Before"})]}),s.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[s.jsx("img",{src:u.after_image,alt:"After",className:"object-cover w-full h-full"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"After"})]})]}),s.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-500",children:["Created: ",t(u.created_at)]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.status})]})]},u.id))})]})]})},kj=({searchTerm:e,onSearchChange:t})=>s.jsxs("div",{className:"relative w-64",children:[s.jsx(Dr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search providers...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),Sj=({showFieldManagement:e,onToggleSettings:t,fieldVisibility:r,onToggleField:n,onResetFields:a})=>s.jsxs("div",{className:"relative",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:t,className:"hover:bg-gray-100",children:[s.jsx(Xi,{size:16,className:"mr-2"}),"Fields"]}),e&&s.jsx("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:"Field Visibility"}),s.jsx(M,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:s.jsx(dt,{size:14})})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([i,o])=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:()=>n(i),disabled:["name","status","action"].includes(i),className:`rounded border-gray-300 text-primary focus:ring-primary ${["name","status","action"].includes(i)?"opacity-50":""}`}),s.jsxs("span",{className:`text-sm capitalize ${["name","status","action"].includes(i)?"font-medium":""}`,children:[i.replace(/([A-Z])/g," $1").trim(),["name","status","action"].includes(i)&&" (Required)"]})]},i))}),s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:s.jsx(M,{variant:"outline",size:"sm",onClick:a,className:"w-full",children:"Reset to Default"})})]})})]}),Cj=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:n,totalItems:a,onPageChange:i})=>s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+n,a)," of ",a," providers"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(os,{size:16})}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),s.jsx(M,{onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(ls,{size:16})})]})]}),Ej=({isOpen:e,providerId:t,action:r,reason:n,notes:a,onClose:i,onConfirm:o,onReasonChange:l,onNotesChange:c})=>{if(!e||!t||!r)return null;const d=()=>{switch(r){case"approve":return"Approve Provider";case"reject":return"Reject Provider";case"suspend":return"Suspend Provider";case"reinstate":return"Reinstate Provider";default:return""}},u=()=>{switch(r){case"approve":return"bg-green-600 text-white hover:bg-green-700";case"reject":return"bg-red-600 text-white hover:bg-red-700";case"suspend":return"bg-yellow-600 text-white hover:bg-yellow-700";case"reinstate":return"bg-blue-600 text-white hover:bg-blue-700";default:return""}},m=()=>{switch(r){case"approve":return"Approve";case"reject":return"Reject";case"suspend":return"Suspend";case"reinstate":return"Reinstate";default:return""}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:d()}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),s.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:n,onChange:h=>l(h.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),s.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter any additional notes...",value:a,onChange:h=>c(h.target.value)})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(M,{variant:"outline",onClick:i,children:"Cancel"}),s.jsx(M,{variant:"outline",onClick:()=>o(t,r,n,a),className:u(),children:m()})]})]})})},Pj=({isOpen:e,providerId:t,documentId:r,action:n,reason:a,onClose:i,onConfirm:o,onReasonChange:l})=>!e||!t||!r||!n?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:n==="approve"?"Approve Document":"Reject Document"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),s.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:a,onChange:c=>l(c.target.value)})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(M,{variant:"outline",onClick:i,children:"Cancel"}),s.jsx(M,{variant:"outline",onClick:()=>o(t,r,n,a),className:`${n==="approve"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:n==="approve"?"Approve":"Reject"})]})]})}),Bo={pending:{status:"pending",verification_status:"pending"},verification_in_progress:{status:"pending",verification_status:"pending"},in_progress:{status:"pending",verification_status:"pending"},approved:{status:"approved",verification_status:"verified"},verified:{status:"approved",verification_status:"verified"},active:{status:"approved",verification_status:"verified"},rejected:{status:"blocked",verification_status:"rejected"},blocked:{status:"blocked",verification_status:"rejected"},suspend:{status:"suspended",verification_status:"verified"},suspended:{status:"suspended",verification_status:"verified"}},Tj=e=>{if(!e)return Bo.pending;const t=e.toLowerCase();return Bo[t]||Bo.pending},Oe=(e,t=0)=>{if(e==null||e==="")return t;const r=Number(e);return Number.isFinite(r)?r:t},ys=(e,t=!1)=>{if(e==null)return t;if(typeof e=="string"){const r=e.trim().toLowerCase();if(["true","1","yes","verified","approved"].includes(r))return!0;if(["false","0","no","pending","rejected"].includes(r))return!1}return!!e},xe=(e,t="")=>{if(e==null)return t;const r=String(e).trim();return r.length>0?r:t},Js=(e,t=null)=>{if(e==null)return t;const r=String(e).trim();return r.length>0?r:t},Aj=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>xe(t)).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return t.map(r=>xe(r)).filter(Boolean)}catch{return e.split(",").map(t=>t.trim()).filter(Boolean)}return e?[e]:[]}return[]},zj=e=>Array.isArray(e)?e.map((t,r)=>({id:Oe(t==null?void 0:t.id,r+1),service_name:xe((t==null?void 0:t.service_name)??(t==null?void 0:t.title),`Service ${r+1}`),description:xe(t==null?void 0:t.description,""),price_min:Oe((t==null?void 0:t.price_min)??(t==null?void 0:t.price)??(t==null?void 0:t.price_original),0),price_max:Oe((t==null?void 0:t.price_max)??(t==null?void 0:t.price)??(t==null?void 0:t.price_original),0),duration_minutes:Oe((t==null?void 0:t.duration_minutes)??(t==null?void 0:t.duration),0),status:xe(t==null?void 0:t.status,"active"),category_name:xe((t==null?void 0:t.category_name)??(t==null?void 0:t.category),"General")})):[],Rj=(e,t,r)=>Array.isArray(e)?e.map((n,a)=>({pincode:xe(n==null?void 0:n.pincode,""),area_name:xe((n==null?void 0:n.area_name)??(n==null?void 0:n.name),`Area ${a+1}`),city:xe(n==null?void 0:n.city,t),state:xe(n==null?void 0:n.state,r),is_primary:ys((n==null?void 0:n.is_primary)??(n==null?void 0:n.primary),a===0)})):[],Lj=(e,t)=>{if(Array.isArray(e==null?void 0:e.documents)&&e.documents.length>0)return e.documents.map((o,l)=>({id:Oe(o==null?void 0:o.id,l+1),document_type:xe((o==null?void 0:o.document_type)??(o==null?void 0:o.type),`document_${l+1}`),document_name:xe((o==null?void 0:o.document_name)??(o==null?void 0:o.document_type)??(o==null?void 0:o.type),`Document ${l+1}`),status:xe(o==null?void 0:o.status,o!=null&&o.verified_at?"approved":o!=null&&o.rejection_reason?"rejected":"submitted"),uploaded_at:xe(o==null?void 0:o.uploaded_at,(e==null?void 0:e.created_at)||(t==null?void 0:t.created_at)||new Date().toISOString()),verified_at:(o==null?void 0:o.verified_at)??null,rejection_reason:(o==null?void 0:o.rejection_reason)??null,document_url:Js((o==null?void 0:o.document_url)??(o==null?void 0:o.url)??(o==null?void 0:o.file_url)??(o==null?void 0:o.path)??(o==null?void 0:o.link)??null,null)}));const r=[],n=new Set,a=(o,l)=>{const c=o.trim();if(!c)return;const d=c.toLowerCase();n.has(d)||(n.add(d),r.push({id:r.length+1,document_type:c,document_name:c,status:"submitted",uploaded_at:(e==null?void 0:e.created_at)||(t==null?void 0:t.created_at)||new Date().toISOString(),verified_at:null,rejection_reason:null,document_url:Js(l??null,null)}))};return e!=null&&e.documents&&typeof e.documents=="object"&&Object.entries(e.documents).forEach(([o,l])=>{if(!l)return;const c=o.replace(/_url|_doc_url/g,"").replace(/_/g," ").trim();if(c){if(Array.isArray(l))l.forEach((d,u)=>{if(!d)return;const m=l.length>1?`${c} ${u+1}`:c;if(typeof d=="string")a(m,d);else if(typeof d=="object"){const h=d.url??(d==null?void 0:d.document_url)??(d==null?void 0:d.path)??(d==null?void 0:d.file_url);h&&a(m,String(h))}});else if(typeof l=="string")a(c,l);else if(typeof l=="object"){const d=l.url??(l==null?void 0:l.document_url)??(l==null?void 0:l.path)??(l==null?void 0:l.file_url);d&&a(c,String(d))}}}),[{key:"profile_photo_url",label:"Profile Photo"},{key:"aadhaar_doc_url",label:"Aadhaar Document"},{key:"pan_doc_url",label:"PAN Document"},{key:"degree_doc_url",label:"Degree Document"}].forEach(({key:o,label:l})=>{e!=null&&e[o]&&a(l,e[o])}),r.length===0&&(t!=null&&t.documents)?t.documents:r},$j=(e,t)=>{if(Array.isArray(e==null?void 0:e.portfolio)&&e.portfolio.length>0)return e.portfolio;const r=Aj(e==null?void 0:e.previous_work_images);return r.length===0?(t==null?void 0:t.portfolio)??[]:r.map((n,a)=>({id:a+1,title:`Work ${a+1}`,description:"",image_path:n,before_image:n,after_image:n,display_order:a+1,status:"active",created_at:(e==null?void 0:e.created_at)||(t==null?void 0:t.created_at)||new Date().toISOString()}))},Ij=(e,t)=>{if(!e&&!t)return null;const r=e||t;return r?{account_holder_name:xe(r.account_holder_name,(t==null?void 0:t.account_holder_name)??""),bank_name:xe(r.bank_name,(t==null?void 0:t.bank_name)??""),account_number:xe(r.account_number,(t==null?void 0:t.account_number)??""),ifsc_code:xe(r.ifsc_code,(t==null?void 0:t.ifsc_code)??"")}:null},Dj=(e,t)=>Array.isArray(e)?e.map(r=>Oe(r)).filter(r=>Number.isFinite(r)&&r>0):t||[],Mj=(e,t)=>{if(Array.isArray(e)){const r=[];return e.forEach((n,a)=>{const i=Oe(n==null?void 0:n.category_id,n!=null&&n.category?Number(n==null?void 0:n.category):0),o=Oe(n==null?void 0:n.subcategory_id,a+1);!i&&!o||r.push({category_id:i,subcategory_id:o,category_name:Js((n==null?void 0:n.category_name)??(n==null?void 0:n.category)??null,null),subcategory_name:Js((n==null?void 0:n.subcategory_name)??(n==null?void 0:n.subcategory)??null,null)})}),r}return t||[]},hs=(e,t)=>{var g;if(!e&&t)return t;if(!e)return{id:0,name:"",email:"",phone:"",business_name:"",address:"",pincode:"",city:"",state:"",profile_image:null,business_logo:null,experience_years:0,description:null,status:"pending",verification_status:"pending",email_verified:!1,phone_verified:!1,identity_verified:!1,documents_verified:!1,average_rating:0,total_reviews:0,total_bookings:0,total_earnings:0,commission_rate:0,is_featured:!1,created_at:new Date().toISOString(),services:[],service_areas:[],documents:[],portfolio:[]};const r=e!=null&&e.details?{...e.details,...e}:e,{status:n,verification_status:a}=Tj(r==null?void 0:r.status),i=xe(r==null?void 0:r.city,(t==null?void 0:t.city)??""),o=xe(r==null?void 0:r.state,(t==null?void 0:t.state)??""),l=zj(r==null?void 0:r.services),c=Rj(r==null?void 0:r.service_areas,i,o),d=Lj(r,t),u=$j(r,t),m=Ij(r==null?void 0:r.bank_details,t==null?void 0:t.bank_details),h=Dj(r==null?void 0:r.categories,t==null?void 0:t.category_ids),y=Mj(r==null?void 0:r.subcategories,t==null?void 0:t.subcategory_links),v=xe(r==null?void 0:r.created_at,(t==null?void 0:t.created_at)??new Date().toISOString()),j=(r==null?void 0:r.average_rating)??(r==null?void 0:r.rating),b=(r==null?void 0:r.total_reviews)??(Array.isArray(r==null?void 0:r.reviews)?r.reviews.length:void 0),p=(r==null?void 0:r.total_bookings)??(r==null?void 0:r.completed_appointments);return{id:Oe((r==null?void 0:r.id)??(r==null?void 0:r.provider_id),(t==null?void 0:t.id)??0),name:xe((r==null?void 0:r.full_name)??(r==null?void 0:r.name),(t==null?void 0:t.name)??""),email:xe(r==null?void 0:r.email,(t==null?void 0:t.email)??""),phone:xe((r==null?void 0:r.phone_number)??(r==null?void 0:r.phone),(t==null?void 0:t.phone)??""),business_name:xe(r==null?void 0:r.business_name,(t==null?void 0:t.business_name)??""),address:xe(r==null?void 0:r.address,(t==null?void 0:t.address)??""),pincode:xe(r==null?void 0:r.pincode,(t==null?void 0:t.pincode)??""),city:i,state:o,profile_image:Js((r==null?void 0:r.profile_photo_url)??(r==null?void 0:r.profile_image)??((g=r==null?void 0:r.documents)==null?void 0:g.profile_photo_url),(t==null?void 0:t.profile_image)??null),business_logo:Js(r==null?void 0:r.business_logo,(t==null?void 0:t.business_logo)??null),experience_years:Oe(r==null?void 0:r.experience_years,(t==null?void 0:t.experience_years)??0),description:(r==null?void 0:r.description)??(t==null?void 0:t.description)??null,status:n,verification_status:a,email_verified:ys(r==null?void 0:r.email_verified,(t==null?void 0:t.email_verified)??!1),phone_verified:ys(r==null?void 0:r.phone_verified,(t==null?void 0:t.phone_verified)??!1),identity_verified:ys(r==null?void 0:r.identity_verified,(t==null?void 0:t.identity_verified)??!1),documents_verified:ys(r==null?void 0:r.documents_verified,(t==null?void 0:t.documents_verified)??n==="approved"),average_rating:Oe(j,(t==null?void 0:t.average_rating)??0),total_reviews:Oe(b,(t==null?void 0:t.total_reviews)??0),total_bookings:Oe(p,(t==null?void 0:t.total_bookings)??0),total_earnings:Oe(r==null?void 0:r.total_earnings,(t==null?void 0:t.total_earnings)??0),commission_rate:Oe(r==null?void 0:r.commission_rate,(t==null?void 0:t.commission_rate)??0),is_featured:ys(r==null?void 0:r.is_featured,(t==null?void 0:t.is_featured)??!1),created_at:v,services:l.length>0?l:(t==null?void 0:t.services)??[],service_areas:c.length>0?c:(t==null?void 0:t.service_areas)??[],documents:d.length>0?d:(t==null?void 0:t.documents)??[],portfolio:u.length>0?u:(t==null?void 0:t.portfolio)??[],bank_details:m,category_ids:h,subcategory_links:y}},$a=(e,t)=>{if(!t)return e;const r=e.findIndex(a=>a.id===t.id);if(r===-1)return e;const n=[...e];return n[r]=t,n},Oj={approve:{apiAction:"approve",nextStatus:"approved",verification:"verified"},reject:{apiAction:"reject",nextStatus:"blocked",verification:"rejected"},suspend:{apiAction:"suspend",nextStatus:"suspended",verification:"verified"},reinstate:{apiAction:"reinstate",nextStatus:"approved",verification:"verified"}},Fj=()=>{const{addToast:e}=Et(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(""),[l,c]=x.useState(1),[d,u]=x.useState(new Set),[m,h]=x.useState(!1),[y,v]=x.useState({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1}),j=5,b="https://prox.mycartly.in/api",[p,g]=x.useState("all"),[f,w]=x.useState([]),[k,A]=x.useState(!1),[C,S]=x.useState({isOpen:!1,providerId:null,action:null,reason:"",notes:""}),[E,D]=x.useState({isOpen:!1,providerId:null,documentId:null,action:null}),[Q,ne]=x.useState({categories:{},servicesById:{}}),R=x.useCallback(async()=>{const $=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token");try{const[B,q]=await Promise.all([fetch(`${b}/admin/categories`,{headers:{"Content-Type":"application/json",...$?{Authorization:`Bearer ${$}`}:{}}}),fetch(`${b}/admin/services`,{headers:{"Content-Type":"application/json",...$?{Authorization:`Bearer ${$}`}:{}}})]),W=await B.json(),G=await q.json();if(B.ok&&Array.isArray(W.categories)){const de={};W.categories.forEach(J=>{const le=Oe(J==null?void 0:J.id,0);if(!le)return;const ie={},Ne=Array.isArray(J==null?void 0:J.subcategories)?J.subcategories:J==null?void 0:J.services;Array.isArray(Ne)&&Ne.forEach((pe,ve)=>{const ge=Oe(pe==null?void 0:pe.id,ve+1);ge&&(ie[ge]=xe((pe==null?void 0:pe.name)??(pe==null?void 0:pe.title)??(pe==null?void 0:pe.service_name),`Service ${ge}`))}),de[le]={name:xe(J==null?void 0:J.name,`Category ${le}`),services:ie}});const te={};q.ok&&Array.isArray(G.services)&&G.services.forEach((J,le)=>{const ie=Oe(J==null?void 0:J.id,le+1);ie&&(te[ie]=xe((J==null?void 0:J.title)??(J==null?void 0:J.name)??(J==null?void 0:J.service_name),`Service ${ie}`))}),ne({categories:de,servicesById:te})}else throw new Error(W.message||"Failed to fetch categories")}catch(B){console.error("Error fetching categories catalog:",B);const q=B instanceof Error?B.message:"Failed to fetch categories";e(q,"error")}},[b,e]),Z=x.useCallback(async($=!1)=>{const B=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token");if(!B){e("Please login to view providers","error"),$&&a(!1);return}$&&a(!0);try{const q=await fetch(`${b}/admin/providers`,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}}),W=await q.json();if(q.ok&&Array.isArray(W.data)){const G=W.data.map(de=>hs(de));r(G)}else throw new Error(W.message||"Failed to fetch providers")}catch(q){console.error("Error fetching providers:",q);const W=q instanceof Error?q.message:"Failed to fetch providers";e(W,"error"),r([])}finally{$&&a(!1)}},[b,e]),I=x.useCallback(async()=>{A(!0);const $=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token");if(!$){e("Please login to view pending providers","error"),A(!1);return}try{const B=await fetch(`${b}/admin/providers?list=pending`,{headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}}),q=await B.json();if(B.ok&&Array.isArray(q.data)){const W=q.data.map(G=>hs(G));w(W)}else throw new Error(q.message||"Failed to fetch pending providers")}catch(B){console.error("Error fetching pending providers:",B);const q=B instanceof Error?B.message:"Failed to fetch pending providers";e(q,"error"),w([])}finally{A(!1)}},[b,e]);x.useEffect(()=>{Z(!0),I(),R()},[Z,I,R]),x.useEffect(()=>{p==="pending"||Z(),I()},[p,I,Z]),x.useEffect(()=>{const $=setInterval(()=>{Z(),I()},3e4);return()=>clearInterval($)},[I,Z]);const H=async $=>{const B=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token");if(!B){e("Please login to view provider details","error");return}try{const q=await fetch(`${b}/admin/providers?provider_id=${$}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`}}),W=await q.json(),G=Array.isArray(W==null?void 0:W.data)?W.data[0]:W==null?void 0:W.data;if(q.ok&&G){const de=G;let te=null;r(J=>{const le=J.find(ie=>ie.id===$);return te=hs(de,le),$a(J,te)}),w(J=>{if(!te){const le=J.find(ie=>ie.id===$);te=hs(de,le)}return $a(J,te)})}else throw new Error(W.message||"Failed to fetch provider details")}catch(q){console.error("Error fetching provider details:",q),e(q instanceof Error?q.message:"Failed to fetch provider details","error")}},U=$=>{const B=new Set(d);d.has($)?B.delete($):(B.add($),H($)),u(B)},_=$=>{$==="name"||$==="status"||$==="action"||v(B=>({...B,[$]:!B[$]}))},N=()=>{v({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1})},z=()=>{S({isOpen:!1,providerId:null,action:null,reason:"",notes:""})},F=($,B)=>{if(B==="reject"||B==="suspend"){S({isOpen:!0,providerId:$,action:B,reason:"",notes:""});return}me($,B)},V=t.filter($=>$.name.toLowerCase().includes(i.toLowerCase())||$.email.toLowerCase().includes(i.toLowerCase())||$.phone.includes(i)||$.city.toLowerCase().includes(i.toLowerCase())),Y=Math.ceil(V.length/j),ee=(l-1)*j,fe=V.slice(ee,ee+j),me=async($,B,q,W)=>{const G=Oj[B];if(!G)return;const de=(W||q||"").trim();if((B==="reject"||B==="suspend")&&!de){e("Please provide a reason for this action","error");return}try{const te=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token");if(!te){e("Please login to verify provider","error");return}const J={action:G.apiAction};de&&(J.notes=de);const le=await fetch(`${b}/admin/provider/verify/${$}`,{method:"PUT",headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json"},body:JSON.stringify(J)}),ie=await le.json();if(!le.ok)throw new Error(ie.message||"Failed to update provider status");const Ne=G.nextStatus!=="pending";if(ie.provider){const pe=ie.provider;let ve=null;r(ge=>{const cs=ge.find(ao=>ao.id===$);return ve=hs(pe,cs),$a(ge,ve)}),w(ge=>{if(!ve){const ma=ge.find(ao=>ao.id===$);ve=hs(pe,ma)}const cs=$a(ge,ve);return Ne?cs.filter(ma=>ma.id!==$):cs})}else r(pe=>pe.map(ve=>ve.id===$?{...ve,status:G.nextStatus,verification_status:G.verification}:ve)),w(pe=>{const ve=pe.map(ge=>ge.id===$?{...ge,status:G.nextStatus,verification_status:G.verification}:ge);return Ne?ve.filter(ge=>ge.id!==$):ve});z(),e(ie.message||`Provider ${B}d successfully`,"success"),await Z(),await I()}catch(te){console.error("Error updating provider status:",te),e(te instanceof Error?te.message:"Failed to update provider status","error")}},ae=async($,B,q,W)=>{try{const G=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token");if(!G){e("Please login to update document","error");return}const te=await(await fetch(`${b}/admin/providers/${$}/documents/${B}`,{method:"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify({action:q,reason:W})})).json();te.success&&(r(J=>J.map(le=>{var ie;return le.id===$?{...le,documents:(ie=le.documents)==null?void 0:ie.map(Ne=>Ne.id===B?{...Ne,status:q==="approve"?"approved":"rejected",rejection_reason:W||null}:Ne)}:le})),e(te.message,"success"))}catch(G){console.error("Error updating document status:",G),e("Failed to update document status","error")}},Ue=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",P=$=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format($),L=()=>{const $=p==="pending"?f:fe;return p==="pending"&&!k&&f.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:Object.values(y).filter(Boolean).length+1,className:"py-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(zr,{size:24,className:"text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Providers"}),s.jsx("p",{className:"text-gray-500 max-w-sm",children:"There are currently no service providers waiting for approval."})]})})}):k&&p==="pending"?s.jsx("tr",{children:s.jsx("td",{colSpan:Object.values(y).filter(Boolean).length+1,className:"py-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading pending providers..."})]})})}):$.map(B=>s.jsxs(jt.Fragment,{children:[s.jsx(Nj,{provider:B,fieldVisibility:y,expandingUsers:d,onStatusAction:F,onToggleDropdown:U,formatDate:Ue,formatCurrency:P}),d.has(B.id)&&s.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:s.jsx("td",{colSpan:Object.values(y).filter(Boolean).length+1,className:"p-6",children:s.jsx(_j,{provider:B,formatDate:Ue,serviceCatalog:Q})})})]},B.id))};return s.jsxs(gt,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Trainers"}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center",children:s.jsx(zr,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"About"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-blue-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:"Manage and approve trainer profiles, monitor their performance, and handle verification requests for fitness experts."})]})]})]}),n&&p==="all"?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading trainers..."})]}):s.jsxs(Te,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Kt,{children:"Trainers"}),s.jsx(yj,{value:p,onValueChange:$=>g($),children:s.jsxs(vj,{children:[s.jsxs(Ku,{value:"all",className:"relative",children:["All Trainers",s.jsx("span",{className:"absolute -top-1 -right-1 bg-gray-200 text-gray-700 text-xs px-2 py-0.5 rounded-full",children:t.length})]}),s.jsxs(Ku,{value:"pending",className:"relative",children:["Pending Trainers",s.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded-full",children:f.length})]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Sj,{showFieldManagement:m,onToggleSettings:()=>h(!m),fieldVisibility:y,onToggleField:_,onResetFields:N}),s.jsx(kj,{searchTerm:i,onSearchChange:o})]})]}),s.jsxs(Ae,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx(jj,{fieldVisibility:y}),s.jsx("tbody",{children:L()})]})}),p==="all"&&Y>1&&s.jsx(Cj,{currentPage:l,totalPages:Y,startIndex:ee,itemsPerPage:j,totalItems:V.length,onPageChange:c})]})]}),s.jsx(Ej,{isOpen:C.isOpen,providerId:C.providerId,action:C.action,reason:C.reason,notes:C.notes,onClose:z,onConfirm:me,onReasonChange:$=>S(B=>({...B,reason:$})),onNotesChange:$=>S(B=>({...B,notes:$}))}),s.jsx(Pj,{isOpen:E.isOpen,providerId:E.providerId,documentId:E.documentId,action:E.action,reason:E.reason,onClose:()=>D({isOpen:!1,providerId:null,documentId:null,action:null}),onConfirm:ae,onReasonChange:$=>D(B=>({...B,reason:$}))})]})},Uj=({showColumnSettings:e,onToggleSettings:t,columnVisibility:r,onToggleColumn:n,onResetColumns:a})=>s.jsxs("div",{className:"relative",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:t,className:"hover:bg-gray-100",children:[s.jsx(Xi,{size:16,className:"mr-2"}),"Columns"]}),e&&s.jsx("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:"Column Visibility"}),s.jsx(M,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:s.jsx(dt,{size:14})})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([i,o])=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:()=>n(i),disabled:["name","activity","status"].includes(i),className:`rounded border-gray-300 text-primary focus:ring-primary ${["name","activity","status"].includes(i)?"opacity-50":""}`}),s.jsxs("span",{className:`text-sm capitalize ${["name","activity","status"].includes(i)?"font-medium":""}`,children:[i,["name","activity","status"].includes(i)&&" (Required)"]})]},i))}),s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:s.jsx(M,{variant:"outline",size:"sm",onClick:a,className:"w-full",children:"Reset to Default"})})]})})]}),Bj=({isOpen:e,onClose:t,onConfirm:r,userName:n})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:s.jsx(pt,{className:"h-6 w-6 text-red-600"})})}),s.jsx("h3",{className:"text-lg font-semibold text-center mb-2",children:"Delete User"}),s.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Are you sure you want to delete ",n,"? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(M,{variant:"outline",onClick:t,className:"hover:bg-gray-100",children:"Cancel"}),s.jsx(M,{variant:"outline",onClick:r,className:"bg-red-600 text-white hover:bg-red-700 border-red-600",children:"Delete"})]})]})}):null,ld=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}),Hj=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:n,totalItems:a,onPageChange:i})=>t<=1?null:s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+n,a)," of ",a," users"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"hover:bg-gray-100",children:[s.jsx(os,{size:16}),"Previous"]}),s.jsxs("span",{className:"px-3 py-1 text-sm text-gray-600 bg-gray-100 rounded",children:[e," of ",t]}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"hover:bg-gray-100",children:["Next",s.jsx(ls,{size:16})]})]})]}),cd=({searchTerm:e,onSearchChange:t})=>s.jsxs("div",{className:"relative w-64",children:[s.jsx(Dr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),Vj=({user:e,formatDate:t,getActivityIcon:r})=>{var n;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Rt,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"User Overview"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-purple-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User ID"})]}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-green-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-orange-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Login"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:t(e.last_login)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Ws,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Contact Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Ws,{size:16,className:"text-blue-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(ia,{size:16,className:"text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Qr,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Location Information"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Qr,{size:16,className:"text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:e.address}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Pi,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Recent Activities"})]}),s.jsxs("div",{className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-sm font-medium",children:[((n=e.recent_activities)==null?void 0:n.length)||0," Activities"]})]}),e.recent_activities&&e.recent_activities.length>0?s.jsx("div",{className:"space-y-3",children:e.recent_activities.map((a,i)=>s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:r(a.activity_type)}),s.jsx("span",{className:"text-sm font-medium text-gray-600 capitalize",children:a.activity_type})]}),s.jsx("p",{className:"text-sm text-gray-800",children:a.description}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("p",{className:"text-xs text-gray-500",children:["IP: ",a.ip_address]}),s.jsx("p",{className:"text-xs text-gray-500",children:t(a.created_at)})]})]},i))}):s.jsxs("div",{className:"bg-white rounded-lg p-6 text-center border border-emerald-100",children:[s.jsx(Pi,{size:24,className:"mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No recent activities found"})]})]})]})},Wj=({columnVisibility:e})=>s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[e.name&&s.jsx("th",{className:"text-left pb-4",children:"Name"}),e.contact&&s.jsx("th",{className:"text-left pb-4",children:"Contact"}),e.location&&s.jsx("th",{className:"text-left pb-4",children:"Location"}),e.status&&s.jsx("th",{className:"text-left pb-4",children:"Status"}),e.activity&&s.jsx("th",{className:"text-left pb-4",children:"Activity"}),e.actions&&s.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),qj=({user:e,columnVisibility:t,expandingUsers:r,onStatusChange:n,onToggleDropdown:a,onDelete:i,formatDate:o})=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[t.name&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center ring-2 ring-primary/10",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})}),t.contact&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.email}),e.email_verified&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ar,{size:14,className:"text-green-500"}),s.jsx("span",{className:"text-xs text-green-600 ml-1",children:"Verified"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ia,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.phone}),e.phone_verified&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ar,{size:14,className:"text-green-500"}),s.jsx("span",{className:"text-xs text-green-600 ml-1",children:"Verified"})]})]})]})}),t.location&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("p",{className:"font-medium",children:[e.city,", ",e.state]}),s.jsxs("p",{className:"text-gray-500 flex items-center",children:[s.jsx(Qr,{size:12,className:"mr-1"}),e.pincode]})]})}),t.status&&s.jsx("td",{className:"py-4",children:s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${e.status==="active"?"bg-green-500":"bg-red-500"}`}),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),t.activity&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{size:14,className:"text-gray-400"}),s.jsxs("span",{className:"text-sm",children:["Last: ",o(e.last_login)]})]}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-3",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ze,{size:12,className:"mr-1"}),e.total_bookings," bookings"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(Jt,{size:12,className:"mr-1"}),"",e.total_spent.toLocaleString()]})]})]})}),t.actions&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:e.status,onChange:l=>n(e.id,l.target.value),className:"px-3 py-1.5 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"suspended",children:"Suspended"})]}),s.jsx(M,{variant:"outline",size:"sm",onClick:()=>a(e.id),className:"transition-all duration-200 hover:bg-blue-50 hover:border-blue-300 hover:shadow-md",disabled:r.has(e.id),children:r.has(e.id)?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"}):s.jsxs(s.Fragment,{children:[s.jsx(tn,{size:14,className:"mr-1"}),s.jsx("span",{children:"Details"}),e.expanded?s.jsx(Yi,{size:14,className:"ml-1"}):s.jsx(is,{size:14,className:"ml-1"})]})}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>i(e.id,e.name),className:"transition-all duration-200 hover:bg-red-600 hover:shadow-lg text-red-600 border-red-200",children:[s.jsx(dt,{size:14,className:"mr-1"}),"Delete"]})]})})]}),Ho={},Jj=((Ho==null?void 0:Ho.VITE_API_BASE_URL)||"https://prox.mycartly.in/api").replace(/\/$/,""),Gj=e=>`https://ui-avatars.com/api/?background=random&color=fff&name=${encodeURIComponent(e||"User")}`,Kj=e=>{const t=new Date().toISOString(),r=Number(e.total_bookings??0),n=Number(e.total_spent??0);return{id:e.id,name:e.full_name||`User #${e.id}`,email:e.email||"not.provided@activeaidfitnessacademy.com",phone:e.phone_number||"N/A",address:e.address||"Address not available",pincode:e.pincode||"N/A",city:e.city||"Unknown City",state:e.state||"Unknown State",profile_image:e.profile_image_url||Gj(e.full_name||""),status:e.status||"active",email_verified:e.email_verified??!!e.email,phone_verified:e.phone_verified??!!e.phone_number,created_at:e.created_at||t,updated_at:e.updated_at||t,last_login:e.last_login||e.updated_at||t,total_bookings:Number.isNaN(r)?0:r,total_spent:Number.isNaN(n)?0:n,recent_activities:[]}},Qj=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(""),[o,l]=x.useState(1),[c,d]=x.useState(new Set),[u,m]=x.useState(!1),[h,y]=x.useState({name:!0,contact:!0,location:!0,status:!0,activity:!0,actions:!0}),v=5,{addToast:j}=Et(),[b,p]=x.useState({isOpen:!1,userId:null,userName:""}),[g,f]=x.useState(null),w=x.useCallback(async()=>{const U=localStorage.getItem("blinkcare_token");if(!U){f("Please log in as an admin to view users."),t([]),n(!1),j("Please log in as admin to view users.","error");return}try{n(!0),f(null);const _=await fetch(`${Jj}/admin/users`,{headers:{Authorization:`Bearer ${U}`}});if(!_.ok)throw new Error(`Failed to fetch users (status ${_.status})`);const N=await _.json(),z=Array.isArray(N.data)?N.data:[];if(!z.length){t([]),f("No users found in the backend.");return}t(z.map(Kj))}catch(_){console.error("Error fetching users from backend:",_),f("Unable to fetch users from the backend."),t([]),j("Unable to load users from backend.","error")}finally{n(!1)}},[j]);x.useEffect(()=>{w()},[w]);const k=x.useMemo(()=>{if(!a)return e;const U=a.toLowerCase();return e.filter(_=>_.name.toLowerCase().includes(U)||_.email.toLowerCase().includes(U)||_.phone.toLowerCase().includes(U)||_.city.toLowerCase().includes(U))},[e,a]),A=Math.ceil(k.length/v),C=(o-1)*v,S=k.slice(C,C+v),E=(U,_)=>{t(e.map(N=>N.id===U?{...N,status:_,updated_at:new Date().toISOString()}:N)),j(`User status updated to ${_}`,"success")},D=U=>{t(e.filter(_=>_.id!==U)),j("User deleted successfully","success"),p({isOpen:!1,userId:null,userName:""})},Q=U=>{const _=e.find(N=>N.id===U);_!=null&&_.expanded||(d(N=>new Set(N).add(U)),setTimeout(()=>{d(N=>{const z=new Set(N);return z.delete(U),z})},300)),t(N=>N.map(z=>z.id===U?{...z,expanded:!z.expanded}:z))},ne=U=>{if(!U)return"Not available";const _=new Date(U);return Number.isNaN(_.getTime())?U:_.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},R=U=>{["name","activity","status"].includes(U)||y(_=>({..._,[U]:!_[U]}))},Z=()=>{y({name:!0,contact:!0,location:!0,status:!0,activity:!0,actions:!0})},I=U=>{switch(U.toLowerCase()){case"login":return s.jsx(et,{size:14,className:"text-blue-500"});case"booking":return s.jsx(Ze,{size:14,className:"text-green-500"});case"payment":return s.jsx(Jt,{size:14,className:"text-purple-500"});default:return s.jsx(Pi,{size:14,className:"text-gray-500"})}},H=(U,_)=>{p({isOpen:!0,userId:U,userName:_})};return s.jsxs(gt,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Users"}),s.jsx("p",{className:"text-gray-600",children:"Support user accounts, engagement, and booking activity."})]}),r?s.jsx(ld,{}):s.jsxs(Te,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(Kt,{children:"All Users"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>w(),disabled:r,className:"flex items-center space-x-2",children:[s.jsx(rr,{size:14,className:r?"animate-spin":""}),s.jsx("span",{children:"Refresh"})]}),s.jsx(Uj,{showColumnSettings:u,onToggleSettings:()=>m(!u),columnVisibility:h,onToggleColumn:R,onResetColumns:Z}),s.jsx(cd,{searchTerm:a,onSearchChange:i})]})]}),s.jsxs(Ae,{children:[g&&s.jsx("div",{className:"mb-4 rounded-md border border-amber-200 bg-amber-50 px-4 py-2 text-sm text-amber-900",children:g}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx(Wj,{columnVisibility:h}),s.jsx("tbody",{children:S.map(U=>s.jsxs(jt.Fragment,{children:[s.jsx(qj,{user:U,columnVisibility:h,expandingUsers:c,onStatusChange:E,onToggleDropdown:Q,onDelete:H,formatDate:ne}),U.expanded&&s.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:s.jsx("td",{colSpan:Object.values(h).filter(Boolean).length,className:"py-6 px-6",children:s.jsx(Vj,{user:U,formatDate:ne,getActivityIcon:I})})})]},U.id))})]})}),A>1&&s.jsx(Hj,{currentPage:o,totalPages:A,startIndex:C,itemsPerPage:v,totalItems:k.length,onPageChange:l})]})]}),s.jsx(Bj,{isOpen:b.isOpen,onClose:()=>p({isOpen:!1,userId:null,userName:""}),onConfirm:()=>b.userId&&D(b.userId),userName:b.userName})]})},Zj=({searchTerm:e,onSearchChange:t})=>s.jsxs("div",{className:"relative w-64",children:[s.jsx(Dr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search transactions...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),Yj=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:n,totalItems:a,onPageChange:i})=>s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+n,a)," of ",a," transactions"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(os,{size:16})}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),s.jsx(M,{onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(ls,{size:16})})]})]}),Xj=({transaction:e,expandedTransaction:t,onToggleDetails:r,formatDate:n,formatCurrency:a,onMarkPaid:i,isMarkingPaid:o})=>{const l=d=>{switch(d){case"paid":case"completed":return"bg-green-100 text-green-700";case"unpaid":case"pending":return"bg-yellow-100 text-yellow-700";case"failed":return"bg-red-100 text-red-700";case"refunded":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},c=e.admin_paid_status!=="paid"&&e.payment_status!=="paid";return s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:e.transaction_id}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Booking: ",e.booking_id]})]}),s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:e.service_name||"Service"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[e.user_name||"User","  ",e.provider_name||"Provider"]})]}),s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:a(e.amount)}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Provider: ",a(e.provider_amount)]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Commission: ",a(e.commission_amount)]})]}),s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"space-y-1",children:[e.status&&s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(e.status)}`,children:e.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(e.payment_status)}`,children:e.payment_status})]})}),s.jsx("td",{className:"py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(e.admin_paid_status)}`,children:e.admin_paid_status})}),s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"text-sm text-gray-600",children:n(e.created_at)}),e.paid_at&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Paid: ",n(e.paid_at)]})]}),s.jsxs("td",{className:"py-4 space-y-2",children:[s.jsxs(M,{onClick:()=>r(e.id),className:"flex items-center space-x-1 bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(tn,{size:14}),s.jsx("span",{children:"Details"}),t===e.id?s.jsx(Yi,{size:14}):s.jsx(is,{size:14})]}),c&&s.jsxs(M,{onClick:()=>i(e.id),disabled:o,className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white w-full justify-center",children:[s.jsx(ar,{size:14}),s.jsx("span",{children:o?"Updating...":"Mark Paid"})]})]})]})},e1=({transaction:e,formatDate:t,formatCurrency:r,onMarkPaid:n,isMarkingPaid:a})=>{const i=e.admin_paid_status!=="paid"&&e.payment_status!=="paid";return s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-4 bg-gray-50",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Jt,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Transaction Overview"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-purple-600 text-xs font-bold",children:"#"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transaction ID"})]}),s.jsx("p",{className:"text-sm font-mono text-gray-800 bg-gray-50 px-2 py-1 rounded",children:e.transaction_id})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-green-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amount"})]}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r(e.amount)}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Commission: ",r(e.commission_amount)]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Provider: ",r(e.provider_amount)]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-orange-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})]}),e.status&&s.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Transaction: ",s.jsx("span",{className:"font-semibold",children:e.status})]}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["Payment: ",e.payment_status]}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Admin paid: ",e.admin_paid_status]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-white text-sm",children:""})}),s.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Payment Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-blue-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:e.payment_method}),e.razorpay_payment_id&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Razorpay: ",e.razorpay_payment_id]}),e.razorpay_order_id&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Order: ",e.razorpay_order_id]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-green-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Dates"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm text-gray-800",children:["Created: ",t(e.created_at)]}),e.paid_at&&s.jsxs("p",{className:"text-sm text-gray-800",children:["Paid: ",t(e.paid_at)]}),e.admin_paid_at&&s.jsxs("p",{className:"text-sm text-gray-800",children:["Admin paid: ",t(e.admin_paid_at)]})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-white text-sm",children:""})}),s.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"User & Provider"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-purple-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.user_name||"-"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.user_email||"-"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.user_phone||"-"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-pink-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-pink-600 text-xs",children:""})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.provider_name||"-"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.provider_business_name||"-"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.provider_phone||"-"})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-white text-sm",children:""})}),s.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Booking & Property"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-orange-100 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Booking ID"}),s.jsx("p",{className:"text-sm text-gray-900",children:e.booking_id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Service"}),s.jsx("p",{className:"text-sm text-gray-900",children:e.service_name||"-"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Address"}),s.jsx("p",{className:"text-sm text-gray-900",children:e.property_address||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"City"}),s.jsx("p",{className:"text-sm text-gray-900",children:e.property_city||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"State / Pincode"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[e.property_state||"-"," ",e.property_pincode||""]})]})]})]})]}),i&&s.jsx("div",{className:"flex justify-end",children:s.jsxs(M,{onClick:()=>n(e.id),disabled:a,className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ar,{size:14}),s.jsx("span",{children:a?"Updating...":"Mark as Paid"})]})})]})})})},Vo={},t1=(Vo==null?void 0:Vo.VITE_API_BASE_URL)||"https://prox.mycartly.in/api",r1=()=>{const{addToast:e}=Et(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(""),[l,c]=x.useState(1),[d,u]=x.useState(null),[m,h]=x.useState(!1),[y,v]=x.useState(null),[j,b]=x.useState({action:"complete",notes:"",reference_number:""}),[p,g]=x.useState(!1),[f,w]=x.useState(1),k=10,[A,C]=x.useState(""),S=t1;x.useEffect(()=>{E()},[l,i]);const E=async()=>{var H;const I=localStorage.getItem("blinkcare_token");if(!I){a(!1),C("Please log in again to view withdrawals."),e("Authentication required","error");return}try{a(!0),C("");const _=await(await fetch(`${S}/admin/withdrawals?page=${l}&limit=${k}&search=${i}`,{headers:{Authorization:`Bearer ${I}`}})).json();_.success?(r(_.withdrawals||[]),w(((H=_.pagination)==null?void 0:H.total_pages)||1)):(console.error("Failed to fetch withdrawals:",_.message),C(_.message||"Failed to fetch withdrawals"),e(_.message||"Failed to fetch withdrawals","error"))}catch(U){console.error("Error fetching withdrawals:",U),C("Network error while fetching withdrawals"),e("Error fetching withdrawals","error")}finally{a(!1)}},D=(I,H)=>{v(I),b({action:H,notes:"",reference_number:""}),h(!0)},Q=async I=>{if(I.preventDefault(),!!y){g(!0);try{const U=await(await fetch(`${S}/admin/withdrawals/${y.id}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("blinkcare_token")}`,"Content-Type":"application/json"},body:JSON.stringify(j)})).json();U.success?(e(`Withdrawal ${j.action}ed successfully`,"success"),h(!1),E()):e(U.message||`Failed to ${j.action} withdrawal`,"error")}catch(H){console.error("Error processing withdrawal:",H),e("Error processing withdrawal","error")}finally{g(!1)}}},ne=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(I),R=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Z=I=>{switch(I){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};return s.jsxs("div",{children:[n?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading withdrawals..."})]}):s.jsxs(Te,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(Kt,{children:"Withdrawal Requests"}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Dr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search withdrawals...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:i,onChange:I=>{o(I.target.value),c(1)}})]})]}),s.jsxs(Ae,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left pb-4",children:"Provider"}),s.jsx("th",{className:"text-left pb-4",children:"Amount"}),s.jsx("th",{className:"text-left pb-4",children:"Bank Details"}),s.jsx("th",{className:"text-left pb-4",children:"Status"}),s.jsx("th",{className:"text-left pb-4",children:"Date"}),s.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),s.jsx("tbody",{children:t.map(I=>s.jsx(jt.Fragment,{children:s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:I.provider_name}),s.jsx("div",{className:"text-sm text-gray-500",children:I.provider_business_name})]}),s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:ne(I.amount)}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Balance: ",ne(I.wallet_balance)]})]}),s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"text-sm text-gray-900",children:I.bank_name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[I.bank_account_number,"  ",I.bank_ifsc]})]}),s.jsx("td",{className:"py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z(I.status)}`,children:I.status.charAt(0).toUpperCase()+I.status.slice(1)})}),s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"text-sm text-gray-600",children:R(I.created_at)}),I.processed_at&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Processed: ",R(I.processed_at)]})]}),s.jsx("td",{className:"py-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:I.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(M,{onClick:()=>D(I,"complete"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Er,{size:14}),s.jsx("span",{children:"Mark paid"})]}),s.jsxs(M,{onClick:()=>D(I,"reject"),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white",children:[s.jsx(rn,{size:14}),s.jsx("span",{children:"Reject"})]})]})})})]})},I.id))})]})}),f>1&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",l," of ",f]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>c(I=>Math.max(I-1,1)),disabled:l===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(os,{size:16})}),s.jsx(M,{onClick:()=>c(I=>Math.min(I+1,f)),disabled:l===f,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(ls,{size:16})})]})]})]})]}),m&&y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[j.action==="complete"?"Mark as Paid":"Reject"," Withdrawal"]}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{size:20})})]}),s.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ne(y.amount)})]}),j.action==="complete"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number *"}),s.jsx("input",{type:"text",required:!0,value:j.reference_number,onChange:I=>b({...j,reference_number:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter reference number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),s.jsx("textarea",{required:!0,value:j.notes,onChange:I=>b({...j,notes:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${j.action==="complete"?"completion":"rejection"}...`})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(M,{type:"button",onClick:()=>h(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:p,className:`${j.action==="complete"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white`,children:p?"Processing...":j.action==="complete"?"Mark paid":"Reject"})]})]})]})})]})},Wo={},s1=(Wo==null?void 0:Wo.VITE_API_BASE_URL)||"https://prox.mycartly.in/api",n1=()=>{const{addToast:e}=Et(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(""),[l,c]=x.useState(1),[d,u]=x.useState({page:1,limit:20,total:0,total_pages:1}),[m,h]=x.useState(null),[y,v]=x.useState(null),[j,b]=x.useState(!1),[p,g]=x.useState("transactions"),[f,w]=x.useState(!1),[k,A]=x.useState(!1),C=20,S=s1,E=x.useCallback(async()=>{var z,F;const N=localStorage.getItem("blinkcare_token");if(!N){e("Please login to view transactions","error"),a(!1);return}try{a(!0);const V=new URLSearchParams;V.append("page",l.toString()),V.append("limit",C.toString()),i&&V.append("search",i);let Y;try{Y=await fetch(`${S}/admin/transactions?${V.toString()}`,{headers:{Authorization:`Bearer ${N}`}})}catch(fe){console.error("Network error fetching transactions:",fe),e("Network error: Unable to connect to server. Please check your connection.","error"),r([]),a(!1);return}if(!Y.ok){let fe=null,me=`Failed to fetch transactions (${Y.status})`;try{const Ue=await Y.clone().text();if(Ue&&Ue.trim())try{fe=JSON.parse(Ue),me=fe.message||((z=fe.error)==null?void 0:z.message)||fe.error||me}catch{me=Ue.length>200?Ue.substring(0,200)+"...":Ue}}catch(ae){console.warn("Could not parse error response:",ae)}Y.status===500?(me="Server error: Transaction service is temporarily unavailable. Please try again later.",e(me,"error")):Y.status===404?(me="Transactions endpoint not found. Please contact support.",e(me,"error")):Y.status===401?(me="Unauthorized: Please log in again.",e(me,"error")):(Y.status===403&&(me="Access denied: You do not have permission to view transactions."),e(me,"error")),console.error("Transaction fetch error:",{status:Y.status,statusText:Y.statusText,error:me,errorData:fe,url:`${S}/admin/transactions?${V.toString()}`,timestamp:new Date().toISOString()}),r([]),u({page:1,limit:C,total:0,total_pages:1});return}const ee=await Y.json();if(ee.success!==!1)r(ee.transactions||ee.data||[]),ee.pagination?u(ee.pagination):u({page:l,limit:C,total:(ee.transactions||ee.data||[]).length,total_pages:1});else{const fe=ee.message||((F=ee.error)==null?void 0:F.message)||"Failed to fetch transactions";console.error("Transaction fetch error:",fe,ee),e(fe,"error"),r([]),u({page:1,limit:C,total:0,total_pages:1})}}catch(V){console.error("Error fetching transactions:",V);const Y=V instanceof Error?V.message:"Error fetching transactions";e(Y,"error")}finally{a(!1)}},[l,i,C,S,e]);x.useEffect(()=>{i!==void 0&&l!==1&&c(1)},[i]),x.useEffect(()=>{const N=setTimeout(()=>{E()},i?500:0);return()=>clearTimeout(N)},[l,i,E]);const D=async N=>{const z=localStorage.getItem("blinkcare_token");if(!z){e("Please login to view transaction details","error");return}try{b(!0);const F=t.find(V=>V.id===N);try{const V=await fetch(`${S}/admin/transactions/${N}`,{headers:{Authorization:`Bearer ${z}`}});if(V.ok){const Y=await V.json();if(Y.success){v(Y.transaction||Y),b(!1);return}}else if(V.status===404){if(console.warn("Transaction details endpoint not found (404), using data from list"),F){v(F),b(!1);return}}else try{const Y=await V.json();console.warn("Transaction details API error:",Y)}catch{}}catch(V){console.warn("API fetch failed, using data from list:",V)}if(F)v(F);else{const V="Transaction details not available. Please refresh the transactions list.";console.warn(V),e(V,"warning")}}catch(F){console.error("Error fetching transaction details:",F);const V=F instanceof Error?F.message:"Error fetching transaction details";e(V,"error")}finally{b(!1)}},Q=async N=>{m===N?(h(null),v(null)):(h(N),await D(N))},ne=async N=>{const z=localStorage.getItem("blinkcare_token");if(!z){e("Please login to perform this action","error");return}w(!0);try{const V=await(await fetch(`${S}/admin/transactions/${N}/mark-paid`,{method:"POST",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"}})).json();V.success?(e("Transaction marked as paid","success"),await E(),m===N&&await D(N)):e(V.message||"Unable to mark as paid","error")}catch(F){console.error("Error marking transaction as paid:",F),e("Error marking transaction as paid","error")}finally{w(!1)}},R=t.filter(N=>N.payment_status==="paid").reduce((N,z)=>N+(Number(z.amount)||0),0),Z=t.filter(N=>N.payment_status!=="paid").reduce((N,z)=>N+(Number(z.amount)||0),0),I=t.filter(N=>N.payment_status==="paid").length,H=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(N||0),U=N=>N?new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",_=async()=>{var z;const N=localStorage.getItem("blinkcare_token");if(!N){e("Please login to perform this action","error");return}A(!0);try{const V=await(await fetch(`${S}/admin/payment/sync-all-old-bookings`,{method:"POST",headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}})).json();V.success?(e(`Payment sync completed! Updated: ${V.updated_count}, Failed: ${V.failed_count}, Total checked: ${V.total_checked}`,"success"),await E()):e(V.message||((z=V.error)==null?void 0:z.message)||"Failed to sync old bookings","error")}catch(F){console.error("Error syncing old bookings:",F),e("Error syncing old bookings payment status","error")}finally{A(!1)}};return s.jsxs(gt,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Transactions & Withdrawals"}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Jt,{className:"h-5 w-5 text-gray-500"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"About"})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"mt-1",children:s.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400"})}),s.jsx("p",{className:"text-gray-600",children:"Monitor all payment transactions and withdrawal requests across the platform."})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8 bg-white",children:[s.jsx("button",{onClick:()=>g("transactions"),className:`${p==="transactions"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 mx-2 border-b-2 font-medium text-sm`,children:"Transactions"}),s.jsx("button",{onClick:()=>g("withdrawals"),className:`${p==="withdrawals"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 mx-2 border-b-2 font-medium text-sm`,children:"Withdrawals"})]})})}),p==="transactions"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Te,{children:s.jsx(Ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),s.jsx("h3",{className:"text-2xl font-bold",children:H(R)})]}),s.jsx("div",{className:"bg-success/20 p-3 rounded-full",children:s.jsx(rr,{size:24,className:"text-success"})})]})})}),s.jsx(Te,{children:s.jsx(Ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pending Amount"}),s.jsx("h3",{className:"text-2xl font-bold",children:H(Z)})]}),s.jsx("div",{className:"bg-warning/20 p-3 rounded-full",children:s.jsx(rr,{size:24,className:"text-warning"})})]})})}),s.jsx(Te,{children:s.jsx(Ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Completed Transactions"}),s.jsx("h3",{className:"text-2xl font-bold",children:I})]}),s.jsx("div",{className:"bg-primary/20 p-3 rounded-full",children:s.jsx(rr,{size:24,className:"text-primary-dark"})})]})})})]}),s.jsxs(Te,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(Kt,{children:"All Transactions"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(M,{onClick:_,disabled:k,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white",title:"Sync payment status for old bookings that have payments but status is not updated",children:[s.jsx(rr,{size:16,className:k?"animate-spin":""}),k?"Syncing...":"Sync Old Bookings"]}),s.jsx(Zj,{searchTerm:i,onSearchChange:o})]})]}),s.jsx(Ae,{children:n?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left pb-4",children:"Transaction ID"}),s.jsx("th",{className:"text-left pb-4",children:"Service"}),s.jsx("th",{className:"text-left pb-4",children:"Amounts"}),s.jsx("th",{className:"text-left pb-4",children:"Payment Status"}),s.jsx("th",{className:"text-left pb-4",children:"Admin Paid"}),s.jsx("th",{className:"text-left pb-4",children:"Date"}),s.jsx("th",{className:"text-left pb-4",children:"Action"})]})}),s.jsxs("tbody",{children:[t.map(N=>s.jsxs(jt.Fragment,{children:[s.jsx(Xj,{transaction:N,expandedTransaction:m,onToggleDetails:Q,formatDate:U,formatCurrency:H,onMarkPaid:ne,isMarkingPaid:f}),m===N.id&&y&&s.jsx(e1,{transaction:y,formatDate:U,formatCurrency:H,onMarkPaid:ne,isMarkingPaid:f})]},N.id)),!t.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-6 text-center text-gray-500",children:"No transactions found."})})]})]})}),d.total_pages>1&&s.jsx(Yj,{currentPage:d.page,totalPages:d.total_pages,startIndex:(d.page-1)*d.limit,itemsPerPage:d.limit,totalItems:d.total,onPageChange:c})]})})]})]}):p==="withdrawals"?s.jsx(r1,{}):null]})},oh=({searchTerm:e,onSearchChange:t})=>s.jsxs("div",{className:"relative w-64",children:[s.jsx(Dr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search categories...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),lh=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:n,totalItems:a,onPageChange:i})=>s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+n,a)," of ",a," categories"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(os,{size:16})}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),s.jsx(M,{onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(ls,{size:16})})]})]}),a1=({isOpen:e,onClose:t,onSave:r,category:n,isSubmitting:a=!1,initialImageUrl:i})=>{const[o,l]=x.useState({name:"",description:"",icon:"",image:"",status:"active",sort_order:0}),[c,d]=x.useState(null);x.useEffect(()=>{n?(l({name:n.name,description:"",icon:"",image:typeof i=="string"?i:"",status:"active",sort_order:0}),d(typeof i=="string"&&i?i:null)):(l({name:"",description:"",icon:"",image:"",status:"active",sort_order:0}),d(null))},[n,e,i]);const u=m=>{m.preventDefault(),r(o)};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:n?"Edit Category":"Add New Category"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{size:20})})]}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),s.jsx("input",{type:"text",required:!0,value:o.name,onChange:m=>l({...o,name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image (upload a file or paste a URL)"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsx("div",{children:s.jsxs("label",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsx(rv,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Choose file"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:m=>{const h=m.target.files&&m.target.files[0];if(h){const y=URL.createObjectURL(h);d(y),l({...o,image:h})}}})]})}),s.jsx("div",{children:s.jsx("input",{type:"url",value:typeof o.image=="string"?o.image:"",onChange:m=>{l({...o,image:m.target.value}),d(m.target.value||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"/public/images/cat.jpg or https://..."})})]}),c&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:c,alt:"Preview",className:"max-h-24 max-w-full rounded border"})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(M,{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:a,className:"bg-primary hover:bg-primary/90 text-white",children:a?"Saving...":n?"Update":"Create"})]})]})]})}):null},i1=({isOpen:e,onClose:t,onConfirm:r,category:n,isSubmitting:a=!1})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Delete Category"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{size:20})})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',n==null?void 0:n.name,'"? This action cannot be undone.']}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(M,{onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),s.jsx(M,{onClick:r,disabled:a,className:"bg-red-600 hover:bg-red-700 text-white",children:a?"Deleting...":"Delete"})]})]})]})}):null,Ds={},gs=(Ds==null?void 0:Ds.VITE_API_BASE_URL)||"https://prox.mycartly.in/api",o1=(Ds==null?void 0:Ds.VITE_BACKEND_BASE_URL)||"https://prox.mycartly.in",l1=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${o1}${r}`},c1=()=>{const{addToast:e}=Et(),[t,r]=x.useState([]),[n,a]=x.useState(!1),[i,o]=x.useState(""),[l,c]=x.useState(1),[d,u]=x.useState(!1),[m,h]=x.useState("add"),[y,v]=x.useState(null),[j,b]=x.useState(!1),p=10,g=async()=>{var R;a(!0);try{const Z=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token"),I=await fetch(`${gs}/admin/categories`,{method:"GET",headers:{"Content-Type":"application/json",...Z?{Authorization:`Bearer ${Z}`}:{}}}),H=I.headers.get("content-type");if(!H||!H.includes("application/json")){const _=await I.text();throw console.error("Non-JSON response:",_),new Error(`Server returned non-JSON response (${I.status}): ${I.statusText}`)}const U=await I.json();if(I.ok&&U.categories&&Array.isArray(U.categories)){const N=U.categories.map(z=>({id:z.id,name:z.name,image_url:typeof z.image_url=="string"?z.image_url:"",created_at:z.created_at||new Date().toISOString(),updated_at:z.updated_at||new Date().toISOString()}));r(N)}else{const _=((R=U==null?void 0:U.error)==null?void 0:R.message)||(U==null?void 0:U.message)||`Failed to fetch categories (${I.status})`;throw new Error(_)}}catch(Z){console.error("Error fetching categories:",Z);const I=Z instanceof Error?Z.message:"Failed to fetch categories";e(I,"error"),r([])}finally{a(!1)}};x.useEffect(()=>{g()},[]);const f=()=>{h("add"),v(null),u(!0)},w=R=>{h("edit"),v(R),u(!0)},k=R=>{h("delete"),v(R),u(!0)},A=async R=>{b(!0);try{const Z=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token");if(!Z){e("Please login to save category","error"),b(!1);return}const I=H=>{if(!H)return"Request failed";if(typeof H=="string")return H;if(H.message&&typeof H.message=="string")return H.message;if(H.error&&typeof H.error=="string")return H.error;if(H.errors&&typeof H.errors=="object"){const U=Object.keys(H.errors)[0],_=Array.isArray(H.errors[U])?H.errors[U][0]:H.errors[U];return typeof _=="string"?_:"Validation failed"}try{return JSON.stringify(H)}catch{return"Unknown error"}};if(m==="add"){let H;if(R.image instanceof File){const N=new FormData;N.append("name",R.name),N.append("image",R.image),H=await fetch(`${gs}/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${Z}`},body:N})}else{const N={name:R.name};typeof R.image=="string"&&R.image.trim()!==""&&(N.image=R.image),H=await fetch(`${gs}/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(N)})}const U=await H.text(),_=(()=>{try{return U?JSON.parse(U):{}}catch{return{raw:U}}})();if(H.ok&&_.category)await g(),e("Category created successfully","success"),u(!1);else throw new Error(I(_)||"Failed to create category")}else if(m==="edit"&&y){let H;if(R.image instanceof File){const N=new FormData;N.append("name",R.name),N.append("image",R.image),H=await fetch(`${gs}/admin/categories/${y.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Z}`},body:N})}else{const N={name:R.name};typeof R.image=="string"&&R.image.trim()!==""&&(N.image=R.image),H=await fetch(`${gs}/admin/categories/${y.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(N)})}const U=await H.text(),_=(()=>{try{return U?JSON.parse(U):{}}catch{return{raw:U}}})();if(H.ok&&_.category)await g(),e("Category updated successfully","success"),u(!1);else throw new Error(I(_)||"Failed to update category")}}catch(Z){console.error("Error saving category:",Z);const I=Z instanceof Error?Z.message:typeof Z=="string"?Z:"Failed to save category";e(I,"error")}finally{b(!1)}},C=async()=>{if(y){b(!0);try{const R=localStorage.getItem("blinkcare_token");if(!R){e("Please login to delete category","error"),b(!1);return}const Z=await fetch(`${gs}/admin/categories/${y.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}}),I=await Z.json();if(Z.ok)await g(),e("Category deleted successfully","success"),u(!1);else throw new Error(I.message||I.error||"Failed to delete category")}catch(R){console.error("Error deleting category:",R);const Z=R instanceof Error?R.message:"Failed to delete category";e(Z,"error")}finally{b(!1)}}},S=t.filter(R=>R.name.toLowerCase().includes(i.toLowerCase())),E=Math.ceil(S.length/p),D=(l-1)*p,Q=S.slice(D,D+p),ne=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s.jsxs(gt,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Categories"}),s.jsx("p",{className:"text-gray-600",children:"Manage categories, images and details."})]}),n?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading categories..."})]}):s.jsxs(Te,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(Kt,{children:"All Categories"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(oh,{searchTerm:i,onSearchChange:o}),s.jsxs(M,{onClick:f,className:"flex items-center space-x-2",children:[s.jsx(oa,{size:16}),s.jsx("span",{children:"Add Category"})]})]})]}),s.jsxs(Ae,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left pb-4",children:"Image"}),s.jsx("th",{className:"text-left pb-4",children:"Name"}),s.jsx("th",{className:"text-left pb-4",children:"Published"}),s.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),s.jsx("tbody",{children:Q.map(R=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("td",{className:"py-4",children:R.image_url?s.jsx("img",{src:l1(R.image_url),alt:R.name,className:"h-10 w-10 rounded object-cover border",onError:Z=>{const I=Z.currentTarget;I.src!==R.image_url&&(I.src=R.image_url)}}):s.jsx("div",{className:"h-10 w-10 rounded bg-gray-100 border"})}),s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"text-gray-900 font-medium",children:R.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",R.id]})]}),s.jsx("td",{className:"py-4",children:s.jsx("div",{className:"text-sm text-gray-600",children:ne(R.created_at)})}),s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>w(R),children:"Edit"}),s.jsx(M,{onClick:()=>k(R),className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})})]},R.id))})]})}),E>1&&s.jsx(lh,{currentPage:l,totalPages:E,startIndex:D,itemsPerPage:p,totalItems:S.length,onPageChange:c})]})]}),(m==="add"||m==="edit")&&s.jsx(a1,{isOpen:d,onClose:()=>u(!1),onSave:A,category:y?{id:y.id,name:y.name,description:"",icon:"",status:"active",total_services:0,created_at:y.created_at,updated_at:y.updated_at}:void 0,initialImageUrl:y==null?void 0:y.image_url,isSubmitting:j}),m==="delete"&&s.jsx(i1,{isOpen:d,onClose:()=>u(!1),onConfirm:C,category:y,isSubmitting:j})]})},vn="https://prox.mycartly.in/api",d1="https://prox.mycartly.in/api",u1=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";const r=a=>/aafa\.mycartly\.in$/i.test(a.hostname);let n=t.replace(/\\/g,"/");if(/^https?:\/\//i.test(n))try{const a=new URL(n);if(r(a))return n;n=`${a.pathname}${a.search}${a.hash}`}catch{n=n.replace(/^https?:\/\/[^/]+/i,"")}return n=n.replace(/^\/+/,"/"),n.startsWith("/api/")&&(n=n.slice(4)),n.startsWith("public/")?n=n.slice(7):n.startsWith("/public/")&&(n=n.slice(8)),n.startsWith("/")||(n=`/${n}`),`${d1}${n}`},m1=()=>{const{addToast:e}=Et(),[t,r]=x.useState([]),[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(""),[m,h]=x.useState(""),[y,v]=x.useState(1),[j,b]=x.useState(!1),[p,g]=x.useState("add"),[f,w]=x.useState({category_id:"",title:"",price_original:"",price_discounted:"",no_of_sessions:"",no_of_months:"",features:"",description:""}),k=10,A=N=>{if(!N)return"Request failed";if(typeof N=="string")return N;if(N.message&&typeof N.message=="string")return N.message;if(N.error&&typeof N.error=="string")return N.error;if(N.errors&&typeof N.errors=="object"){const z=Object.keys(N.errors)[0],F=Array.isArray(N.errors[z])?N.errors[z][0]:N.errors[z];return typeof F=="string"?F:"Validation failed"}try{return JSON.stringify(N)}catch{return"Unknown error"}},C=async()=>{o(!0);try{const N=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token"),z=new URLSearchParams;m&&Number(m)>0&&z.set("category_id",String(m));const F=`${vn}/admin/services${z.toString()?`?${z.toString()}`:""}`,V=await fetch(F,{method:"GET",headers:{"Content-Type":"application/json",...N?{Authorization:`Bearer ${N}`}:{}}}),Y=await V.json();if(V.ok&&Y.services&&Array.isArray(Y.services))a(Y.services.map(ee=>({id:ee.id,category_id:ee.category_id,title:ee.title,price_original:ee.price_original,price_discounted:ee.price_discounted,no_of_sessions:ee.no_of_sessions,no_of_months:ee.no_of_months,features:ee.features,description:ee.description,image_url:typeof ee.image_url=="string"?ee.image_url:"",created_at:ee.created_at,updated_at:ee.updated_at})));else throw new Error(Y.message||"Failed to fetch services")}catch(N){console.error("Error fetching services:",N);const z=N instanceof Error?N.message:"Failed to fetch services";e(z,"error"),a([])}finally{o(!1)}},S=async()=>{try{const N=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token"),z=await fetch(`${vn}/admin/categories`,{method:"GET",headers:{"Content-Type":"application/json",...N?{Authorization:`Bearer ${N}`}:{}}}),F=await z.json();if(z.ok&&F.categories&&Array.isArray(F.categories)){const V=F.categories.map(Y=>({id:Y.id,name:Y.name}));r(V)}else throw new Error(F.message||"Failed to fetch categories")}catch(N){const z=N instanceof Error?N.message:"Failed to fetch categories";e(z,"error"),r([])}};x.useEffect(()=>{C()},[m]),x.useEffect(()=>{S()},[]);const E=()=>{g("add"),w({category_id:m?Number(m):"",title:"",price_original:"",price_discounted:"",no_of_sessions:"",no_of_months:"",features:"",description:""}),b(!0)},D=N=>{g("edit"),w({id:N.id,category_id:N.category_id,title:N.title,price_original:N.price_original||"",price_discounted:N.price_discounted||"",no_of_sessions:typeof N.no_of_sessions=="number"?N.no_of_sessions:"",no_of_months:typeof N.no_of_months=="number"?N.no_of_months:"",features:N.features||"",description:N.description||""}),b(!0)},Q=async N=>{if(window.confirm(`Delete service "${N.title}"?`))try{c(!0);const F=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token");if(!F){e("Please login to delete service","error");return}const V=await fetch(`${vn}/admin/services/${N.id}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`}}),Y=await V.json().catch(()=>({}));if(V.ok)await C(),e("Service deleted successfully","success");else throw new Error(Y.message||Y.error||"Failed to delete service")}catch(F){const V=F instanceof Error?F.message:"Failed to delete service";e(V,"error")}finally{c(!1)}},ne=N=>N.category_id===""||Number(N.category_id)<=0?"Category ID is required":!N.title||N.title.trim()===""?"Title is required":!N.price_original||N.price_original.trim()===""?"Original price is required":"",R=async()=>{const N=localStorage.getItem("admin_token")||localStorage.getItem("blinkcare_token");if(!N){e("Please login to save service","error");return}const z=ne(f);if(z){e(z,"error");return}c(!0);try{const F=p==="edit"&&f.id,V=F?`${vn}/admin/services/${f.id}`:`${vn}/admin/services`,Y=F?"PUT":"POST";let ee;if(f.image instanceof File){const ae=new FormData;ae.append("category_id",String(f.category_id)),ae.append("title",String(f.title).trim()),ae.append("price_original",String(f.price_original).trim()),f.price_discounted&&String(f.price_discounted).trim()!==""&&ae.append("price_discounted",String(f.price_discounted).trim()),f.no_of_sessions!==""&&f.no_of_sessions!==void 0&&ae.append("no_of_sessions",String(Number(f.no_of_sessions))),f.no_of_months!==""&&f.no_of_months!==void 0&&ae.append("no_of_months",String(Number(f.no_of_months))),f.features&&f.features.trim()!==""&&ae.append("features",f.features.trim()),f.description&&f.description.trim()!==""&&ae.append("description",f.description.trim()),ae.append("image",f.image),ee=await fetch(V,{method:Y,headers:{Authorization:`Bearer ${N}`},body:ae})}else{const ae={category_id:Number(f.category_id),title:String(f.title).trim(),price_original:String(f.price_original).trim()};f.price_discounted&&String(f.price_discounted).trim()!==""&&(ae.price_discounted=String(f.price_discounted).trim()),f.no_of_sessions!==""&&f.no_of_sessions!==void 0&&(ae.no_of_sessions=Number(f.no_of_sessions)),f.no_of_months!==""&&f.no_of_months!==void 0&&(ae.no_of_months=Number(f.no_of_months)),f.features&&f.features.trim()!==""&&(ae.features=f.features.trim()),f.description&&f.description.trim()!==""&&(ae.description=f.description.trim()),typeof f.image=="string"&&f.image.trim()!==""&&(ae.image=f.image.trim()),ee=await fetch(V,{method:Y,headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify(ae)})}const fe=await ee.text(),me=(()=>{try{return fe?JSON.parse(fe):{}}catch{return{raw:fe}}})();if(ee.ok&&(me.service||me.message))await C(),e(F?"Service updated successfully":"Service created successfully","success"),b(!1);else throw new Error(A(me)||"Failed to save service")}catch(F){const V=F instanceof Error?F.message:"Failed to save service";e(V,"error")}finally{c(!1)}},Z=x.useMemo(()=>{const N=d.toLowerCase();return n.filter(z=>z.title.toLowerCase().includes(N))},[n,d]),I=Math.ceil(Z.length/k),H=(y-1)*k,U=Z.slice(H,H+k),_=N=>N?new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return s.jsxs(gt,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Admin Services"}),s.jsx("p",{className:"text-gray-600",children:"Manage services: create, edit, delete, and filter by category."})]}),i?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading services..."})]}):s.jsxs(Te,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(Kt,{children:"All Services"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("select",{className:"border rounded px-3 py-2 w-56",value:m,onChange:N=>{v(1),h(N.target.value)},children:[s.jsx("option",{value:"",children:"All categories"}),t.map(N=>s.jsxs("option",{value:String(N.id),children:[N.name," (#",N.id,")"]},N.id))]})}),s.jsx(oh,{searchTerm:d,onSearchChange:N=>{v(1),u(N)}}),s.jsxs(M,{onClick:E,className:"flex items-center space-x-2",children:[s.jsx(oa,{size:16}),s.jsx("span",{children:"Add Service"})]})]})]}),s.jsxs(Ae,{children:[j&&s.jsxs("div",{className:"mb-6 border rounded p-4 bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Category"}),s.jsxs("select",{className:"w-full border rounded px-3 py-2",value:f.category_id===""?"":String(f.category_id),onChange:N=>w(z=>({...z,category_id:N.target.value===""?"":Number(N.target.value)})),children:[s.jsx("option",{value:"",children:"Select category"}),t.map(N=>s.jsxs("option",{value:String(N.id),children:[N.name," (#",N.id,")"]},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",value:f.title,onChange:N=>w(z=>({...z,title:N.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Original Price"}),s.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",value:f.price_original,onChange:N=>w(z=>({...z,price_original:N.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Discounted Price"}),s.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",value:f.price_discounted,onChange:N=>w(z=>({...z,price_discounted:N.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"No. of Sessions"}),s.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",value:f.no_of_sessions,onChange:N=>w(z=>({...z,no_of_sessions:N.target.value===""?"":Number(N.target.value)}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"No. of Months"}),s.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",value:f.no_of_months,onChange:N=>w(z=>({...z,no_of_months:N.target.value===""?"":Number(N.target.value)}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Image File"}),s.jsx("input",{type:"file",accept:"image/*",className:"w-full border rounded px-3 py-2",onChange:N=>{const z=N.target.files&&N.target.files[0];w(F=>({...F,image:z||void 0}))}}),p==="edit"&&!f.image&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Current image kept unless you upload a new file or provide an image URL."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Image URL"}),s.jsx("input",{type:"text",placeholder:"https://... or public/services/filename.jpg",className:"w-full border rounded px-3 py-2",value:typeof f.image=="string"?f.image:"",onChange:N=>w(z=>({...z,image:N.target.value}))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Features"}),s.jsx("textarea",{className:"w-full border rounded px-3 py-2",rows:2,value:f.features,onChange:N=>w(z=>({...z,features:N.target.value}))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full border rounded px-3 py-2",rows:3,value:f.description,onChange:N=>w(z=>({...z,description:N.target.value}))})]})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[s.jsx(M,{onClick:R,disabled:l,children:p==="add"?"Create Service":"Save Changes"}),s.jsx(M,{onClick:()=>b(!1),className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Cancel"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left pb-4",children:"Image"}),s.jsx("th",{className:"text-left pb-4",children:"ID"}),s.jsx("th",{className:"text-left pb-4",children:"Title"}),s.jsx("th",{className:"text-left pb-4",children:"Category"}),s.jsx("th",{className:"text-left pb-4",children:"Original"}),s.jsx("th",{className:"text-left pb-4",children:"Discounted"}),s.jsx("th",{className:"text-left pb-4",children:"Updated"}),s.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),s.jsx("tbody",{children:U.map(N=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("td",{className:"py-3",children:N.image_url?s.jsx("img",{src:u1(N.image_url),alt:N.title,className:"h-10 w-10 rounded object-cover border",onError:z=>{const F=z.currentTarget;F.src!==(N.image_url||"")&&(F.src=N.image_url||"")}}):s.jsx("div",{className:"h-10 w-10 rounded bg-gray-100 border"})}),s.jsx("td",{className:"py-3",children:N.id}),s.jsxs("td",{className:"py-3",children:[s.jsx("div",{className:"text-gray-900 font-medium",children:N.title}),N.description?s.jsx("div",{className:"text-xs text-gray-500 line-clamp-2",children:N.description}):null]}),s.jsx("td",{className:"py-3",children:s.jsxs("div",{className:"text-sm text-gray-700",children:["#",N.category_id]})}),s.jsx("td",{className:"py-3",children:N.price_original}),s.jsx("td",{className:"py-3",children:N.price_discounted||"-"}),s.jsx("td",{className:"py-3",children:_(N.updated_at)}),s.jsx("td",{className:"py-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>D(N),children:"Edit"}),s.jsx(M,{onClick:()=>Q(N),className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})})]},N.id))})]})}),I>1&&s.jsx(lh,{currentPage:y,totalPages:I,startIndex:H,itemsPerPage:k,totalItems:Z.length,onPageChange:v})]})]})]})},qo={},Jo=(qo==null?void 0:qo.VITE_API_BASE_URL)||"https://prox.mycartly.in/api",f1=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}),p1=()=>{const{addToast:e}=Et(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(!1),[l,c]=x.useState(""),[d,u]=x.useState(null),[m,h]=x.useState({commission_type:"percentage",commission_value:""}),y=typeof window<"u"?localStorage.getItem("blinkcare_token"):"";x.useEffect(()=>{v()},[]);const v=async()=>{var f;try{a(!0);const w=await fetch(`${Jo}/admin/service-commissions`,{headers:{Authorization:`Bearer ${y}`}}),k=w.headers.get("content-type");if(!k||!k.includes("application/json")){const C=await w.text();throw console.error("Non-JSON response:",C),new Error(`Server returned non-JSON response (${w.status}): ${w.statusText}`)}const A=await w.json();if(A.success){const C=A.services||[];r(C),!d&&C.length&&u(C[0].subcategory_id)}else{const C=((f=A==null?void 0:A.error)==null?void 0:f.message)||(A==null?void 0:A.message)||`Failed to load commissions (${w.status})`;throw new Error(C)}}catch(w){console.error("Failed to fetch commissions:",w);const k=w instanceof Error?w.message:"Unable to load commission data";e(k,"error")}finally{a(!1)}},j=x.useMemo(()=>{const f=l.trim().toLowerCase();return f?t.filter(w=>w.subcategory_name.toLowerCase().includes(f)||w.category_name.toLowerCase().includes(f)):t},[t,l]),b=x.useMemo(()=>t.find(f=>f.subcategory_id===d)||null,[t,d]);x.useEffect(()=>{var f;b&&h({commission_type:b.commission_type||"percentage",commission_value:((f=b.commission_value)==null?void 0:f.toString())||""})},[b]);const p=async f=>{if(f.preventDefault(),!b){e("Select a service first","error");return}if(!m.commission_value||Number(m.commission_value)<0){e("Enter a valid commission value","error");return}try{o(!0);const k=await(await fetch(`${Jo}/admin/service-commissions`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({subcategory_id:b.subcategory_id,commission_type:m.commission_type,commission_value:Number(m.commission_value)})})).json();if(!k.success)throw new Error(k.message||"Failed to save commission");e("Commission saved","success"),v()}catch(w){console.error("Commission save failed:",w),e("Unable to save commission","error")}finally{o(!1)}},g=async()=>{if(!(b!=null&&b.commission_id)){h(f=>({...f,commission_value:""}));return}if(window.confirm(`Remove commission for ${b.subcategory_name}?`))try{await fetch(`${Jo}/admin/service-commissions/${b.commission_id}`,{method:"DELETE",headers:{Authorization:`Bearer ${y}`}}),e("Commission removed","success"),v()}catch(f){console.error("Failed to delete commission:",f),e("Unable to delete commission","error")}};return s.jsx(gt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Te,{children:[s.jsx(Gt,{children:s.jsx(Kt,{children:"Commission Settings"})}),s.jsx(Ae,{children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),s.jsx("select",{value:d??"",onChange:f=>u(Number(f.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/20",children:t.map(f=>s.jsxs("option",{value:f.subcategory_id,children:[f.subcategory_name," (",f.category_name,")"]},f.subcategory_id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission Type"}),s.jsxs("div",{className:"flex items-center space-x-4 bg-gray-50 rounded-md px-3 py-2 border border-gray-200",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[s.jsx("input",{type:"radio",name:"commission_type",value:"percentage",checked:m.commission_type==="percentage",onChange:f=>h(w=>({...w,commission_type:f.target.value}))}),s.jsx("span",{children:"Percentage"})]}),s.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[s.jsx("input",{type:"radio",name:"commission_type",value:"amount",checked:m.commission_type==="amount",onChange:f=>h(w=>({...w,commission_type:f.target.value}))}),s.jsx("span",{children:"Amount ()"})]})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m.commission_type==="percentage"?"Commission Percentage":"Commission Amount"}),s.jsx("input",{type:"number",min:"0",step:"0.01",required:!0,value:m.commission_value,onChange:f=>h(w=>({...w,commission_value:f.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{className:"flex items-end space-x-3",children:[s.jsx(M,{type:"submit",className:"bg-primary text-white hover:bg-primary/90",disabled:i||n,children:i?"Saving":"Save commission"}),s.jsxs(M,{type:"button",variant:"outline",onClick:g,disabled:i||n,className:"text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(dt,{className:"h-4 w-4 mr-1"}),"Clear"]})]})]})]})})]}),s.jsxs(Te,{children:[s.jsxs(Gt,{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsx(Kt,{children:"Existing Commissions"}),s.jsxs("div",{className:"relative w-full md:w-72",children:[s.jsx(Dr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search service or category",value:l,onChange:f=>c(f.target.value),className:"w-full pl-9 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm"})]})]}),s.jsx(Ae,{children:n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary mb-4"}),"Loading commission data..."]}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[j.map(f=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-4 py-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:f.subcategory_name}),s.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",f.subcategory_id]})]}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:f.category_name}),s.jsx("td",{className:"px-4 py-4",children:!f.commission_id||f.commission_value==null?s.jsx("span",{className:"text-sm text-gray-400",children:"Not configured"}):f.commission_type==="percentage"?s.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-900",children:[s.jsx(Ky,{className:"h-4 w-4 text-primary mr-1"}),f.commission_value,"%"]}):s.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-900",children:[s.jsx(Vy,{className:"h-4 w-4 text-primary mr-1"}),f1.format(f.commission_value)]})}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:f.updated_at?new Date(f.updated_at).toLocaleDateString():"-"})]},f.subcategory_id)),j.length===0&&s.jsx("tr",{children:s.jsxs("td",{colSpan:4,className:"px-4 py-10 text-center text-sm text-gray-500",children:["No services found for ",l,""]})})]})]})})})]})]})})},h1=({showColumnSettings:e,onToggleSettings:t,columnVisibility:r,onToggleColumn:n,onResetColumns:a})=>s.jsxs("div",{className:"relative",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:t,className:"hover:bg-gray-100",children:[s.jsx(Xi,{size:16,className:"mr-2"}),"Columns"]}),e&&s.jsx("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:"Column Visibility"}),s.jsx(M,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:s.jsx(dt,{size:14})})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([i,o])=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:()=>n(i),disabled:["id","subject","status","actions"].includes(i),className:`rounded border-gray-300 text-primary focus:ring-primary ${["id","subject","status","actions"].includes(i)?"opacity-50":""}`}),s.jsxs("span",{className:`text-sm capitalize ${["id","subject","status","actions"].includes(i)?"font-medium":""}`,children:[i,["id","subject","status","actions"].includes(i)&&" (Required)"]})]},i))}),s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:s.jsx(M,{variant:"outline",size:"sm",onClick:a,className:"w-full",children:"Reset to Default"})})]})})]}),Go={},Ko=(Go==null?void 0:Go.VITE_API_BASE_URL)||"https://prox.mycartly.in/api",g1=({isOpen:e,onClose:t,ticketId:r,userId:n,userName:a="User",onTicketIdChange:i})=>{const{addToast:o}=Et(),[l,c]=x.useState([]),[d,u]=x.useState(""),[m,h]=x.useState(!1),[y,v]=x.useState(!1),j=x.useRef(null),b=x.useRef(null),p=C=>{if(!C)return"";const S=new Date(C);return Number.isNaN(S.getTime())?"":S.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!1})},g=async C=>{if(C)try{const S=localStorage.getItem("blinkcare_token");if(!S){o("Authentication required","error");return}const E=await fetch(`${Ko}/admin/support/ticket/${C}/messages`,{method:"GET",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}});if(!E.ok)throw new Error("Failed to load messages");const D=await E.json();console.log("Messages response:",D),D.success&&D.messages?(console.log(`Loaded ${D.messages.length} messages`),c(D.messages)):(console.warn("No messages in response or unsuccessful:",D),c([]))}catch(S){console.error("Failed to load messages:",S),o("Failed to load messages","error")}finally{h(!1)}},f=C=>{b.current&&clearInterval(b.current),b.current=setInterval(()=>{g(C)},3e3)},w=()=>{b.current&&(clearInterval(b.current),b.current=null)};x.useEffect(()=>(e?r?(console.log("Loading messages for ticket:",r),h(!0),g(r),f(r)):(console.log("No ticket ID available, waiting..."),h(!1),c([]),i&&(async()=>{try{const S=localStorage.getItem("blinkcare_token");if(!S)return;let E=[],D=1;const Q=5;for(;D<=Q;){const ne=await fetch(`${Ko}/admin/support/tickets?page=${D}&limit=50`,{method:"GET",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}});if(!ne.ok){if(D===1){console.error("Popup: Failed to fetch tickets:",ne.status);return}break}const R=await ne.json();if(R.success&&R.tickets&&R.tickets.length>0){if(E=[...E,...R.tickets],R.tickets.length<50||R.pagination&&D>=R.pagination.total_pages)break;D++}else break}if(console.log(`Popup: Fetched ${E.length} total tickets`),E.length>0){let ne=[];if(n&&(ne=E.filter(R=>R.user_id===n),console.log(`Popup: Found ${ne.length} tickets for user_id: ${n}`)),ne.length===0&&a&&(ne=E.filter(R=>R.user_name&&(R.user_name.toLowerCase().trim()===a.toLowerCase().trim()||R.user_name.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(R.user_name.toLowerCase()))),console.log(`Popup: Found ${ne.length} tickets for user_name: ${a}`)),ne.length>0){const Z=ne.find(I=>I.status==="ongoing"||I.status==="open")||ne.sort((I,H)=>{const U=new Date(I.last_message_at||I.created_at||0).getTime();return new Date(H.last_message_at||H.created_at||0).getTime()-U})[0];Z&&i&&(console.log("Popup: Found ticket:",Z.id),i(Z.id))}else console.log("Popup: No tickets found for user")}}catch(S){console.error("Failed to find ticket in popup:",S)}})()):(w(),c([])),()=>{w()}),[e,r,n,i]),x.useEffect(()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},[l]);const k=async()=>{const C=d.trim();if(C){v(!0);try{const S=localStorage.getItem("blinkcare_token");if(!S){o("Authentication required","error");return}if(!r){o("No ticket found. Please ensure the user has an active support ticket.","error"),v(!1);return}const E=await fetch(`${Ko}/admin/support/ticket/${r}/reply`,{method:"POST",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},body:JSON.stringify({message:C})});if(!E.ok){const Q=await E.json().catch(()=>({}));throw new Error(Q.message||"Failed to send message")}const D=await E.json();console.log("Send message response:",D),D.success?(u(""),setTimeout(()=>{g(r)},500),o("Message sent successfully","success")):o(D.message||"Failed to send message","error")}catch(S){console.error("Failed to send message:",S);const E=S instanceof Error?S.message:"Failed to send message";o(E,"error")}finally{v(!1)}}},A=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),y||k())};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md h-[600px] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-green-600 text-white rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qr,{size:20}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold",children:["Chat with ",a]}),s.jsx("p",{className:"text-xs text-green-100",children:r?`Ticket #${r}`:"Finding ticket..."})]})]}),s.jsx("button",{onClick:t,className:"p-1 hover:bg-green-700 rounded transition-colors","aria-label":"Close chat",children:s.jsx(dt,{size:20})})]}),s.jsx("div",{ref:j,className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:m&&l.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-gray-500",children:"Loading messages..."})}):l.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-gray-500 text-center",children:[s.jsx(qr,{size:48,className:"mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No messages yet"}),s.jsx("p",{className:"text-sm",children:"Start the conversation"})]})}):l.map(C=>{const S=C.sender_role==="admin";return s.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[75%] rounded-lg px-4 py-2 ${S?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 border border-gray-200 rounded-bl-none"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:C.message}),s.jsx("p",{className:`text-xs mt-1 ${S?"text-green-100":"text-gray-500"}`,children:p(C.created_at)})]})},C.id)})}),s.jsx("div",{className:"p-4 border-t bg-white rounded-b-lg",children:s.jsxs("div",{className:"flex items-end space-x-2",children:[s.jsx("textarea",{value:d,onChange:C=>u(C.target.value),onKeyDown:A,placeholder:"Type a message...",rows:1,className:"flex-1 resize-none border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:y||!r}),s.jsxs(M,{onClick:k,disabled:!d.trim()||y||!r,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Yy,{size:18}),s.jsx("span",{children:"Send"})]})]})})]})}):null},Qo={},x1=({dispute:e,formatDate:t,getStatusColor:r,getPriorityColor:n,formatCurrency:a=o=>`${o.toFixed(2)}`,onResolve:i})=>{const[o,l]=x.useState(!1),[c,d]=x.useState(e.ticket_id||null),[u,m]=x.useState(!1),[h,y]=x.useState(e.user_id||null),v=(Qo==null?void 0:Qo.VITE_API_BASE_URL)||"https://prox.mycartly.in/api";x.useEffect(()=>{console.log("Dispute data for chat:",{id:e.id,user_id:e.user_id,user_name:e.user_name,ticket_id:e.ticket_id,booking_id:e.booking_id})},[e]),x.useEffect(()=>{(async()=>{if(e.user_id){y(e.user_id);return}if(!e.user_id&&e.booking_id)try{const f=localStorage.getItem("blinkcare_token");if(!f)return;const w=await fetch(`${v}/admin/appointments/${e.booking_id}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(w.ok){const k=await w.json();k.booking&&k.booking.user_id&&(console.log("Found user_id from booking:",k.booking.user_id),y(k.booking.user_id))}}catch(f){console.error("Failed to fetch user_id from booking:",f)}})()},[e.user_id,e.booking_id]);const j=async()=>{if(e.ticket_id){d(e.ticket_id);return}m(!0);try{const g=localStorage.getItem("blinkcare_token");if(!g){console.warn("No auth token found"),m(!1);return}let f=[],w=1;const k=10;for(;w<=k;){const A=await fetch(`${v}/admin/support/tickets?page=${w}&limit=50`,{method:"GET",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!A.ok){if(console.error(`Failed to fetch tickets page ${w}:`,A.status,A.statusText),w===1){m(!1);return}break}const C=await A.json();if(C.success&&C.tickets&&C.tickets.length>0){if(f=[...f,...C.tickets],C.tickets.length<50||C.pagination&&w>=C.pagination.total_pages)break;w++}else break}if(console.log(`Fetched ${f.length} total tickets across ${w} page(s)`),f.length>0){if(!response.ok){console.error("Failed to fetch tickets:",response.status,response.statusText),m(!1);return}let A=[];const C=h||e.user_id;if(C&&(A=f.filter(S=>S.user_id===C),console.log(`Found ${A.length} tickets for user_id: ${C}`)),A.length===0&&e.user_name&&(A=f.filter(S=>S.user_name&&S.user_name.toLowerCase().trim()===e.user_name.toLowerCase().trim()),console.log(`Found ${A.length} tickets for exact user_name match: ${e.user_name}`),A.length===0&&(A=f.filter(S=>S.user_name&&(S.user_name.toLowerCase().includes(e.user_name.toLowerCase())||e.user_name.toLowerCase().includes(S.user_name.toLowerCase()))),console.log(`Found ${A.length} tickets for partial user_name match: ${e.user_name}`))),A.length===0&&console.log("Sample ticket user names:",f.slice(0,5).map(S=>({id:S.id,user_id:S.user_id,user_name:S.user_name,status:S.status}))),A.length>0){const E=A.find(D=>D.status==="ongoing"||D.status==="open")||A.sort((D,Q)=>{const ne=new Date(D.last_message_at||D.created_at||0).getTime();return new Date(Q.last_message_at||Q.created_at||0).getTime()-ne})[0];E&&(console.log("Selected ticket:",E.id),d(E.id))}else console.warn("No tickets found for this user"),!e.user_id&&!h&&console.warn("Cannot create ticket: user_id is missing from dispute")}else console.warn("No tickets fetched from API")}catch(g){console.error("Failed to fetch ticket ID:",g)}finally{m(!1)}};x.useEffect(()=>{j()},[e.ticket_id,e.user_id,h]);const b=async()=>{!c&&!u&&await j(),l(!0)},p=e.status!=="resolved"&&e.status!=="closed";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(pt,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Dispute Overview"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-purple-600 text-xs",children:"#"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Dispute ID"})]}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Ze,{size:16,className:"text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Created Date"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(et,{size:16,className:"text-orange-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Updated"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:t(e.updated_at)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Yn,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Subject & Description"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(xs,{size:16,className:"text-blue-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Subject"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:e.subject})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(qr,{size:16,className:"text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description"})]}),s.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:e.description})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Rt,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Parties Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Rt,{size:16,className:"text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:e.user_name})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Iy,{size:16,className:"text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:e.provider_name})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(xs,{size:16,className:"text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Booking ID"})]}),s.jsxs("p",{className:"text-sm text-gray-800",children:["#",e.booking_id]})]})]})]}),(e.transaction_id||e.razorpay_payment_id||e.razorpay_order_id||e.payment_method)&&s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg p-4 border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Jt,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-indigo-900",children:"Transaction & Payment Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.transaction_id&&s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-indigo-600 text-xs",children:"#"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transaction ID"})]}),s.jsxs("p",{className:"text-sm text-gray-800",children:["#",e.transaction_id]})]}),e.razorpay_payment_id&&s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Jt,{size:16,className:"text-indigo-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Razorpay Payment ID"})]}),s.jsx("p",{className:"text-xs font-mono text-gray-800 bg-gray-50 px-2 py-1 rounded break-all",children:e.razorpay_payment_id})]}),e.razorpay_order_id&&s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(xs,{size:16,className:"text-indigo-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Razorpay Order ID"})]}),s.jsx("p",{className:"text-xs font-mono text-gray-800 bg-gray-50 px-2 py-1 rounded break-all",children:e.razorpay_order_id})]}),e.payment_method&&s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Vt,{size:16,className:"text-indigo-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method"})]}),s.jsx("p",{className:"text-sm text-gray-800 capitalize",children:e.payment_method.replace("_"," ")})]}),e.payment_amount&&s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Vt,{size:16,className:"text-indigo-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Amount"})]}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:a(e.payment_amount)})]}),e.paid_at&&s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(et,{size:16,className:"text-indigo-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Paid At"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:t(e.paid_at)})]}),e.amount_disputed&&s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(pt,{size:16,className:"text-red-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amount Disputed"})]}),s.jsx("p",{className:"text-sm font-semibold text-red-600",children:a(e.amount_disputed)})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Ar,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Status & Priority"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Ar,{size:16,className:"text-emerald-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r(e.status)}`,children:e.status.split("_").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" ")})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(pt,{size:16,className:"text-emerald-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Priority"})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n(e.priority)}`,children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(xs,{size:16,className:"text-emerald-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Type"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:e.dispute_type})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Rt,{size:16,className:"text-emerald-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Assigned To"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:e.assigned_admin||"Unassigned"})]})]})]}),e.resolution_type&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg p-4 border border-amber-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Vt,{size:18,className:"text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-amber-900",children:"Resolution Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(xs,{size:16,className:"text-amber-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolution Type"})]}),s.jsx("p",{className:"text-sm text-gray-800 capitalize",children:e.resolution_type.replace("_"," ")})]}),e.resolution_amount&&s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(Vt,{size:16,className:"text-amber-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolution Amount"})]}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:a(e.resolution_amount)})]}),e.resolution_notes&&s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100 md:col-span-2",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:s.jsx(qr,{size:16,className:"text-amber-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolution Notes"})]}),s.jsx("p",{className:"text-sm text-gray-800",children:e.resolution_notes})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:s.jsx(qr,{size:18,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Live Chat"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Chat with the user about this dispute"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",style:{pointerEvents:"auto",zIndex:10},disabled:u,children:[s.jsx(qr,{size:18}),s.jsx("span",{children:u?"Loading...":"Chat"})]}),p&&i&&s.jsxs(M,{onClick:()=>i(e),className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:[s.jsx(Er,{size:18}),s.jsx("span",{children:"Resolve Dispute"})]})]})]})}),s.jsx(g1,{isOpen:o,onClose:()=>l(!1),ticketId:c,userId:h||e.user_id,userName:e.user_name,onTicketIdChange:d})]})},Zo={},Yo=(Zo==null?void 0:Zo.VITE_API_BASE_URL)||"https://prox.mycartly.in/api",y1=()=>{var fe,me,ae,Ue,P;const{addToast:e}=Et(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(""),[l,c]=x.useState(1),[d,u]=x.useState(null),[m,h]=x.useState(!1),[y,v]=x.useState(null),[j,b]=x.useState(new Map),[p,g]=x.useState({status:"",notes:"",resolution_type:"",resolution_amount:0,resolution_notes:""}),[f,w]=x.useState(!1),[k,A]=x.useState(1),[C,S]=x.useState(!1),[E,D]=x.useState({id:!0,subject:!0,parties:!0,type:!0,priority:!0,status:!0,assigned:!0,created:!0,actions:!0}),[Q,ne]=x.useState({status:"",priority:"",dispute_type:"",assigned_admin:"",overdue:!1,sort_by:"created_at",sort_order:"desc"}),R=10,Z=()=>[{id:1,subject:"Service quality not as described",description:"The trainer arrived late and did not provide the full service as promised. The training session was cut short and the workout was incomplete as expected.",status:"open",priority:"high",dispute_type:"service_quality",created_at:"2024-01-15T10:30:00Z",updated_at:"2024-01-15T10:30:00Z",assigned_admin:null,user_name:"Sarah Johnson",provider_name:"John Smith",booking_id:"101",is_overdue:!1,amount_disputed:2e3,booking:{total_amount:2e3}},{id:2,subject:"Provider did not show up",description:"The service provider did not arrive at the scheduled time. Multiple attempts to contact them were unsuccessful. The booking was for personal training session.",status:"in_progress",priority:"urgent",dispute_type:"no_show",created_at:"2024-01-16T14:20:00Z",updated_at:"2024-01-16T15:00:00Z",assigned_admin:"Admin User",user_name:"Emily Rodriguez",provider_name:"Sarah Johnson",booking_id:"102",is_overdue:!0,amount_disputed:2500,booking:{total_amount:2500}},{id:3,subject:"Incorrect service provided",description:"Booked for advanced training but received basic training instead. The provider did not inform about the change and charged the full amount.",status:"open",priority:"medium",dispute_type:"service_mismatch",created_at:"2024-01-17T09:15:00Z",updated_at:"2024-01-17T09:15:00Z",assigned_admin:null,user_name:"Michael Chen",provider_name:"Mike Williams",booking_id:"103",is_overdue:!1,amount_disputed:3500,booking:{total_amount:3500}},{id:4,subject:"Payment charged twice",description:"The payment for the booking was charged twice. I have receipts for both transactions. Need refund for the duplicate charge.",status:"resolved",priority:"high",dispute_type:"payment_issue",created_at:"2024-01-10T11:00:00Z",updated_at:"2024-01-18T12:00:00Z",assigned_admin:"Admin User",user_name:"David Wilson",provider_name:"Lisa Anderson",booking_id:"104",is_overdue:!1,amount_disputed:1800,resolution_type:"refund",resolution_amount:1800,resolution_notes:"Duplicate payment confirmed. Full refund processed.",booking:{total_amount:1800}},{id:5,subject:"Provider behavior concerns",description:"The provider was unprofessional during the service. Used inappropriate language and was rough during the training. I want to cancel future bookings and get a refund.",status:"escalated",priority:"urgent",dispute_type:"provider_conduct",created_at:"2024-01-12T16:00:00Z",updated_at:"2024-01-19T10:00:00Z",assigned_admin:"Senior Admin",user_name:"Jennifer Martinez",provider_name:"John Smith",booking_id:"105",is_overdue:!1,amount_disputed:3e3,booking:{total_amount:3e3}},{id:6,subject:"Service cancelled but no refund",description:"The provider cancelled the service at the last minute due to personal reasons. I was promised a refund but it has not been processed yet.",status:"in_progress",priority:"medium",dispute_type:"cancellation_refund",created_at:"2024-01-13T13:00:00Z",updated_at:"2024-01-20T13:30:00Z",assigned_admin:"Admin User",user_name:"Robert Taylor",provider_name:"Sarah Johnson",booking_id:"106",is_overdue:!1,amount_disputed:2200,booking:{total_amount:2200}},{id:7,subject:"Equipment damage claim",description:"The provider claims that I damaged their training equipment during the session. However, the equipment was already damaged when they arrived. I have photos as evidence.",status:"open",priority:"low",dispute_type:"damage_claim",created_at:"2024-01-14T10:00:00Z",updated_at:"2024-01-14T10:00:00Z",assigned_admin:null,user_name:"Amanda White",provider_name:"Mike Williams",booking_id:"107",is_overdue:!1,amount_disputed:4e3,booking:{total_amount:4e3}},{id:8,subject:"Incomplete service delivery",description:"The training session was supposed to be 2 hours but only lasted 1 hour. The provider left early without completing all the planned activities.",status:"resolved",priority:"medium",dispute_type:"incomplete_service",created_at:"2024-01-11T14:00:00Z",updated_at:"2024-01-19T15:00:00Z",assigned_admin:"Admin User",user_name:"Christopher Lee",provider_name:"Mike Williams",booking_id:"108",is_overdue:!1,amount_disputed:3200,resolution_type:"partial_refund",resolution_amount:1600,resolution_notes:"Service was incomplete. Partial refund of 50% processed as compensation.",booking:{total_amount:3200}},{id:9,subject:"Booking time mismatch",description:"I booked for morning 9 AM slot but the provider came at 11 AM. This caused inconvenience as I had to reschedule my other appointments.",status:"open",priority:"low",dispute_type:"scheduling_issue",created_at:"2024-01-15T15:30:00Z",updated_at:"2024-01-15T15:30:00Z",assigned_admin:null,user_name:"James Brown",provider_name:"Lisa Anderson",booking_id:"108",is_overdue:!1,amount_disputed:1500,booking:{total_amount:1500}},{id:10,subject:"Refund processing delay",description:"I cancelled my booking 5 days ago and was told I would receive a refund within 3 business days. The refund has not been processed yet.",status:"in_progress",priority:"high",dispute_type:"refund_delay",created_at:"2024-01-16T09:00:00Z",updated_at:"2024-01-20T09:15:00Z",assigned_admin:"Admin User",user_name:"Patricia Davis",provider_name:"John Smith",booking_id:"109",is_overdue:!0,amount_disputed:2800,booking:{total_amount:2800}}];x.useEffect(()=>{I()},[l,Q,i]),x.useEffect(()=>{console.log("Selected dispute changed:",y)},[y]);const I=async()=>{var B;const L=localStorage.getItem("blinkcare_token"),$=L&&L.startsWith("mock_token_");if(!L||$){a(!0),setTimeout(()=>{const q=Z();let W=q;i&&(W=q.filter(J=>J.id.toString().includes(i)||J.subject.toLowerCase().includes(i.toLowerCase())||J.user_name.toLowerCase().includes(i.toLowerCase())||J.provider_name.toLowerCase().includes(i.toLowerCase())||J.booking_id.includes(i)||J.dispute_type.toLowerCase().includes(i.toLowerCase()))),Q.status&&(W=W.filter(J=>J.status===Q.status)),Q.priority&&(W=W.filter(J=>J.priority===Q.priority)),Q.dispute_type&&(W=W.filter(J=>J.dispute_type===Q.dispute_type)),Q.assigned_admin&&(W=W.filter(J=>{var le;return(le=J.assigned_admin)==null?void 0:le.toLowerCase().includes(Q.assigned_admin.toLowerCase())})),Q.overdue&&(W=W.filter(J=>J.is_overdue===!0));const G=(l-1)*R,de=W.slice(G,G+R),te=Math.ceil(W.length/R);r(de),A(te),a(!1)},500);return}try{a(!0);const q=new URLSearchParams;q.append("page",l.toString()),q.append("limit",R.toString()),q.append("search",i),Object.entries(Q).forEach(([de,te])=>{te&&q.append(de,te.toString())});const W=await fetch(`${Yo}/admin/disputes?${q.toString()}`,{headers:{Authorization:`Bearer ${L}`}});if(!W.ok){console.error("Failed to fetch disputes:",W.status,W.statusText),e(`Failed to fetch disputes: ${W.statusText}`,"error"),a(!1);return}const G=await W.json();if(console.log("Fetched disputes response:",G),G.success&&G.disputes){const de=G.disputes.map(te=>{const J=j.get(te.id),le=Date.now();if(J&&le-J.timestamp<5e3)return console.log(`Using recent local update for dispute ${te.id}: ${J.status} (instead of API: ${te.status})`),{...te,status:J.status};let ie=te.status;return te.status==="resolved"&&(ie="closed",console.log(`Normalized dispute ${te.id} status from 'resolved' to 'closed'`)),console.log(`Dispute ${te.id}: status=${te.status}, normalized=${ie}`),{...te,status:ie}});console.log("Fetched and normalized disputes:",de.map(te=>({id:te.id,status:te.status,resolution_type:te.resolution_type}))),r(de),A(((B=G.pagination)==null?void 0:B.total_pages)||1)}else console.error("Failed to fetch disputes:",G.message||"Unknown error"),e(G.message||"Failed to fetch disputes","error")}catch(q){console.error("Error fetching disputes:",q);const W=q instanceof Error?q.message:"Error fetching disputes";e(W,"error")}finally{a(!1)}},H=(L,$)=>{var B,q;$==="view"?u(d===L.id?null:L.id):(console.log("Opening modal for dispute:",L),console.log("Dispute booking:",L.booking),console.log("Dispute booking amount:",(B=L.booking)==null?void 0:B.total_amount),console.log("Dispute amount_disputed:",L.amount_disputed),v(L),(q=L.booking)!=null&&q.total_amount||L.amount_disputed,g({status:$,notes:"",resolution_type:$==="resolve"?"":void 0,resolution_amount:$==="resolve"?0:void 0,resolution_notes:""}),h(!0))},U=async L=>{var $,B;if(L.preventDefault(),!!y){w(!0);try{const q=`${Yo}/admin/disputes/${y.id}`;let W={},G="PUT";if(p.status==="escalate")W={status:"escalated",reason:p.notes,escalate_to_admin:1};else if(p.status==="resolve"){if(!p.resolution_type){e("Please select a resolution type","error"),w(!1);return}if(!p.resolution_notes&&!p.notes){e("Please enter resolution notes","error"),w(!1);return}if(p.resolution_type.includes("refund")&&(!p.resolution_amount||p.resolution_amount<=0)){e("Please enter a valid refund amount","error"),w(!1);return}W={status:"closed",resolution_type:p.resolution_type,resolution_amount:p.resolution_amount||0,resolution_notes:p.resolution_notes||p.notes||"",notes:p.notes||p.resolution_notes||""},console.log("Resolving dispute - request body:",JSON.stringify(W,null,2))}else W={status:p.status,notes:p.notes};const de=localStorage.getItem("blinkcare_token");if(!de){e("Please log in to resolve disputes.","error"),w(!1);return}console.log("Updating dispute:",{endpoint:q,method:G,disputeId:y.id,requestBody:W});const te=await fetch(q,{method:G,headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify(W)});if(!te.ok){if(te.status===404){console.log("404 error, trying alternative endpoints...");const Ne=await fetch(q,{method:"PATCH",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify(W)});if(Ne.ok&&((await Ne.json().catch(()=>({}))).success||Ne.ok)){e(`Dispute ${p.status==="resolve"?"closed":p.status}ed successfully`,"success"),h(!1),u(null),I(),w(!1);return}const pe=`${Yo}/admin/disputes`,ve={...W,id:y.id},ge=await fetch(pe,{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify(ve)});if(ge.ok&&((await ge.json().catch(()=>({}))).success||ge.ok)){e(`Dispute ${p.status==="resolve"?"closed":p.status}ed successfully`,"success"),h(!1),u(null),I(),w(!1);return}}const le=await te.text();let ie=`HTTP error! status: ${te.status}`;try{const Ne=JSON.parse(le);ie=Ne.message||(($=Ne.error)==null?void 0:$.message)||ie}catch{ie=le||ie}if(console.error("API Error:",{status:te.status,statusText:te.statusText,error:ie,endpoint:q,method:G,requestBody:W}),te.status===404){console.warn("Backend endpoint not found. Updating dispute locally as fallback."),r(Ne=>Ne.map(pe=>pe.id===y.id?{...pe,status:p.status==="resolve"?"closed":p.status,resolution_type:p.resolution_type||pe.resolution_type,resolution_amount:p.resolution_amount||pe.resolution_amount,resolution_notes:p.resolution_notes||p.notes||pe.resolution_notes,updated_at:new Date().toISOString()}:pe)),e(`Dispute ${p.status==="resolve"?"closed":p.status}ed (local update only - backend endpoint missing)`,"warning"),h(!1),u(null),w(!1);return}else e(ie,"error");w(!1);return}const J=await te.json().catch(()=>({}));if(console.log("Update dispute response:",J),console.log("Response status:",te.status),console.log("Request body sent:",W),J.success||te.ok){const le=p.status==="resolve"?"closed":p.status,ie=J.dispute||J.data||J;console.log("Updated dispute from response:",ie);const Ne=(ie==null?void 0:ie.status)||le,pe=Ne==="resolved"?"closed":Ne||le;console.log("Setting dispute status to:",pe),b(ve=>{const ge=new Map(ve);return ge.set(y.id,{status:pe,timestamp:Date.now()}),ge}),r(ve=>ve.map(ge=>ge.id===y.id?{...ge,status:pe,resolution_type:p.resolution_type||(ie==null?void 0:ie.resolution_type)||ge.resolution_type,resolution_amount:p.resolution_amount||(ie==null?void 0:ie.resolution_amount)||ge.resolution_amount,resolution_notes:p.resolution_notes||p.notes||(ie==null?void 0:ie.resolution_notes)||ge.resolution_notes,updated_at:(ie==null?void 0:ie.updated_at)||new Date().toISOString()}:ge)),e(`Dispute ${p.status==="resolve"?"closed":p.status}ed successfully`,"success"),h(!1),u(null),setTimeout(()=>{console.log("Refreshing disputes after update..."),I(),setTimeout(()=>{b(ve=>{const ge=new Map(ve);return ge.delete(y.id),ge})},2e3)},1500)}else{const le=J.message||((B=J.error)==null?void 0:B.message)||`Failed to ${p.status} dispute`;console.error("Update failed:",le),e(le,"error")}}catch(q){console.error("Error processing dispute:",q);const W=q instanceof Error?q.message:"Error processing dispute";e(W,"error")}finally{w(!1)}}},_=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),N=L=>`${L.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z=L=>{switch(L){case"resolved":return"bg-green-100 text-green-700";case"closed":return"bg-gray-100 text-gray-700";case"pending":return"bg-yellow-100 text-yellow-700";case"in_progress":return"bg-blue-100 text-blue-700";case"escalated":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},F=L=>{switch(L){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},V=L=>{["id","subject","status","actions"].includes(L)||D($=>({...$,[L]:!$[L]}))},Y=()=>{D({id:!0,subject:!0,parties:!0,type:!0,priority:!0,status:!0,assigned:!0,created:!0,actions:!0})},ee=L=>{u(d===L?null:L)};return s.jsxs("div",{children:[n?s.jsx(ld,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-end space-x-3 mb-4",children:[s.jsx(h1,{showColumnSettings:C,onToggleSettings:()=>S(!C),columnVisibility:E,onToggleColumn:V,onResetColumns:Y}),s.jsx(cd,{searchTerm:i,onSearchChange:o}),s.jsxs(M,{onClick:I,className:"flex items-center space-x-1",children:[s.jsx(rr,{size:14}),s.jsx("span",{children:"Refresh"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"w-10"}),E.id&&s.jsx("th",{className:"text-left pb-4",children:"ID"}),E.subject&&s.jsx("th",{className:"text-left pb-4",children:"Subject"}),E.parties&&s.jsx("th",{className:"text-left pb-4",children:"Parties"}),E.type&&s.jsx("th",{className:"text-left pb-4",children:"Type"}),E.priority&&s.jsx("th",{className:"text-left pb-4",children:"Priority"}),E.status&&s.jsx("th",{className:"text-left pb-4",children:"Status"}),E.assigned&&s.jsx("th",{className:"text-left pb-4",children:"Assigned To"}),E.created&&s.jsx("th",{className:"text-left pb-4",children:"Created"}),E.actions&&s.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),s.jsx("tbody",{children:t.map(L=>s.jsxs(jt.Fragment,{children:[s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("td",{className:"py-4",children:s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>ee(L.id),className:"p-1",children:d===L.id?s.jsx(Yi,{size:16,className:"text-gray-500"}):s.jsx(is,{size:16,className:"text-gray-500"})})}),E.id&&s.jsxs("td",{className:"py-4",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:["#",L.id]}),L.is_overdue&&s.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[s.jsx(et,{size:12,className:"mr-1"}),"Overdue"]})]}),E.subject&&s.jsxs("td",{className:"py-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:L.subject}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Booking: #",L.booking_id]})]}),E.parties&&s.jsxs("td",{className:"py-4",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["User: ",L.user_name]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Provider: ",L.provider_name]})]}),E.type&&s.jsx("td",{className:"py-4",children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:L.dispute_type})}),E.priority&&s.jsx("td",{className:"py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F(L.priority)}`,children:L.priority.charAt(0).toUpperCase()+L.priority.slice(1)})}),E.status&&s.jsx("td",{className:"py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(L.status)}`,children:L.status.split("_").map($=>$.charAt(0).toUpperCase()+$.slice(1)).join(" ")})}),E.assigned&&s.jsx("td",{className:"py-4",children:s.jsx("div",{className:"text-sm text-gray-600",children:L.assigned_admin||"Unassigned"})}),E.created&&s.jsx("td",{className:"py-4",children:s.jsx("div",{className:"text-sm text-gray-600",children:_(L.created_at)})}),E.actions&&s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>H(L,"view"),variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",children:s.jsx(tn,{size:16})}),L.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(M,{onClick:()=>H(L,"in_progress"),className:"flex items-center space-x-1 bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Er,{size:14}),s.jsx("span",{children:"Start"})]}),s.jsxs(M,{onClick:()=>H(L,"escalate"),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white",children:[s.jsx(pt,{size:14}),s.jsx("span",{children:"Escalate"})]}),s.jsxs(M,{onClick:()=>H(L,"resolve"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Er,{size:14}),s.jsx("span",{children:"Resolve"})]})]}),L.status==="in_progress"&&s.jsxs(M,{onClick:()=>H(L,"resolve"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Er,{size:14}),s.jsx("span",{children:"Resolve"})]}),(L.status==="resolved"||L.status==="closed")&&s.jsx("span",{className:"text-sm text-gray-500 italic",children:L.status==="resolved"?"Resolved":"Closed"})]})})]}),d===L.id&&s.jsx("tr",{children:s.jsx("td",{colSpan:Object.values(E).filter(Boolean).length+1,className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:s.jsx("div",{className:"p-6",children:s.jsx(x1,{dispute:L,formatDate:_,getStatusColor:z,getPriorityColor:F,formatCurrency:N,onResolve:$=>H($,"resolve")})})})})]},L.id))})]})}),k>1&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",l," of ",k]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>c(L=>Math.max(L-1,1)),disabled:l===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(os,{size:16})}),s.jsx(M,{onClick:()=>c(L=>Math.min(L+1,k)),disabled:l===k,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(ls,{size:16})})]})]})]}),m&&y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[p.status==="resolve"?"Resolve":p.status==="escalate"?"Escalate":p.status==="in_progress"?"Start Processing":"View"," Dispute"]}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{size:20})})]}),s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),s.jsx("div",{className:"text-sm text-gray-900",children:y.subject})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking ID"}),s.jsxs("div",{className:"text-sm text-gray-900",children:["#",y.booking_id]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),s.jsx("div",{className:"text-sm text-gray-900",children:y.user_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider"}),s.jsx("div",{className:"text-sm text-gray-900",children:y.provider_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsx("div",{className:"text-sm text-gray-900",children:y.dispute_type})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),s.jsx("div",{className:"text-sm text-gray-900 capitalize",children:y.priority})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsx("div",{className:"text-sm text-gray-900 capitalize",children:y.status.replace("_"," ")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),s.jsx("div",{className:"text-sm text-gray-900",children:y.assigned_admin||"Unassigned"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:y.description})]}),p.status==="resolve"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Type *"}),s.jsxs("select",{required:!0,value:p.resolution_type,onChange:L=>{var W,G;const $=L.target.value;console.log("Resolution type changed to:",$),console.log("Selected dispute:",y),console.log("Booking total amount:",(W=y==null?void 0:y.booking)==null?void 0:W.total_amount);const B={...p,resolution_type:$},q=((G=y==null?void 0:y.booking)==null?void 0:G.total_amount)||(y==null?void 0:y.amount_disputed);console.log("Total amount to use:",q),$==="refund"&&q?(B.resolution_amount=q,console.log("Setting full refund amount:",B.resolution_amount)):$==="partial_refund"&&q?(B.resolution_amount=q/2,console.log("Setting partial refund amount:",B.resolution_amount)):$!=null&&$.includes("refund")||(B.resolution_amount=0,console.log("Clearing amount for non-refund type")),console.log("New form data:",B),g(B)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"",children:"Select resolution type"}),s.jsx("option",{value:"refund",children:"Refund"}),s.jsx("option",{value:"partial_refund",children:"Partial Refund"}),s.jsx("option",{value:"reschedule",children:"Reschedule"}),s.jsx("option",{value:"warning",children:"Warning"}),s.jsx("option",{value:"account_action",children:"Account Action"}),s.jsx("option",{value:"no_action",children:"No Action"}),s.jsx("option",{value:"compensation",children:"Compensation"}),s.jsx("option",{value:"apology",children:"Apology"})]})]}),((fe=p.resolution_type)==null?void 0:fe.includes("refund"))&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Amount *"}),(((me=y==null?void 0:y.booking)==null?void 0:me.total_amount)||(y==null?void 0:y.amount_disputed))&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Total booking amount: ",(Ue=((ae=y==null?void 0:y.booking)==null?void 0:ae.total_amount)||(y==null?void 0:y.amount_disputed))==null?void 0:Ue.toFixed(2)]}),s.jsx("input",{type:"number",required:!0,value:p.resolution_amount||"",onChange:L=>g({...p,resolution_amount:parseFloat(L.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter amount",min:"0",step:"0.01",max:((P=y==null?void 0:y.booking)==null?void 0:P.total_amount)||(y==null?void 0:y.amount_disputed)||void 0})]}),p.status==="resolve"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Notes *"}),s.jsx("textarea",{required:!0,value:p.resolution_notes||"",onChange:L=>g({...p,resolution_notes:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter resolution details and notes..."})]})]}),p.status!=="view"&&p.status!=="resolve"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),s.jsx("textarea",{required:!0,value:p.notes,onChange:L=>g({...p,notes:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${p.status}...`})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(M,{type:"button",onClick:()=>h(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:p.status==="view"?"Close":"Cancel"}),p.status!=="view"&&s.jsx(M,{type:"submit",disabled:f,className:`${p.status==="resolve"?"bg-green-600 hover:bg-green-700":p.status==="escalate"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white`,children:f?"Processing...":p.status==="resolve"?"Resolve":p.status==="escalate"?"Escalate":p.status==="in_progress"?"Start Processing":"Submit"})]})]})]})})]})},v1=()=>s.jsxs(gt,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Dispute Resolution"}),s.jsx("p",{className:"text-gray-600",children:"Manage and resolve disputes between service providers and users."})]}),s.jsxs(Te,{children:[s.jsx(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:s.jsx(Kt,{children:"All Disputes"})}),s.jsx(Ae,{children:s.jsx(y1,{})})]})]}),Xo={},Ft=((Xo==null?void 0:Xo.VITE_API_BASE_URL)||"https://prox.mycartly.in/api").replace(/\/$/,""),Ia=e=>typeof e=="number"&&!isNaN(e)?`${e.toFixed(2)}`:"N/A",j1=e=>{const t=e.filter(Boolean);return t.length?t.join(", "):"Address not provided"},b1=(e,t,r,n)=>{const a=e.category_id?t[e.category_id]||`Category #${e.category_id}`:"N/A",i=e.subcategory_id?r[e.subcategory_id]||`Service #${e.subcategory_id}`:"N/A",o=c=>{if(c==null)return null;const d=Number(c);return Number.isNaN(d)?null:d};let l=Number(e.total_amount||0);if(l===0&&e.subcategory_id&&n){const c=n[e.subcategory_id];if(c){const d=c.price_discounted||c.price_original;if(d){const u=Number(d);!isNaN(u)&&u>0&&(l=u)}}}return{id:e.id,booking_date:e.preferred_date||e.booking_date||"",booking_time:e.preferred_time||e.booking_time||"",status:e.status||"pending_notification",payment_status:e.payment_status||"pending",priority:e.priority||"normal",total_amount:l,service_address:j1([e.address,e.city,e.state,e.pincode,e.country]),pincode:e.pincode||"N/A",city:e.city||"N/A",state:e.state||void 0,country:e.country||void 0,contact_person:e.full_name||`User #${e.user_id||"?"}`,contact_phone:e.contact_number||"N/A",created_at:e.created_at,updated_at:e.updated_at,assigned_provider:e.provider_id?`Provider #${e.provider_id}`:null,user_name:e.full_name||`User #${e.user_id||"N/A"}`,provider_name:e.provider_id?`Provider #${e.provider_id}`:"Not assigned",service_name:i,category_id:e.category_id||null,subcategory_id:e.subcategory_id||null,category_name:a,is_overdue:!!e.is_overdue,admin_notes:e.admin_notes,cancellation_reason:e.cancellation_reason,refund_amount:o(e.refund_amount)||void 0,provider_id:e.provider_id||null,user_id:e.user_id||null,user_address:e.user_address||null,user_city:e.user_city||null,user_state:e.user_state||null,user_pincode:e.user_pincode||null,provider_address:e.provider_address||null,provider_city:e.provider_city||null,provider_state:e.provider_state||null,provider_pincode:e.provider_pincode||null,notification_sent_at:e.notification_sent_at}},el=e=>{if(!e)return"N/A";try{const[t,r]=e.split(":"),n=parseInt(t,10),a=parseInt(r,10),i=n===0?12:n>12?n-12:n,o=n>=12?"PM":"AM",l=a.toString().padStart(2,"0");return`${i}:${l} ${o}`}catch{return e}},w1=()=>{const{addToast:e}=Et(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(""),[l,c]=x.useState(1),[d,u]=x.useState(null),[m,h]=x.useState(!1),[y,v]=x.useState(null),[j,b]=x.useState({status:"",notes:""}),[p,g]=x.useState(!1),[f,w]=x.useState(1),[k,A]=x.useState({id:!0,date:!0,category:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0}),[C]=x.useState({status:"",payment_status:"",priority:"",date_from:"",date_to:"",city:"",assigned_provider:"",overdue:!1,sort_by:"created_at",sort_order:"desc"}),[S,E]=x.useState(!1),D=10,[Q,ne]=x.useState({}),[R,Z]=x.useState({}),[I,H]=x.useState({}),[U,_]=x.useState(null),N=x.useCallback(async()=>{const P=localStorage.getItem("blinkcare_token");if(P)try{const[L,$]=await Promise.all([fetch(`${Ft}/admin/categories`,{headers:{Authorization:`Bearer ${P}`}}),fetch(`${Ft}/admin/services`,{headers:{Authorization:`Bearer ${P}`}})]);if(L.ok){const B=await L.json(),q={};Array.isArray(B.categories)&&B.categories.forEach(W=>{q[W.id]=W.name}),ne(q)}if($.ok){const B=await $.json(),q={},W={};Array.isArray(B.services)&&B.services.forEach(G=>{q[G.id]=G.title||G.name,W[G.id]={title:G.title||G.name,price_discounted:G.price_discounted,price_original:G.price_original}}),Z(q),H(W)}}catch(L){console.error("Error fetching categories/services:",L),e("Unable to fetch categories/services.","error")}},[e]),z=x.useCallback(async()=>{var L,$,B,q,W;const P=localStorage.getItem("blinkcare_token");if(!P){_("Please log in as admin to view bookings."),r([]),w(1),a(!1),e("Please log in as admin to view bookings.","error");return}try{a(!0),_(null);const G=new URLSearchParams;if(G.append("page",l.toString()),G.append("page_size",D.toString()),i.trim()&&G.append("search",i.trim()),C.status&&G.append("status",C.status),C.date_from&&G.append("date_from",C.date_from),C.date_to&&G.append("date_to",C.date_to),C.city&&G.append("city",C.city),C.assigned_provider){const ve=Number(C.assigned_provider);isNaN(ve)||G.append("provider_id",ve.toString())}const de=await fetch(`${Ft}/admin/appointments?${G.toString()}`,{headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(!de.ok)throw new Error(`Failed to fetch bookings (status ${de.status})`);const te=await de.json(),le=(Array.isArray(te.data)?te.data:Array.isArray(te.bookings)?te.bookings:[]).map(ve=>b1(ve,Q,R,I));r(le);const ie=((L=te.pagination)==null?void 0:L.total)??(($=te.pagination)==null?void 0:$.total_items),Ne=((B=te.pagination)==null?void 0:B.page_size)??((q=te.pagination)==null?void 0:q.limit)??D,pe=ie&&Ne?Math.max(1,Math.ceil(ie/Ne)):((W=te.pagination)==null?void 0:W.total_pages)??Math.max(1,Math.ceil(le.length/D));w(pe)}catch(G){console.error("Error fetching bookings:",G),_("Unable to load bookings from backend."),e("Unable to load bookings from backend.","error"),r([]),w(1)}finally{a(!1)}},[e,Q,l,C,D,i,R,I]);x.useEffect(()=>{N()},[N]),x.useEffect(()=>{z()},[z]);const F=(P,L)=>{L==="view"?u(d===P.id?null:P.id):(v(P),b({status:L,notes:""}),h(!0))},V=async P=>{if(P.preventDefault(),!!y){g(!0);try{const L=localStorage.getItem("blinkcare_token");if(!L){e("Please log in to manage bookings.","error");return}let $="",B={};switch(j.status){case"confirm":$=`${Ft}/admin/bookings/${y.id}/status`,B={status:"confirmed",notes:j.notes,reason:"Admin confirmed booking"};break;case"cancel":$=`${Ft}/admin/bookings/${y.id}/cancel`,B={reason:j.reason||"Cancelled by admin",refund_amount:j.refund_amount||0,notes:j.notes};break;case"assign":$=`${Ft}/admin/bookings/${y.id}/assign`,B={provider_id:j.provider_id,notes:j.notes};break;case"start":$=`${Ft}/admin/bookings/${y.id}/status`,B={status:"in_progress",notes:j.notes,reason:"Admin started the service"};break;case"complete":$=`${Ft}/admin/bookings/${y.id}/status`,B={status:"completed",notes:j.notes,reason:"Admin marked as completed"};break;default:throw new Error(`Unknown action: ${j.status}`)}const W=await(await fetch($,{method:"POST",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify(B)})).json();if(W.success){const G=W.message||`Booking ${j.status}ed successfully`;e(G,"success"),h(!1),z()}else e(W.message||`Failed to ${j.status} booking`,"error")}catch(L){console.error("Error processing booking:",L),e("Error processing booking","error")}finally{g(!1)}}},Y=P=>{switch(P){case"completed":return"bg-green-100 text-green-700";case"pending":case"pending_assignment":case"pending_notification":return"bg-yellow-100 text-yellow-700";case"confirmed":case"accepted":return"bg-blue-100 text-blue-700";case"in_progress":return"bg-purple-100 text-purple-700";case"cancelled":return"bg-red-100 text-red-700";case"awaiting_payment":return"bg-amber-100 text-amber-700";default:return"bg-gray-100 text-gray-700"}},ee=P=>{switch(P){case"paid":return"bg-green-100 text-green-700";case"refunded":return"bg-blue-100 text-blue-700";case"awaiting_payment":return"bg-amber-100 text-amber-700";case"pending":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},fe=P=>{switch(P){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"normal":return"bg-blue-100 text-blue-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},me=x.useCallback(async()=>{const P=localStorage.getItem("blinkcare_token");if(!P){e("Please log in as admin to update bookings.","error");return}try{a(!0),e("Updating booking amounts...","info");const L=await fetch(`${Ft}/admin/appointments?page_size=1000`,{headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(!L.ok)throw new Error(`Failed to fetch bookings (status ${L.status})`);const $=await L.json(),q=(Array.isArray($.data)?$.data:Array.isArray($.bookings)?$.bookings:[]).filter(de=>{if(Number(de.total_amount||0)>0)return!1;if(de.subcategory_id&&I[de.subcategory_id]){const J=I[de.subcategory_id],le=J.price_discounted||J.price_original;if(le&&Number(le)>0)return!0}return!1});if(q.length===0){e("All bookings already have correct amounts.","success"),a(!1);return}let W=0,G=0;for(const de of q)try{const te=I[de.subcategory_id],J=te.price_discounted||te.price_original,le=Number(J);if(isNaN(le)||le<=0){G++;continue}(await fetch(`${Ft}/admin/appointments/${de.id}`,{method:"PUT",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({total_amount:le})})).ok?W++:G++}catch(te){console.error(`Error updating booking ${de.id}:`,te),G++}W>0?(e(`Successfully updated ${W} booking(s). ${G>0?`${G} failed.`:""}`,"success"),z()):e(`Failed to update bookings. ${G} booking(s) failed.`,"error")}catch(L){console.error("Error updating booking amounts:",L),e("Error updating booking amounts.","error")}finally{a(!1)}},[e,I,z]),ae=P=>{["id","date","status","actions"].includes(P)||A(L=>({...L,[P]:!L[P]}))},Ue=()=>{A({id:!0,date:!0,category:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0})};return s.jsxs("div",{children:[n?s.jsx(ld,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx(cd,{searchTerm:i,onSearchChange:o})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(M,{onClick:()=>E(!S),variant:"outline",className:"flex items-center space-x-1",children:[s.jsx(My,{size:14}),s.jsx("span",{children:"Columns"})]}),s.jsxs(M,{onClick:me,variant:"outline",className:"flex items-center space-x-1",disabled:n,children:[s.jsx(rr,{size:14}),s.jsx("span",{children:"Update Amounts"})]}),s.jsxs(M,{onClick:z,className:"flex items-center space-x-1",children:[s.jsx(rr,{size:14}),s.jsx("span",{children:"Refresh"})]})]})]}),U&&s.jsx("div",{className:"mb-4 rounded-md border border-amber-200 bg-amber-50 px-4 py-2 text-sm text-amber-900",children:U}),S&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Column Visibility"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:Ue,variant:"outline",size:"sm",className:"text-xs",children:"Reset All"}),s.jsx(M,{onClick:()=>E(!1),variant:"ghost",size:"sm",className:"text-xs",children:s.jsx(dt,{size:14})})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(k).map(([P,L])=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:L,onChange:()=>ae(P),disabled:["id","date","status","actions"].includes(P),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),s.jsx("span",{className:`text-sm ${["id","date","status","actions"].includes(P)?"text-gray-500":"text-gray-700"}`,children:P.charAt(0).toUpperCase()+P.slice(1).replace("_"," ")})]},P))})]}),s.jsx("div",{className:"overflow-x-auto bg-white rounded-lg border border-gray-200 shadow-sm",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"w-10 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),k.id&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),k.date&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),k.category&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),k.service&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),k.parties&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parties"}),k.location&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),k.amount&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),k.status&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),k.payment&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),k.priority&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),k.assigned&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),k.actions&&s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{children:t.map(P=>s.jsxs(jt.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>F(P,"view"),className:"p-1 hover:bg-gray-100 rounded",children:d===P.id?s.jsx(Yi,{size:16,className:"text-gray-500"}):s.jsx(is,{size:16,className:"text-gray-500"})})}),k.id&&s.jsxs("td",{className:"px-4 py-4",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:["#",P.id]}),P.is_overdue&&s.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[s.jsx(et,{size:12,className:"mr-1"}),"Overdue"]})]}),k.date&&s.jsxs("td",{className:"px-4 py-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:P.booking_date?new Date(P.booking_date).toLocaleDateString():"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:P.booking_time?el(P.booking_time):"N/A"}),P.created_at&&s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Created: ",new Date(P.created_at).toLocaleDateString()," ",new Date(P.created_at).toLocaleTimeString()]})]}),k.category&&s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"font-medium text-gray-900",children:P.category_name||"N/A"})}),k.service&&s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"font-medium text-gray-900",children:P.service_name})}),k.parties&&s.jsxs("td",{className:"px-4 py-4",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["User: ",P.user_name]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Provider: ",P.provider_name]})]}),k.location&&s.jsxs("td",{className:"px-4 py-4",children:[s.jsx("div",{className:"text-sm text-gray-900",children:P.service_address}),P.state&&s.jsxs("div",{className:"text-xs text-gray-500",children:[P.city,", ",P.state," ",P.pincode]})]}),k.amount&&s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"font-medium text-gray-900",children:Ia(P.total_amount)})}),k.status&&s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y(P.status)}`,children:P.status.split("_").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" ")})}),k.payment&&s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ee(P.payment_status)}`,children:P.payment_status.charAt(0).toUpperCase()+P.payment_status.slice(1)})}),k.priority&&s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${fe(P.priority)}`,children:P.priority.charAt(0).toUpperCase()+P.priority.slice(1)})}),k.assigned&&s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"text-sm text-gray-600",children:P.assigned_provider||"Unassigned"})}),k.actions&&s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>F(P,"view"),variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",children:s.jsx(tn,{size:16})}),P.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(M,{onClick:()=>F(P,"confirm"),className:"flex items-center space-x-1 bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Er,{size:14}),s.jsx("span",{children:"Confirm"})]}),s.jsxs(M,{onClick:()=>F(P,"cancel"),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white",children:[s.jsx(rn,{size:14}),s.jsx("span",{children:"Cancel"})]})]}),P.status==="confirmed"&&s.jsxs(M,{onClick:()=>F(P,"start"),className:"flex items-center space-x-1 bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(et,{size:14}),s.jsx("span",{children:"Start"})]}),P.status==="in_progress"&&s.jsxs(M,{onClick:()=>F(P,"complete"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Er,{size:14}),s.jsx("span",{children:"Complete"})]})]})})]}),d===P.id&&s.jsx("tr",{children:s.jsx("td",{colSpan:Object.values(k).filter(Boolean).length+1,className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-blue-500",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Basic Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Booking ID:"}),s.jsxs("span",{className:"font-medium",children:["#",P.id]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y(P.status)}`,children:P.status.split("_").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ee(P.payment_status)}`,children:P.payment_status.charAt(0).toUpperCase()+P.payment_status.slice(1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Priority:"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${fe(P.priority)}`,children:P.priority.charAt(0).toUpperCase()+P.priority.slice(1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"User ID:"}),s.jsxs("span",{className:"font-medium",children:["#",P.user_id??"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Provider ID:"}),s.jsx("span",{className:"font-medium",children:P.provider_id?`#${P.provider_id}`:"Not assigned"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),s.jsx("span",{className:"font-medium text-green-600",children:Ia(P.total_amount)})]}),P.notification_sent_at&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Notification Sent:"}),s.jsx("span",{className:"font-medium",children:new Date(P.notification_sent_at).toLocaleString()})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Service Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Category:"}),s.jsx("span",{className:"font-medium",children:P.category_name||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Service:"}),s.jsx("span",{className:"font-medium",children:P.service_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"User:"}),s.jsx("span",{className:"font-medium",children:P.user_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Provider:"}),s.jsx("span",{className:"font-medium",children:P.provider_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Assigned To:"}),s.jsx("span",{className:"font-medium",children:P.assigned_provider||"Unassigned"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Location & Contact"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 block",children:"Address:"}),s.jsx("span",{className:"font-medium",children:P.service_address})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"City:"}),s.jsx("span",{className:"font-medium",children:P.city})]}),P.state&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"State:"}),s.jsx("span",{className:"font-medium",children:P.state})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Pincode:"}),s.jsx("span",{className:"font-medium",children:P.pincode})]}),P.country&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Country:"}),s.jsx("span",{className:"font-medium",children:P.country})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Contact Person:"}),s.jsx("span",{className:"font-medium",children:P.contact_person})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Contact Phone:"}),s.jsx("span",{className:"font-medium",children:P.contact_phone})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Date & Time"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Booking Date:"}),s.jsx("span",{className:"font-medium",children:P.booking_date?new Date(P.booking_date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Booking Time:"}),s.jsx("span",{className:"font-medium",children:P.booking_time?el(P.booking_time):"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"font-medium",children:P.created_at?new Date(P.created_at).toLocaleString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),s.jsx("span",{className:"font-medium",children:P.updated_at?new Date(P.updated_at).toLocaleString():"N/A"})]})]})]}),(P.user_address||P.provider_address)&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"User & Provider Addresses"}),s.jsxs("div",{className:"space-y-4 text-sm",children:[P.user_address&&s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100",children:[s.jsx("div",{className:"font-semibold text-blue-900 mb-2",children:"User Address:"}),s.jsxs("div",{className:"space-y-1 text-gray-700",children:[s.jsx("div",{children:P.user_address}),P.user_city&&s.jsxs("div",{className:"text-xs text-gray-600",children:[P.user_city,P.user_state&&`, ${P.user_state}`,P.user_pincode&&` - ${P.user_pincode}`]})]})]}),P.provider_address&&s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100",children:[s.jsx("div",{className:"font-semibold text-green-900 mb-2",children:"Provider Address:"}),s.jsxs("div",{className:"space-y-1 text-gray-700",children:[s.jsx("div",{children:P.provider_address}),P.provider_city&&s.jsxs("div",{className:"text-xs text-gray-600",children:[P.provider_city,P.provider_state&&`, ${P.provider_state}`,P.provider_pincode&&` - ${P.provider_pincode}`]})]})]})]})]}),(P.admin_notes||P.cancellation_reason||P.refund_amount)&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Additional Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[P.admin_notes&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 block",children:"Admin Notes:"}),s.jsx("span",{className:"font-medium",children:P.admin_notes})]}),P.cancellation_reason&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 block",children:"Cancellation Reason:"}),s.jsx("span",{className:"font-medium text-red-600",children:P.cancellation_reason})]}),P.refund_amount&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Refund Amount:"}),s.jsx("span",{className:"font-medium text-blue-600",children:Ia(P.refund_amount)})]})]})]})]})})})})]},P.id))})]})}),f>1&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",l," of ",f]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(M,{onClick:()=>c(P=>Math.max(P-1,1)),disabled:l===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(os,{size:16})}),s.jsx(M,{onClick:()=>c(P=>Math.min(P+1,f)),disabled:l===f,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(ls,{size:16})})]})]})]}),m&&y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[j.status==="confirm"?"Confirm":j.status==="cancel"?"Cancel":j.status==="assign"?"Assign Provider":j.status==="start"?"Start Service":j.status==="complete"?"Complete":"View"," Booking"]}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(dt,{size:20})})]}),s.jsxs("form",{onSubmit:V,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Details"}),s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Service:"})," ",y.service_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",y.booking_date?new Date(y.booking_date).toLocaleDateString():"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Time:"})," ",el(y.booking_time)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Amount:"})," ",Ia(y.total_amount)]})]})]}),j.status==="confirm"&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Er,{className:"h-5 w-5 text-blue-400"})}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Provider Assignment:"})," This booking already has a provider assigned. Confirmation will approve the booking for service."]})})]})}),j.status==="assign"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider ID *"}),s.jsx("input",{type:"number",required:!0,value:j.provider_id,onChange:P=>b({...j,provider_id:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter provider ID"})]}),j.status==="cancel"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),s.jsx("input",{type:"text",required:!0,value:j.reason,onChange:P=>b({...j,reason:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter cancellation reason"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount"}),s.jsx("input",{type:"number",value:j.refund_amount,onChange:P=>b({...j,refund_amount:parseFloat(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter refund amount"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),s.jsx("textarea",{required:!0,value:j.notes,onChange:P=>b({...j,notes:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${j.status}...`})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(M,{type:"button",onClick:()=>h(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:p,className:`${j.status==="confirm"?"bg-blue-600 hover:bg-blue-700":j.status==="cancel"?"bg-red-600 hover:bg-red-700":j.status==="assign"?"bg-green-600 hover:bg-green-700":(j.status==="start","bg-blue-600 hover:bg-blue-700")} text-white`,children:p?"Processing...":j.status==="confirm"?"Confirm":j.status==="cancel"?"Cancel":j.status==="assign"?"Assign":j.status==="start"?"Start":j.status==="complete"?"Complete":"Submit"})]})]})]})})]})},N1=()=>s.jsx(gt,{children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Manage and monitor all bookings in the system"})]}),s.jsxs(Te,{children:[s.jsx(Gt,{children:s.jsx(Kt,{children:"All Bookings"})}),s.jsx(Ae,{children:s.jsx(w1,{})})]})]})}),_1=[{id:1,booking_id:101,complaint_type:"service_quality",description:"The groomer was late and didn't follow the instructions I provided for my dog's haircut.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-15T10:00:00Z",resolved_at:null,user_name:"Sarah Johnson",user_email:"sarah.johnson@example.com",user_phone:"+91 98765 43210",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Fitness Training",booking_date:"2025-01-14",booking_time:"14:00"},{id:2,booking_id:102,complaint_type:"provider_behavior",description:"The trainer was rude and unprofessional during the training session.",priority:"medium",status:"in_progress",admin_notes:"Contacted provider for their side of the story",created_at:"2025-01-14T15:30:00Z",resolved_at:null,user_name:"Michael Chen",user_email:"michael.chen@example.com",user_phone:"+91 98765 43211",provider_name:"Sarah Trainer",provider_email:"sarah.trainer@example.com",service_name:"Personal Training",booking_date:"2025-01-13",booking_time:"10:00"},{id:3,booking_id:103,complaint_type:"billing_dispute",description:"I was charged extra for services that were not provided.",priority:"high",status:"resolved",admin_notes:"Refund processed. Amount credited to user account.",created_at:"2025-01-12T09:20:00Z",resolved_at:"2025-01-13T11:00:00Z",user_name:"Emily Rodriguez",user_email:"emily.rodriguez@example.com",user_phone:"+91 98765 43212",provider_name:"Mike Handler",provider_email:"mike.handler@example.com",service_name:"Nutrition Counseling",booking_date:"2025-01-11",booking_time:"16:00"},{id:4,booking_id:104,complaint_type:"safety_concern",description:"The fitness facility didn't have proper safety measures.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-11T14:15:00Z",resolved_at:null,user_name:"David Wilson",user_email:"david.wilson@example.com",user_phone:"+91 98765 43213",provider_name:"Lisa Coach",provider_email:"lisa.coach@example.com",service_name:"Group Fitness",booking_date:"2025-01-10",booking_time:"09:00"},{id:5,booking_id:105,complaint_type:"other",description:"General dissatisfaction with the service quality.",priority:"low",status:"closed",admin_notes:"Issue resolved after discussion with provider.",created_at:"2025-01-08T11:00:00Z",resolved_at:"2025-01-09T15:30:00Z",user_name:"Priya Sharma",user_email:"priya.sharma@example.com",user_phone:"+91 98765 43214",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Yoga Classes",booking_date:"2025-01-07",booking_time:"18:00"}],k1={total_complaints:5,pending_complaints:2,in_progress_complaints:1,resolved_complaints:1,closed_complaints:1,high_priority_complaints:3,medium_priority_complaints:1,low_priority_complaints:1},S1=()=>{const[e,t]=x.useState(_1),[r,n]=x.useState(k1),[a,i]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState("all"),[u,m]=x.useState("all"),[h,y]=x.useState(""),[v,j]=x.useState(!1),[b,p]=x.useState(""),[g,f]=x.useState(""),w=(E,D,Q)=>{j(!0),setTimeout(()=>{t(e.map(R=>R.id===E?{...R,status:D,admin_notes:Q,resolved_at:D==="resolved"||D==="closed"?new Date().toISOString():R.resolved_at}:R));const ne=e.map(R=>R.id===E?{...R,status:D}:R);n({total_complaints:ne.length,pending_complaints:ne.filter(R=>R.status==="pending").length,in_progress_complaints:ne.filter(R=>R.status==="in_progress").length,resolved_complaints:ne.filter(R=>R.status==="resolved").length,closed_complaints:ne.filter(R=>R.status==="closed").length,high_priority_complaints:ne.filter(R=>R.priority==="high").length,medium_priority_complaints:ne.filter(R=>R.priority==="medium").length,low_priority_complaints:ne.filter(R=>R.priority==="low").length}),l(null),p(""),f(""),j(!1)},500)},k=E=>{switch(E){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},A=E=>{switch(E){case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"in_progress":return"bg-blue-100 text-blue-700 border-blue-200";case"resolved":return"bg-green-100 text-green-700 border-green-200";case"closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},C=E=>({service_quality:"Service Quality Issue",provider_behavior:"Provider Behavior",billing_dispute:"Billing Dispute",safety_concern:"Safety Concern",equipment_damage:"Equipment Damage",other:"Other"})[E]||E,S=e.filter(E=>{const D=c==="all"||E.status===c,Q=u==="all"||E.priority===u,ne=h===""||E.user_name.toLowerCase().includes(h.toLowerCase())||E.provider_name.toLowerCase().includes(h.toLowerCase())||E.service_name.toLowerCase().includes(h.toLowerCase())||E.description.toLowerCase().includes(h.toLowerCase());return D&&Q&&ne});return a?s.jsx(gt,{children:s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading complaints..."})]})}):s.jsx(gt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complaint Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and resolve customer complaints"})]})}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Te,{className:"border-0 shadow-lg",children:s.jsx(Ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Complaints"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.total_complaints})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(pt,{size:24,className:"text-blue-600"})})]})})}),s.jsx(Te,{className:"border-0 shadow-lg",children:s.jsx(Ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:r.pending_complaints})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(et,{size:24,className:"text-yellow-600"})})]})})}),s.jsx(Te,{className:"border-0 shadow-lg",children:s.jsx(Ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.in_progress_complaints})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(qr,{size:24,className:"text-blue-600"})})]})})}),s.jsx(Te,{className:"border-0 shadow-lg",children:s.jsx(Ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.resolved_complaints})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ar,{size:24,className:"text-green-600"})})]})})})]}),s.jsx(Te,{className:"border-0 shadow-lg",children:s.jsx(Ae,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dr,{size:20,className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search complaints...",value:h,onChange:E=>y(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]}),s.jsxs("select",{value:u,onChange:E=>m(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Priority"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"low",children:"Low"})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:S.length===0?s.jsx(Te,{className:"border-0 shadow-lg",children:s.jsxs(Ae,{className:"p-12 text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(pt,{size:48,className:"text-gray-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Complaints Found"}),s.jsx("p",{className:"text-gray-600",children:h||c!=="all"||u!=="all"?"No complaints match your filter criteria.":"No complaints have been submitted yet."})]})}):S.map(E=>s.jsx(Te,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:s.jsx(Ae,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4",children:[s.jsxs("div",{className:"mb-4 lg:mb-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C(E.complaint_type)}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${k(E.priority)}`,children:E.priority.toUpperCase()}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${A(E.status)}`,children:E.status.replace("_"," ").toUpperCase()})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:E.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rt,{size:16,className:"mr-2 text-indigo-500"}),s.jsx("span",{children:E.user_name})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ia,{size:16,className:"mr-2 text-indigo-500"}),s.jsx("span",{children:E.user_phone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ze,{size:16,className:"mr-2 text-indigo-500"}),s.jsx("span",{children:new Date(E.booking_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{size:16,className:"mr-2 text-indigo-500"}),s.jsx("span",{children:E.service_name})]})]})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>l(E),className:"border-indigo-200 text-indigo-600 hover:bg-indigo-50",children:[s.jsx(tn,{size:16,className:"mr-2"}),"View Details"]})})]})})},E.id))}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complaint Details"}),s.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(rn,{size:20,className:"text-gray-500"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complaint Type"}),s.jsx("p",{className:"text-gray-900",children:C(o.complaint_type)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Priority"}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${k(o.priority)}`,children:o.priority.toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${A(o.status)}`,children:o.status.replace("_"," ").toUpperCase()})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created At"}),s.jsx("p",{className:"text-gray-900",children:new Date(o.created_at).toLocaleString()})]}),o.resolved_at&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Resolved At"}),s.jsx("p",{className:"text-gray-900",children:new Date(o.resolved_at).toLocaleString()})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),s.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-gray-50 rounded-lg",children:o.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Customer Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user_email]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",o.user_phone]})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Provider Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",o.provider_name]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",o.provider_email]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Service:"})," ",o.service_name]})]})]})]}),o.admin_notes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),s.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-yellow-50 rounded-lg",children:o.admin_notes})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Update Status"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"New Status"}),s.jsxs("select",{value:b,onChange:E=>p(E.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),s.jsx("textarea",{value:g,onChange:E=>f(E.target.value),placeholder:"Add notes about the resolution...",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(M,{onClick:()=>l(null),variant:"outline",className:"flex-1",children:"Cancel"}),s.jsx(M,{onClick:()=>w(o.id,b,g),disabled:!b||v,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:v?"Updating...":"Update Status"})]})]})]})]})]})})]})})};function ch(e,t){return function(){return e.apply(t,arguments)}}const{toString:C1}=Object.prototype,{getPrototypeOf:dd}=Object,{iterator:eo,toStringTag:dh}=Symbol,to=(e=>t=>{const r=C1.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mt=e=>(e=e.toLowerCase(),t=>to(t)===e),ro=e=>t=>typeof t===e,{isArray:on}=Array,Gs=ro("undefined");function la(e){return e!==null&&!Gs(e)&&e.constructor!==null&&!Gs(e.constructor)&&lt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const uh=Mt("ArrayBuffer");function E1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&uh(e.buffer),t}const P1=ro("string"),lt=ro("function"),mh=ro("number"),ca=e=>e!==null&&typeof e=="object",T1=e=>e===!0||e===!1,ei=e=>{if(to(e)!=="object")return!1;const t=dd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(dh in e)&&!(eo in e)},A1=e=>{if(!ca(e)||la(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},z1=Mt("Date"),R1=Mt("File"),L1=Mt("Blob"),$1=Mt("FileList"),I1=e=>ca(e)&&lt(e.pipe),D1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||lt(e.append)&&((t=to(e))==="formdata"||t==="object"&&lt(e.toString)&&e.toString()==="[object FormData]"))},M1=Mt("URLSearchParams"),[O1,F1,U1,B1]=["ReadableStream","Request","Response","Headers"].map(Mt),H1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function da(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),on(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(la(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function fh(e,t){if(la(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ph=e=>!Gs(e)&&e!==Jr;function ec(){const{caseless:e,skipUndefined:t}=ph(this)&&this||{},r={},n=(a,i)=>{const o=e&&fh(r,i)||i;ei(r[o])&&ei(a)?r[o]=ec(r[o],a):ei(a)?r[o]=ec({},a):on(a)?r[o]=a.slice():(!t||!Gs(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&da(arguments[a],n);return r}const V1=(e,t,r,{allOwnKeys:n}={})=>(da(t,(a,i)=>{r&&lt(a)?e[i]=ch(a,r):e[i]=a},{allOwnKeys:n}),e),W1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),q1=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},J1=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&dd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},G1=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},K1=e=>{if(!e)return null;if(on(e))return e;let t=e.length;if(!mh(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Q1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&dd(Uint8Array)),Z1=(e,t)=>{const n=(e&&e[eo]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Y1=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},X1=Mt("HTMLFormElement"),eb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Qu=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),tb=Mt("RegExp"),hh=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};da(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},rb=e=>{hh(e,(t,r)=>{if(lt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(lt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},sb=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return on(e)?n(e):n(String(e).split(t)),r},nb=()=>{},ab=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ib(e){return!!(e&&lt(e.append)&&e[dh]==="FormData"&&e[eo])}const ob=e=>{const t=new Array(10),r=(n,a)=>{if(ca(n)){if(t.indexOf(n)>=0)return;if(la(n))return n;if(!("toJSON"in n)){t[a]=n;const i=on(n)?[]:{};return da(n,(o,l)=>{const c=r(o,a+1);!Gs(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},lb=Mt("AsyncFunction"),cb=e=>e&&(ca(e)||lt(e))&&lt(e.then)&&lt(e.catch),gh=((e,t)=>e?setImmediate:t?((r,n)=>(Jr.addEventListener("message",({source:a,data:i})=>{a===Jr&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Jr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",lt(Jr.postMessage)),db=typeof queueMicrotask<"u"?queueMicrotask.bind(Jr):typeof process<"u"&&process.nextTick||gh,ub=e=>e!=null&&lt(e[eo]),T={isArray:on,isArrayBuffer:uh,isBuffer:la,isFormData:D1,isArrayBufferView:E1,isString:P1,isNumber:mh,isBoolean:T1,isObject:ca,isPlainObject:ei,isEmptyObject:A1,isReadableStream:O1,isRequest:F1,isResponse:U1,isHeaders:B1,isUndefined:Gs,isDate:z1,isFile:R1,isBlob:L1,isRegExp:tb,isFunction:lt,isStream:I1,isURLSearchParams:M1,isTypedArray:Q1,isFileList:$1,forEach:da,merge:ec,extend:V1,trim:H1,stripBOM:W1,inherits:q1,toFlatObject:J1,kindOf:to,kindOfTest:Mt,endsWith:G1,toArray:K1,forEachEntry:Z1,matchAll:Y1,isHTMLForm:X1,hasOwnProperty:Qu,hasOwnProp:Qu,reduceDescriptors:hh,freezeMethods:rb,toObjectSet:sb,toCamelCase:eb,noop:nb,toFiniteNumber:ab,findKey:fh,global:Jr,isContextDefined:ph,isSpecCompliantForm:ib,toJSONObject:ob,isAsyncFn:lb,isThenable:cb,setImmediate:gh,asap:db,isIterable:ub};function oe(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const xh=oe.prototype,yh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yh[e]={value:e}});Object.defineProperties(oe,yh);Object.defineProperty(xh,"isAxiosError",{value:!0});oe.from=(e,t,r,n,a,i)=>{const o=Object.create(xh);T.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return oe.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const mb=null;function tc(e){return T.isPlainObject(e)||T.isArray(e)}function vh(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Zu(e,t,r){return e?e.concat(t).map(function(a,i){return a=vh(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function fb(e){return T.isArray(e)&&!e.some(tc)}const pb=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function so(e,t,r){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,b){return!T.isUndefined(b[j])});const n=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(T.isDate(v))return v.toISOString();if(T.isBoolean(v))return v.toString();if(!c&&T.isBlob(v))throw new oe("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(v)||T.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,j,b){let p=v;if(v&&!b&&typeof v=="object"){if(T.endsWith(j,"{}"))j=n?j:j.slice(0,-2),v=JSON.stringify(v);else if(T.isArray(v)&&fb(v)||(T.isFileList(v)||T.endsWith(j,"[]"))&&(p=T.toArray(v)))return j=vh(j),p.forEach(function(f,w){!(T.isUndefined(f)||f===null)&&t.append(o===!0?Zu([j],w,i):o===null?j:j+"[]",d(f))}),!1}return tc(v)?!0:(t.append(Zu(b,j,i),d(v)),!1)}const m=[],h=Object.assign(pb,{defaultVisitor:u,convertValue:d,isVisitable:tc});function y(v,j){if(!T.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+j.join("."));m.push(v),T.forEach(v,function(p,g){(!(T.isUndefined(p)||p===null)&&a.call(t,p,T.isString(g)?g.trim():g,j,h))===!0&&y(p,j?j.concat(g):[g])}),m.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Yu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ud(e,t){this._pairs=[],e&&so(e,this,t)}const jh=ud.prototype;jh.append=function(t,r){this._pairs.push([t,r])};jh.toString=function(t){const r=t?function(n){return t.call(this,n,Yu)}:Yu;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function hb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bh(e,t,r){if(!t)return e;const n=r&&r.encode||hb;T.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=T.isURLSearchParams(t)?t.toString():new ud(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Xu{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const wh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gb=typeof URLSearchParams<"u"?URLSearchParams:ud,xb=typeof FormData<"u"?FormData:null,yb=typeof Blob<"u"?Blob:null,vb={isBrowser:!0,classes:{URLSearchParams:gb,FormData:xb,Blob:yb},protocols:["http","https","file","blob","url","data"]},md=typeof window<"u"&&typeof document<"u",rc=typeof navigator=="object"&&navigator||void 0,jb=md&&(!rc||["ReactNative","NativeScript","NS"].indexOf(rc.product)<0),bb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wb=md&&window.location.href||"http://localhost",Nb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:md,hasStandardBrowserEnv:jb,hasStandardBrowserWebWorkerEnv:bb,navigator:rc,origin:wb},Symbol.toStringTag,{value:"Module"})),Ke={...Nb,...vb};function _b(e,t){return so(e,new Ke.classes.URLSearchParams,{visitor:function(r,n,a,i){return Ke.isNode&&T.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function kb(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Sb(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function Nh(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&T.isArray(a)?a.length:o,c?(T.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!T.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&T.isArray(a[o])&&(a[o]=Sb(a[o])),!l)}if(T.isFormData(e)&&T.isFunction(e.entries)){const r={};return T.forEachEntry(e,(n,a)=>{t(kb(n),a,r,0)}),r}return null}function Cb(e,t,r){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ua={transitional:wh,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=T.isObject(t);if(i&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return a?JSON.stringify(Nh(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _b(t,this.formSerializer).toString();if((l=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return so(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Cb(t)):t}],transformResponse:[function(t){const r=this.transitional||ua.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?oe.from(l,oe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{ua.headers[e]={}});const Eb=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pb=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&Eb[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},em=Symbol("internals");function jn(e){return e&&String(e).trim().toLowerCase()}function ti(e){return e===!1||e==null?e:T.isArray(e)?e.map(ti):String(e)}function Tb(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Ab=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tl(e,t,r,n,a){if(T.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function zb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Rb(e,t){const r=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let ct=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,d){const u=jn(c);if(!u)throw new Error("header name must be a non-empty string");const m=T.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=ti(l))}const o=(l,c)=>T.forEach(l,(d,u)=>i(d,u,c));if(T.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(T.isString(t)&&(t=t.trim())&&!Ab(t))o(Pb(t),r);else if(T.isObject(t)&&T.isIterable(t)){let l={},c,d;for(const u of t){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?T.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=jn(t),t){const n=T.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Tb(a);if(T.isFunction(r))return r.call(this,a,n);if(T.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=jn(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||tl(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=jn(o),o){const l=T.findKey(n,o);l&&(!r||tl(n,n[l],l,r))&&(delete n[l],a=!0)}}return T.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||tl(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return T.forEach(this,(a,i)=>{const o=T.findKey(n,i);if(o){r[o]=ti(a),delete r[i];return}const l=t?zb(i):String(i).trim();l!==i&&delete r[i],r[l]=ti(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return T.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&T.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[em]=this[em]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=jn(o);n[l]||(Rb(a,o),n[l]=!0)}return T.isArray(t)?t.forEach(i):i(t),this}};ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(ct.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});T.freezeMethods(ct);function rl(e,t){const r=this||ua,n=t||r,a=ct.from(n.headers);let i=n.data;return T.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function _h(e){return!!(e&&e.__CANCEL__)}function ln(e,t,r){oe.call(this,e??"canceled",oe.ERR_CANCELED,t,r),this.name="CanceledError"}T.inherits(ln,oe,{__CANCEL__:!0});function kh(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new oe("Request failed with status code "+r.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Lb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $b(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[a]=c,n[a]=d;let m=i,h=0;for(;m!==a;)h+=r[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const y=u&&d-u;return y?Math.round(h*1e3/y):void 0}}function Ib(e,t){let r=0,n=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-r;m>=n?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-m)))},()=>a&&o(a)]}const zi=(e,t,r=3)=>{let n=0;const a=$b(50,250);return Ib(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=a(c),u=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},tm=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},rm=e=>(...t)=>T.asap(()=>e(...t)),Db=Ke.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ke.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ke.origin),Ke.navigator&&/(msie|trident)/i.test(Ke.navigator.userAgent)):()=>!0,Mb=Ke.hasStandardBrowserEnv?{write(e,t,r,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];T.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),T.isString(n)&&l.push(`path=${n}`),T.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),T.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ob(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Fb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Sh(e,t,r){let n=!Ob(t);return e&&(n||r==!1)?Fb(e,t):t}const sm=e=>e instanceof ct?{...e}:e;function ss(e,t){t=t||{};const r={};function n(d,u,m,h){return T.isPlainObject(d)&&T.isPlainObject(u)?T.merge.call({caseless:h},d,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function a(d,u,m,h){if(T.isUndefined(u)){if(!T.isUndefined(d))return n(void 0,d,m,h)}else return n(d,u,m,h)}function i(d,u){if(!T.isUndefined(u))return n(void 0,u)}function o(d,u){if(T.isUndefined(u)){if(!T.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,m){if(m in t)return n(d,u);if(m in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,m)=>a(sm(d),sm(u),m,!0)};return T.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||a,h=m(e[u],t[u],u);T.isUndefined(h)&&m!==l||(r[u]=h)}),r}const Ch=e=>{const t=ss({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=ct.from(o),t.url=bh(Sh(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),T.isFormData(r)){if(Ke.hasStandardBrowserEnv||Ke.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(T.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&o.set(u,m)})}}if(Ke.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&Db(t.url))){const c=a&&i&&Mb.read(i);c&&o.set(a,c)}return t},Ub=typeof XMLHttpRequest<"u",Bb=Ub&&function(e){return new Promise(function(r,n){const a=Ch(e);let i=a.data;const o=ct.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,m,h,y,v;function j(){y&&y(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function p(){if(!b)return;const f=ct.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:f,config:e,request:b};kh(function(C){r(C),j()},function(C){n(C),j()},k),b=null}"onloadend"in b?b.onloadend=p:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(p)},b.onabort=function(){b&&(n(new oe("Request aborted",oe.ECONNABORTED,e,b)),b=null)},b.onerror=function(w){const k=w&&w.message?w.message:"Network Error",A=new oe(k,oe.ERR_NETWORK,e,b);A.event=w||null,n(A),b=null},b.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||wh;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),n(new oe(w,k.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&T.forEach(o.toJSON(),function(w,k){b.setRequestHeader(k,w)}),T.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),d&&([h,v]=zi(d,!0),b.addEventListener("progress",h)),c&&b.upload&&([m,y]=zi(c),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(u=f=>{b&&(n(!f||f.type?new ln(null,e,b):f),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const g=Lb(a.url);if(g&&Ke.protocols.indexOf(g)===-1){n(new oe("Unsupported protocol "+g+":",oe.ERR_BAD_REQUEST,e));return}b.send(i||null)})},Hb=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof oe?u:new ln(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new oe(`timeout ${t} of ms exceeded`,oe.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>T.asap(l),c}},Vb=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Wb=async function*(e,t){for await(const r of qb(e))yield*Vb(r,t)},qb=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},nm=(e,t,r,n)=>{const a=Wb(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let m=u.byteLength;if(r){let h=i+=m;r(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},am=64*1024,{isFunction:Da}=T,Jb=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:im,TextEncoder:om}=T.global,lm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Gb=e=>{e=T.merge.call({skipUndefined:!0},Jb,e);const{fetch:t,Request:r,Response:n}=e,a=t?Da(t):typeof fetch=="function",i=Da(r),o=Da(n);if(!a)return!1;const l=a&&Da(im),c=a&&(typeof om=="function"?(v=>j=>v.encode(j))(new om):async v=>new Uint8Array(await new r(v).arrayBuffer())),d=i&&l&&lm(()=>{let v=!1;const j=new r(Ke.origin,{body:new im,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!j}),u=o&&l&&lm(()=>T.isReadableStream(new n("").body)),m={stream:u&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(j,b)=>{let p=j&&j[v];if(p)return p.call(j);throw new oe(`Response type '${v}' is not supported`,oe.ERR_NOT_SUPPORT,b)})});const h=async v=>{if(v==null)return 0;if(T.isBlob(v))return v.size;if(T.isSpecCompliantForm(v))return(await new r(Ke.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(T.isArrayBufferView(v)||T.isArrayBuffer(v))return v.byteLength;if(T.isURLSearchParams(v)&&(v=v+""),T.isString(v))return(await c(v)).byteLength},y=async(v,j)=>{const b=T.toFiniteNumber(v.getContentLength());return b??h(j)};return async v=>{let{url:j,method:b,data:p,signal:g,cancelToken:f,timeout:w,onDownloadProgress:k,onUploadProgress:A,responseType:C,headers:S,withCredentials:E="same-origin",fetchOptions:D}=Ch(v),Q=t||fetch;C=C?(C+"").toLowerCase():"text";let ne=Hb([g,f&&f.toAbortSignal()],w),R=null;const Z=ne&&ne.unsubscribe&&(()=>{ne.unsubscribe()});let I;try{if(A&&d&&b!=="get"&&b!=="head"&&(I=await y(S,p))!==0){let F=new r(j,{method:"POST",body:p,duplex:"half"}),V;if(T.isFormData(p)&&(V=F.headers.get("content-type"))&&S.setContentType(V),F.body){const[Y,ee]=tm(I,zi(rm(A)));p=nm(F.body,am,Y,ee)}}T.isString(E)||(E=E?"include":"omit");const H=i&&"credentials"in r.prototype,U={...D,signal:ne,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:p,duplex:"half",credentials:H?E:void 0};R=i&&new r(j,U);let _=await(i?Q(R,D):Q(j,U));const N=u&&(C==="stream"||C==="response");if(u&&(k||N&&Z)){const F={};["status","statusText","headers"].forEach(fe=>{F[fe]=_[fe]});const V=T.toFiniteNumber(_.headers.get("content-length")),[Y,ee]=k&&tm(V,zi(rm(k),!0))||[];_=new n(nm(_.body,am,Y,()=>{ee&&ee(),Z&&Z()}),F)}C=C||"text";let z=await m[T.findKey(m,C)||"text"](_,v);return!N&&Z&&Z(),await new Promise((F,V)=>{kh(F,V,{data:z,headers:ct.from(_.headers),status:_.status,statusText:_.statusText,config:v,request:R})})}catch(H){throw Z&&Z(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,v,R),{cause:H.cause||H}):oe.from(H,H&&H.code,v,R)}}},Kb=new Map,Eh=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,c,d,u=Kb;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:Gb(t)),u=d;return d};Eh();const fd={http:mb,xhr:Bb,fetch:{get:Eh}};T.forEach(fd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cm=e=>`- ${e}`,Qb=e=>T.isFunction(e)||e===null||e===!1;function Zb(e,t){e=T.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!Qb(n)&&(a=fd[(l=String(n)).toLowerCase()],a===void 0))throw new oe(`Unknown adapter '${l}'`);if(a&&(T.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(cm).join(`
`):" "+cm(o[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Ph={getAdapter:Zb,adapters:fd};function sl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ln(null,e)}function dm(e){return sl(e),e.headers=ct.from(e.headers),e.data=rl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ph.getAdapter(e.adapter||ua.adapter,e)(e).then(function(n){return sl(e),n.data=rl.call(e,e.transformResponse,n),n.headers=ct.from(n.headers),n},function(n){return _h(n)||(sl(e),n&&n.response&&(n.response.data=rl.call(e,e.transformResponse,n.response),n.response.headers=ct.from(n.response.headers))),Promise.reject(n)})}const Th="1.13.2",no={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{no[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const um={};no.transitional=function(t,r,n){function a(i,o){return"[Axios v"+Th+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new oe(a(o," has been removed"+(r?" in "+r:"")),oe.ERR_DEPRECATED);return r&&!um[o]&&(um[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};no.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Yb(e,t,r){if(typeof e!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new oe("option "+i+" must be "+c,oe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new oe("Unknown option "+i,oe.ERR_BAD_OPTION)}}const ri={assertOptions:Yb,validators:no},Ut=ri.validators;let Zr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Xu,response:new Xu}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ss(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&ri.assertOptions(n,{silentJSONParsing:Ut.transitional(Ut.boolean),forcedJSONParsing:Ut.transitional(Ut.boolean),clarifyTimeoutError:Ut.transitional(Ut.boolean)},!1),a!=null&&(T.isFunction(a)?r.paramsSerializer={serialize:a}:ri.assertOptions(a,{encode:Ut.function,serialize:Ut.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ri.assertOptions(r,{baseUrl:Ut.spelling("baseURL"),withXsrfToken:Ut.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&T.merge(i.common,i[r.method]);i&&T.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=ct.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(c=c&&j.synchronous,l.unshift(j.fulfilled,j.rejected))});const d=[];this.interceptors.response.forEach(function(j){d.push(j.fulfilled,j.rejected)});let u,m=0,h;if(!c){const v=[dm.bind(this),void 0];for(v.unshift(...l),v.push(...d),h=v.length,u=Promise.resolve(r);m<h;)u=u.then(v[m++],v[m++]);return u}h=l.length;let y=r;for(;m<h;){const v=l[m++],j=l[m++];try{y=v(y)}catch(b){j.call(this,b);break}}try{u=dm.call(this,y)}catch(v){return Promise.reject(v)}for(m=0,h=d.length;m<h;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=ss(this.defaults,t);const r=Sh(t.baseURL,t.url,t.allowAbsoluteUrls);return bh(r,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Zr.prototype[t]=function(r,n){return this.request(ss(n||{},{method:t,url:r,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(ss(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Zr.prototype[t]=r(),Zr.prototype[t+"Form"]=r(!0)});let Xb=class Ah{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new ln(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Ah(function(a){t=a}),cancel:t}}};function ew(e){return function(r){return e.apply(null,r)}}function tw(e){return T.isObject(e)&&e.isAxiosError===!0}const sc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(sc).forEach(([e,t])=>{sc[t]=e});function zh(e){const t=new Zr(e),r=ch(Zr.prototype.request,t);return T.extend(r,Zr.prototype,t,{allOwnKeys:!0}),T.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return zh(ss(e,a))},r}const Re=zh(ua);Re.Axios=Zr;Re.CanceledError=ln;Re.CancelToken=Xb;Re.isCancel=_h;Re.VERSION=Th;Re.toFormData=so;Re.AxiosError=oe;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=ew;Re.isAxiosError=tw;Re.mergeConfig=ss;Re.AxiosHeaders=ct;Re.formToJSON=e=>Nh(T.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=Ph.getAdapter;Re.HttpStatusCode=sc;Re.default=Re;const{Axios:lw,AxiosError:cw,CanceledError:dw,isCancel:uw,CancelToken:mw,VERSION:fw,all:pw,Cancel:hw,isAxiosError:gw,spread:xw,toFormData:yw,AxiosHeaders:vw,HttpStatusCode:jw,formToJSON:bw,getAdapter:ww,mergeConfig:Nw}=Re,rw=()=>{const{token:e}=vt(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState({slug:"",title:"",description:""}),[d,u]=x.useState(!1),m=Re.create({baseURL:"https://prox.mycartly.in/api",headers:{Authorization:`Bearer ${e}`}}),h=async()=>{try{const g=await m.get("/admin/policies");g.data.success&&r(g.data.data)}catch(g){console.error("Error fetching policies:",g)}finally{a(!1)}};x.useEffect(()=>{h()},[]);const y=g=>{o(g.id),c({slug:g.slug,title:g.title,description:g.description}),u(!1)},v=async g=>{if(window.confirm("Are you sure you want to delete this policy?"))try{await m.delete(`/admin/policies/${g}`),h()}catch(f){console.error("Error deleting policy:",f)}},j=async()=>{try{d?await m.post("/admin/policies",l):i&&await m.put(`/admin/policies/${i}`,l),o(null),u(!1),c({slug:"",title:"",description:""}),h()}catch(g){console.error("Error saving policy:",g),alert("Failed to save policy")}},b=()=>{u(!0),o(null),c({slug:"",title:"",description:""})},p=()=>{u(!1),o(null),c({slug:"",title:"",description:""})};return n?s.jsx(gt,{children:s.jsx("div",{className:"p-8",children:"Loading..."})}):s.jsx(gt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Policy Pages"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage dynamic content pages"})]}),s.jsxs(M,{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center",children:[s.jsx(oa,{size:20,className:"mr-2"})," Create New"]})]}),(d||i)&&s.jsx(Te,{className:"border-0 shadow-lg",children:s.jsxs(Ae,{className:"p-6 space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:d?"Create Policy":"Edit Policy"}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),s.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:l.title,onChange:g=>c({...l,title:g.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Slug (URL)"}),s.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:l.slug,onChange:g=>c({...l,slug:g.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Content"}),s.jsx("textarea",{className:"w-full p-2 border rounded h-40",value:l.description,onChange:g=>c({...l,description:g.target.value})})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(M,{variant:"outline",onClick:p,children:[s.jsx(dt,{size:16,className:"mr-2"})," Cancel"]}),s.jsxs(M,{onClick:j,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Zy,{size:16,className:"mr-2"})," Save"]})]})]})]})}),s.jsxs("div",{className:"grid gap-4",children:[t.map(g=>s.jsx(Te,{className:"border-0 shadow hover:shadow-md transition",children:s.jsxs(Ae,{className:"p-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx(Yn,{size:20,className:"mr-2 text-gray-500"})," ",g.title]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["/",g.slug]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{variant:"outline",size:"sm",onClick:()=>y(g),children:s.jsx(ev,{size:16})}),s.jsx(M,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",onClick:()=>v(g.id),children:s.jsx(tv,{size:16})})]})]})},g.id)),t.length===0&&s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No policy pages found."})]})]})})},sw=({children:e,allowedRoles:t=[]})=>{const{user:r,isAuthenticated:n,isLoading:a}=vt();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):n?t.length>0&&(!r||!t.includes(r.role))?(console.log("ProtectedRoute: Role mismatch",{user:r,allowedRoles:t,currentPath:window.location.pathname}),s.jsx(Ei,{to:"/admin/dashboard",replace:!0})):s.jsx(s.Fragment,{children:e}):s.jsx(Ei,{to:"/",replace:!0})},nw=()=>s.jsxs(Eu,{children:[s.jsx(Be,{path:"/",element:s.jsx(Du,{})}),s.jsx(Be,{path:"/admin/login",element:s.jsx(Du,{})}),s.jsx(Be,{path:"/admin/*",element:s.jsx(sw,{allowedRoles:["admin"],children:s.jsxs(Eu,{children:[s.jsx(Be,{path:"/dashboard",element:s.jsx(Ev,{})}),s.jsx(Be,{path:"/providers",element:s.jsx(Fj,{})}),s.jsx(Be,{path:"/users",element:s.jsx(Qj,{})}),s.jsx(Be,{path:"/transactions",element:s.jsx(n1,{})}),s.jsx(Be,{path:"/services",element:s.jsx(m1,{})}),s.jsx(Be,{path:"/categories",element:s.jsx(c1,{})}),s.jsx(Be,{path:"/commission",element:s.jsx(p1,{})}),s.jsx(Be,{path:"/disputes",element:s.jsx(v1,{})}),s.jsx(Be,{path:"/bookings",element:s.jsx(N1,{})}),s.jsx(Be,{path:"/complaints",element:s.jsx(S1,{})}),s.jsx(Be,{path:"/policies",element:s.jsx(rw,{})}),s.jsx(Be,{path:"*",element:s.jsx(Ei,{to:"/admin/dashboard",replace:!0})})]})})}),s.jsx(Be,{path:"*",element:s.jsx(Ei,{to:"/",replace:!0})})]});function aw(){return s.jsx(yy,{children:s.jsx(Ey,{children:s.jsxs(Py,{children:[" ",s.jsx(nw,{}),s.jsx(Ty,{})]})})})}kp(document.getElementById("root")).render(s.jsx(x.StrictMode,{children:s.jsx(aw,{})}));
